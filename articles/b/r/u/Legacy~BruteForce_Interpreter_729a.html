<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:BruteForce/Interpreter - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:BruteForce/Interpreter</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"><span class="subpages">&lt; <a href="../../../../articles/b/r/u/Legacy%7EBruteForce_e5eb.html" title="Legacy:BruteForce">Legacy:BruteForce</a></span></div>
	    	    	    <!-- start content -->
	    <div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">class</span> Interpreter <span class="kw5">extends</span> <a href="/Object"><span class="kw10">Object</span></a> <span class="kw6">dependsOn</span><span class="br0">(</span>AST<span class="br0">)</span> <span class="kw6">dependsOn</span><span class="br0">(</span>Scope<span class="br0">)</span> <span class="kw6">dependsOn</span><span class="br0">(</span>Compiler<span class="br0">)</span>;
 
<span class="kw5">var</span> <span class="kw6">private</span> AST a;
<span class="kw5">var</span> <span class="kw6">private</span> Scope s;
<span class="kw5">var</span> <span class="kw6">private</span> array&lt;string&gt; <span class="kw6">input</span>;
 
<span class="co1">// keywords</span>
<span class="kw5">const</span> __BEGIN                 = <span class="st0">"begin"</span>;
<span class="kw5">const</span> __VAR                   = <span class="st0">"var"</span>;
<span class="kw5">const</span> __INTEGER               = <span class="st0">"int"</span>;
<span class="kw5">const</span> __STRING                = <span class="st0">"string"</span>;
<span class="kw5">const</span> __FLOAT                 = <span class="st0">"float"</span>;
<span class="kw5">const</span> __BOOLEAN               = <span class="st0">"bool"</span>;
<span class="kw5">const</span> __FUNC                  = <span class="st0">"function"</span>;
<span class="kw5">const</span> __BECOMES               = <span class="st0">"="</span>;
<span class="kw5">const</span> __WHILE                 = <span class="st0">"while"</span>;
<span class="kw5">const</span> __IF                    = <span class="st0">"if"</span>;
<span class="kw5">const</span> __LT                    = <span class="st0">"&lt;"</span>;
<span class="kw5">const</span> __LE                    = <span class="st0">"&lt;="</span>;
<span class="kw5">const</span> __GT                    = <span class="st0">"&gt;"</span>;
<span class="kw5">const</span> __GE                    = <span class="st0">"&gt;="</span>;
<span class="kw5">const</span> __EQ                    = <span class="st0">"=="</span>;
<span class="kw5">const</span> __NE                    = <span class="st0">"!="</span>;
<span class="kw5">const</span> __AND                   = <span class="st0">"&amp;&amp;"</span>;
<span class="kw5">const</span> __OR                    = <span class="st0">"||"</span>;
<span class="kw5">const</span> __PLUS                  = <span class="st0">"+"</span>;
<span class="kw5">const</span> __MINUS                 = <span class="st0">"-"</span>;
<span class="kw5">const</span> __MULTIPLY              = <span class="st0">"*"</span>;
<span class="kw5">const</span> __DIVIDE                = <span class="st0">"/"</span>;
<span class="kw5">const</span> __MOD                   = <span class="st0">"%"</span>;
<span class="kw5">const</span> __NOT                   = <span class="st0">"!"</span>;
<span class="kw5">const</span> __TRUE                  = <span class="st0">"true"</span>;
<span class="kw5">const</span> __FALSE                 = <span class="st0">"false"</span>;
<span class="co1">// terminals -- end</span>
</pre></div>
<p>These are the keywords that we can encounter in the AST</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">const</span> FUNCRESULT              = <span class="st0">"result"</span>;
</pre></div>
<p>the name of the default local variable of function, the one that will contain the result.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">function</span> Create<span class="br0">(</span>AST inAst, Scope inScope, array&lt;string&gt; inInput<span class="br0">)</span>
<span class="br0">{</span>
  a = inAst;
  s = inScope;
  <span class="kw6">input</span> = inInput;
<span class="br0">}</span>
 
<span class="kw5">function</span> Execute<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw5">local</span> <span class="kw4">int</span> i;
  <span class="kw1">for</span> <span class="br0">(</span>i = <span class="nu0">0</span>; i &lt; a.<span class="me1">Tree</span>.<span class="kw6">length</span>; i++<span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">parent</span> == <span class="nu0">-1</span><span class="br0">)</span> ExecuteRoot<span class="br0">(</span>i<span class="br0">)</span>;
  <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
<p>Execute will walk through all the tree nodes to search for the main root nodes, without a parent, and execute those.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw6">private</span> <span class="kw5">function</span> ExecuteRoot<span class="br0">(</span><span class="kw4">int</span> node<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw5">local</span> Scope.<span class="me1">Declaration</span> d;
  <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">type</span> == NT_Keyword<span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __VAR<span class="br0">)</span> _var<span class="br0">(</span>node<span class="br0">)</span>;
    <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __BECOMES<span class="br0">)</span> _assignment<span class="br0">(</span>node<span class="br0">)</span>;
    <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __IF<span class="br0">)</span> _ifthenelse<span class="br0">(</span>node<span class="br0">)</span>;
    <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __WHILE<span class="br0">)</span> _whiledo<span class="br0">(</span>node<span class="br0">)</span>;
    <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __FUNC<span class="br0">)</span> _function<span class="br0">(</span>node<span class="br0">)</span>;
  <span class="br0">}</span>
  <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">type</span> == NT_Function<span class="br0">)</span>
  <span class="br0">{</span>
    d = _functioncall<span class="br0">(</span>node<span class="br0">)</span>;
  <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
<p>This will execute a root node. A root node can be a variable or function declaration, an assigment, if statement , while statement or a function call.</p>
<p>Each node type has it's own way of handling, but basically it's all the same. Each function will be called with the current AST node to use.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="coMULTI">/**
  returns the value of the nth child
*/</span>
<span class="kw6">private</span> <span class="kw5">function</span> <span class="kw4">string</span> ChildValue<span class="br0">(</span><span class="kw4">int</span> node, <span class="kw6">optional</span> <span class="kw4">int</span> n<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw1">return</span> a.<span class="me1">Tree</span><span class="br0">[</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">children</span><span class="br0">[</span>n<span class="br0">]</span><span class="br0">]</span>.<span class="me1">value</span>;
<span class="br0">}</span>
 
<span class="coMULTI">/**
  returns the id of the nth child
*/</span>
<span class="kw6">private</span> <span class="kw5">function</span> <span class="kw4">int</span> Child<span class="br0">(</span><span class="kw4">int</span> node, <span class="kw6">optional</span> <span class="kw4">int</span> n<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw1">return</span> a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">children</span><span class="br0">[</span>n<span class="br0">]</span>;
<span class="br0">}</span>
</pre></div>
<p>These two function has as only purpose to keep the code below a bit more readable. Just imagine what a mess it would be if I repeated the above code in the rest of the class.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="coMULTI">/**
  converts BruteForce bool to UScript bool
*/</span>
<span class="kw6">private</span> <span class="kw5">function</span> <span class="kw4">bool</span> boolean<span class="br0">(</span><span class="kw4">string</span> in<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw1">return</span> !<span class="br0">(</span>in ~= __FALSE<span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="coMULTI">/**
  uscript bool to BruteForce bool
*/</span>
<span class="kw6">private</span> <span class="kw5">function</span> <span class="kw4">string</span> boolToString<span class="br0">(</span><span class="kw4">bool</span> in<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw1">if</span> <span class="br0">(</span>in<span class="br0">)</span> <span class="kw1">return</span> __TRUE;
  <span class="kw1">else</span> <span class="kw1">return</span> __FALSE;
<span class="br0">}</span>
</pre></div>
<p>We can't use the built-in boolean type cast because out bools are <i>true</i> and <i>false</i> instead of <i>not 0</i> and <i>0</i>.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="coMULTI">/**
  Convert from one type to the other
*/</span>
<span class="kw6">private</span> <span class="kw5">function</span> Scope.<span class="me1">Declaration</span> typeCast<span class="br0">(</span>Scope.<span class="me1">Declaration</span> d, Scope.<span class="me1">DeclarationType</span> type<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw1">if</span> <span class="br0">(</span>d.<span class="me1">type</span> == type<span class="br0">)</span> <span class="kw1">return</span> d;
  <span class="kw1">if</span> <span class="br0">(</span>type == DT_Int<span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw1">if</span> <span class="br0">(</span>d.<span class="me1">type</span> == DT_Bool<span class="br0">)</span> d.<span class="me1">value</span> = <span class="kw4">String</span><span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>boolean<span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>;
    <span class="kw1">else</span> d.<span class="me1">value</span> = <span class="kw4">String</span><span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
    d.<span class="me1">type</span> = DT_Int;
  <span class="br0">}</span>
  <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>type == DT_Int<span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw1">if</span> <span class="br0">(</span>d.<span class="me1">type</span> == DT_Bool<span class="br0">)</span> d.<span class="me1">value</span> = <span class="kw4">String</span><span class="br0">(</span><span class="kw4">Float</span><span class="br0">(</span>boolean<span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>;
    <span class="kw1">else</span> d.<span class="me1">value</span> = <span class="kw4">String</span><span class="br0">(</span><span class="kw4">Float</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
    d.<span class="me1">type</span> = DT_Float;
  <span class="br0">}</span>
  <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>type == DT_Bool<span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw1">if</span> <span class="br0">(</span>d.<span class="me1">type</span> == DT_String<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span>d.<span class="me1">value</span> != <span class="st0">""</span><span class="br0">)</span>;
    <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>d.<span class="me1">type</span> == DT_Int<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> != <span class="nu0">0</span><span class="br0">)</span>;
    <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>d.<span class="me1">type</span> == DT_Float<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Float</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> != <span class="nu0">0.0</span><span class="br0">)</span>;
    <span class="kw1">else</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span>Boolean<span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
    d.<span class="me1">type</span> = DT_Bool;
  <span class="br0">}</span>
  <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>type == DT_String<span class="br0">)</span>
  <span class="br0">{</span>
    d.<span class="me1">type</span> = DT_String;
  <span class="br0">}</span>
  <span class="kw1">return</span> d;
<span class="br0">}</span>
</pre></div>
<p>This function makes type completeness possible, each type will be converted into an other type.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw6">private</span> <span class="kw5">function</span> _var<span class="br0">(</span><span class="kw4">int</span> node, <span class="kw6">optional</span> <span class="kw4">string</span> initval<span class="br0">)</span>
<span class="br0">{</span>
                   <span class="co1">// name                                 value</span>
  s.<span class="me1">newDeclaration</span><span class="br0">(</span>ChildValue<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, s.<span class="me1">stringToType</span><span class="br0">(</span>ChildValue<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span>, initval<span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
<p>Declare a new variable in the current scope. The optional initval is used during the passing of the function arguments.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw6">private</span> <span class="kw5">function</span> _assignment<span class="br0">(</span><span class="kw4">int</span> node<span class="br0">)</span>
<span class="br0">{</span>                  <span class="co1">// name              expression            left hand type</span>
  s.<span class="me1">setDeclaration</span><span class="br0">(</span>ChildValue<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span>, typeCast<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span>, s.<span class="me1">getType</span><span class="br0">(</span>ChildValue<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>.<span class="me1">value</span> <span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">private</span> <span class="kw5">function</span> _ifthenelse<span class="br0">(</span><span class="kw4">int</span> node<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw1">if</span> <span class="br0">(</span>boolean<span class="br0">(</span>typeCast<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span>, DT_Bool<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span> <span class="co1">//if true</span>
  <span class="br0">{</span>
    _codeblock<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span>; <span class="co1">// then</span>
  <span class="br0">}</span>
  <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">children</span>.<span class="kw6">length</span> &gt;= <span class="nu0">3</span><span class="br0">)</span> <span class="co1">// else</span>
  <span class="br0">{</span>
    _codeblock<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">2</span><span class="br0">)</span><span class="br0">)</span>;
  <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
<p>Check if the first child node evaluates to <i>true</i>, and if so execute the second child node which is the <i>then</i> statement. If not check if there's a third child (the optional <i>else</i> part), and execute it.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw6">private</span> <span class="kw5">function</span> _whiledo<span class="br0">(</span><span class="kw4">int</span> node<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw1">while</span> <span class="br0">(</span>boolean<span class="br0">(</span>typeCast<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span>, DT_Bool<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span> <span class="co1">//while true</span>
  <span class="br0">{</span>
    _codeblock<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span>; <span class="co1">// do</span>
  <span class="br0">}</span>  
<span class="br0">}</span>
 
<span class="kw6">private</span> <span class="kw5">function</span> _codeblock<span class="br0">(</span><span class="kw4">int</span> node<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw5">local</span> <span class="kw4">int</span> i;
  <span class="kw1">if</span> <span class="br0">(</span><span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">type</span> == NT_Keyword<span class="br0">)</span> &amp;&amp; <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __BEGIN<span class="br0">)</span><span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw1">for</span> <span class="br0">(</span>i = <span class="nu0">0</span>; i &lt; a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">children</span>.<span class="kw6">length</span>; i++<span class="br0">)</span>
    <span class="br0">{</span>
      ExecuteRoot<span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">children</span><span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span>;
    <span class="br0">}</span>
  <span class="br0">}</span>
  <span class="kw1">else</span> <span class="br0">{</span>
    ExecuteRoot<span class="br0">(</span>node<span class="br0">)</span>;
  <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
<p>If the current node is a <i>begin</i> root node we will execute all it's children, if not it's just a single statement and we execute that one.</p>
<p>Note that I just call the ExecuteRoot function, this means that there is a possibility for inline variable and function declaration even tho the language specification doesn't allow it the interpreter accepts it.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw6">private</span> <span class="kw5">function</span> Scope.<span class="me1">Declaration</span> _expr<span class="br0">(</span><span class="kw4">int</span> node, <span class="kw6">optional</span> Scope.<span class="me1">DeclarationType</span> type<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw1">return</span> _boolex<span class="br0">(</span>node, type<span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">private</span> <span class="kw5">function</span> Scope.<span class="me1">Declaration</span> _boolex<span class="br0">(</span><span class="kw4">int</span> node, <span class="kw6">optional</span> Scope.<span class="me1">DeclarationType</span> type<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw5">local</span> Scope.<span class="me1">Declaration</span> d;
  <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">type</span> == NT_Keyword<span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __LT<span class="br0">)</span>
    <span class="br0">{</span>
      d = _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span>, type<span class="br0">)</span>;
      type = d.<span class="me1">type</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Int<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> &lt; <span class="kw4">Int</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Float<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Float</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> &lt; <span class="kw4">Float</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Bool<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>Boolean<span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span> &lt; <span class="kw4">Int</span><span class="br0">(</span>Boolean<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_String<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span>d.<span class="me1">value</span> &lt; _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span>;
      d.<span class="me1">type</span> = DT_Bool;
      <span class="kw1">return</span> d;
    <span class="br0">}</span>
    <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __LE<span class="br0">)</span>
    <span class="br0">{</span>
      d = _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span>, type<span class="br0">)</span>;
      type = d.<span class="me1">type</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Int<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> &lt;= <span class="kw4">Int</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Float<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Float</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> &lt;= <span class="kw4">Float</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Bool<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>Boolean<span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span> &lt;= <span class="kw4">Int</span><span class="br0">(</span>Boolean<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_String<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span>d.<span class="me1">value</span> &lt;= _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span>;
      d.<span class="me1">type</span> = DT_Bool;
      <span class="kw1">return</span> d;
    <span class="br0">}</span>
    <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __GT<span class="br0">)</span>
    <span class="br0">{</span>
      d = _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span>, type<span class="br0">)</span>;
      type = d.<span class="me1">type</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Int<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> &gt; <span class="kw4">Int</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Float<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Float</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> &gt; <span class="kw4">Float</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Bool<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>Boolean<span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span> &gt; <span class="kw4">Int</span><span class="br0">(</span>Boolean<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_String<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span>d.<span class="me1">value</span> &gt; _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span>;
      d.<span class="me1">type</span> = DT_Bool;
      <span class="kw1">return</span> d;
    <span class="br0">}</span>
    <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __GE<span class="br0">)</span>
    <span class="br0">{</span>
      d = _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span>, type<span class="br0">)</span>;
      type = d.<span class="me1">type</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Int<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> &gt;= <span class="kw4">Int</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Float<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Float</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> &gt;= <span class="kw4">Float</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Bool<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>Boolean<span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span> &gt;= <span class="kw4">Int</span><span class="br0">(</span>Boolean<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_String<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span>d.<span class="me1">value</span> &gt;= _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span>;
      d.<span class="me1">type</span> = DT_Bool;
      <span class="kw1">return</span> d;
    <span class="br0">}</span>
    <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __EQ<span class="br0">)</span>
    <span class="br0">{</span>
      d = _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span>, type<span class="br0">)</span>;
      type = d.<span class="me1">type</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Int<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> == <span class="kw4">Int</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Float<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Float</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> == <span class="kw4">Float</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Bool<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span>Boolean<span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> == Boolean<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_String<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span>d.<span class="me1">value</span> == _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span>;
      d.<span class="me1">type</span> = DT_Bool;
      <span class="kw1">return</span> d;
    <span class="br0">}</span>
    <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __NE<span class="br0">)</span>
    <span class="br0">{</span>
      d = _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span>, type<span class="br0">)</span>;
      type = d.<span class="me1">type</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Int<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> != <span class="kw4">Int</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Float<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span><span class="kw4">Float</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> != <span class="kw4">Float</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Bool<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span>Boolean<span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> != Boolean<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_String<span class="br0">)</span> d.<span class="me1">value</span> = boolToString<span class="br0">(</span>d.<span class="me1">value</span> != _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span>;
      d.<span class="me1">type</span> = DT_Bool;
      <span class="kw1">return</span> d;
    <span class="br0">}</span>
    <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __AND<span class="br0">)</span>
    <span class="br0">{</span>
      d = _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span>;
      d.<span class="me1">value</span> = boolToString<span class="br0">(</span> Boolean<span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> &amp;&amp; Boolean<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span> <span class="br0">)</span>;
      d.<span class="me1">type</span> = DT_Bool;
      <span class="kw1">return</span> d;
    <span class="br0">}</span>
    <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __OR<span class="br0">)</span>
    <span class="br0">{</span>
      d = _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span>;
      d.<span class="me1">value</span> = boolToString<span class="br0">(</span>Boolean<span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> || Boolean<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      d.<span class="me1">type</span> = DT_Bool;
      <span class="kw1">return</span> d;
    <span class="br0">}</span>
  <span class="br0">}</span>
  <span class="kw1">return</span> _accum<span class="br0">(</span>node, type<span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
<p>Right hand side will be type casted to the left hand side, that's why we temporarily save the result of the left hand side so that we can pass the type to the right hand side.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw6">private</span> <span class="kw5">function</span> Scope.<span class="me1">Declaration</span> _accum<span class="br0">(</span><span class="kw4">int</span> node, <span class="kw6">optional</span> Scope.<span class="me1">DeclarationType</span> type<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw5">local</span> Scope.<span class="me1">Declaration</span> d;
  <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">type</span> == NT_Keyword<span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __PLUS<span class="br0">)</span>
    <span class="br0">{</span>
      d = _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span>, type<span class="br0">)</span>;
      type = d.<span class="me1">type</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Int<span class="br0">)</span> d.<span class="me1">value</span> = <span class="kw4">String</span><span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> + <span class="kw4">Int</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Float<span class="br0">)</span> d.<span class="me1">value</span> = <span class="kw4">String</span><span class="br0">(</span><span class="kw4">Float</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> + <span class="kw4">Float</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Bool<span class="br0">)</span> d.<span class="me1">value</span> = <span class="kw4">String</span><span class="br0">(</span>Boolean<span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> &amp;&amp; !Boolean<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_String<span class="br0">)</span> d.<span class="me1">value</span> = d.<span class="me1">value</span> $ _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span>;
      <span class="kw1">return</span> d;
    <span class="br0">}</span>
    <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __MINUS<span class="br0">)</span>
    <span class="br0">{</span>
      d = _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span>, type<span class="br0">)</span>;
      type = d.<span class="me1">type</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Int<span class="br0">)</span> d.<span class="me1">value</span> = <span class="kw4">String</span><span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> - <span class="kw4">Int</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Float<span class="br0">)</span> d.<span class="me1">value</span> = <span class="kw4">String</span><span class="br0">(</span><span class="kw4">Float</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> - <span class="kw4">Float</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Bool<span class="br0">)</span> d.<span class="me1">value</span> = <span class="kw4">String</span><span class="br0">(</span>Boolean<span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> &amp;&amp; !Boolean<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_String<span class="br0">)</span> _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span>;
      <span class="kw1">return</span> d;
    <span class="br0">}</span>
  <span class="br0">}</span>
  <span class="kw1">return</span> _mult<span class="br0">(</span>node, type<span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">private</span> <span class="kw5">function</span> Scope.<span class="me1">Declaration</span> _mult<span class="br0">(</span><span class="kw4">int</span> node, <span class="kw6">optional</span> Scope.<span class="me1">DeclarationType</span> type<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw5">local</span> Scope.<span class="me1">Declaration</span> d;
  <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">type</span> == NT_Keyword<span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __MULTIPLY<span class="br0">)</span>
    <span class="br0">{</span>
      d = _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span>, type<span class="br0">)</span>;
      type = d.<span class="me1">type</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Int<span class="br0">)</span> d.<span class="me1">value</span> = <span class="kw4">String</span><span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> * <span class="kw4">Int</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Float<span class="br0">)</span> d.<span class="me1">value</span> = <span class="kw4">String</span><span class="br0">(</span><span class="kw4">Float</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> * <span class="kw4">Float</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Bool<span class="br0">)</span> d.<span class="me1">value</span> = <span class="kw4">String</span><span class="br0">(</span>Boolean<span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> || Boolean<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>; 
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_String<span class="br0">)</span> _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>; <span class="co1">// ??</span>
      <span class="kw1">return</span> d;
    <span class="br0">}</span>
    <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __DIVIDE<span class="br0">)</span>
    <span class="br0">{</span>
      d = _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span>, type<span class="br0">)</span>;
      type = d.<span class="me1">type</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Int<span class="br0">)</span> d.<span class="me1">value</span> =  <span class="kw4">String</span><span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> / <span class="kw4">Int</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Float<span class="br0">)</span> d.<span class="me1">value</span> = <span class="kw4">String</span><span class="br0">(</span><span class="kw4">Float</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> / <span class="kw4">Float</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Bool<span class="br0">)</span> d.<span class="me1">value</span> = <span class="kw4">String</span><span class="br0">(</span>Boolean<span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> || !Boolean<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>; 
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_String<span class="br0">)</span> _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>; <span class="co1">//?</span>
      <span class="kw1">return</span> d;
    <span class="br0">}</span>
    <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __MOD<span class="br0">)</span>
    <span class="br0">{</span>
      d = _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span>, type<span class="br0">)</span>;
      type = d.<span class="me1">type</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Int<span class="br0">)</span> d.<span class="me1">value</span> =  <span class="kw4">String</span><span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span><span class="kw4">Int</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> % <span class="kw4">Int</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Float<span class="br0">)</span> d.<span class="me1">value</span> = <span class="kw4">String</span><span class="br0">(</span><span class="kw4">Float</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span> % <span class="kw4">Float</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_Bool<span class="br0">)</span> _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>; <span class="co1">// ??</span>
      <span class="kw1">if</span> <span class="br0">(</span>type == DT_String<span class="br0">)</span> _expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, type<span class="br0">)</span>; <span class="co1">//?</span>
      <span class="kw1">return</span> d;
    <span class="br0">}</span>
  <span class="br0">}</span>
  <span class="kw1">return</span> _preop<span class="br0">(</span>node, type<span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">private</span> <span class="kw5">function</span> Scope.<span class="me1">Declaration</span> _preop<span class="br0">(</span><span class="kw4">int</span> node, <span class="kw6">optional</span> Scope.<span class="me1">DeclarationType</span> type<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw5">local</span> Scope.<span class="me1">Declaration</span> d;
  <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">type</span> == NT_Keyword<span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> == __NOT<span class="br0">)</span>
    <span class="br0">{</span>
      d.<span class="me1">type</span> = DT_Bool;
      d.<span class="me1">value</span> = BoolToString<span class="br0">(</span>!Boolean<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span>, DT_Bool<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">)</span>;
      <span class="kw1">return</span> d;
    <span class="br0">}</span>
  <span class="br0">}</span>
  <span class="kw1">return</span> _operand<span class="br0">(</span>node, type<span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">private</span> <span class="kw5">function</span> Scope.<span class="me1">Declaration</span> _operand<span class="br0">(</span><span class="kw4">int</span> node, <span class="kw6">optional</span> Scope.<span class="me1">DeclarationType</span> type<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw5">local</span> Scope.<span class="me1">Declaration</span> d;
  d.<span class="me1">value</span> = a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span>;
  <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">type</span> == NT_Identifier<span class="br0">)</span>
  <span class="br0">{</span>
    d = s.<span class="me1">getDeclaration</span><span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span><span class="br0">)</span>;
  <span class="br0">}</span>
  <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">type</span> == NT_String<span class="br0">)</span>
  <span class="br0">{</span>
    d.<span class="me1">type</span> = DT_String;
  <span class="br0">}</span>
  <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">type</span> == NT_Boolean<span class="br0">)</span>
  <span class="br0">{</span>
    d.<span class="me1">type</span> = DT_Bool;
  <span class="br0">}</span>
  <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">type</span> == NT_Integer<span class="br0">)</span>
  <span class="br0">{</span>
    d.<span class="me1">type</span> = DT_Int;
  <span class="br0">}</span>
  <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">type</span> == NT_Float<span class="br0">)</span>
  <span class="br0">{</span>
    d.<span class="me1">type</span> = DT_Float;
  <span class="br0">}</span>
  <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">type</span> == NT_Function<span class="br0">)</span>
  <span class="br0">{</span>
    d = _functioncall<span class="br0">(</span>node<span class="br0">)</span>;
  <span class="br0">}</span>
  <span class="kw1">else</span> <span class="br0">{</span>
    <span class="kw7">Warn</span><span class="br0">(</span><span class="st0">"Unexpected node:"</span>@a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span><span class="br0">)</span>;
    <span class="kw1">Assert</span><span class="br0">(</span><span class="kw9">false</span><span class="br0">)</span>;
  <span class="br0">}</span>
  <span class="kw1">if</span> <span class="br0">(</span><span class="br0">(</span>type != DT_None<span class="br0">)</span> &amp;&amp; <span class="br0">(</span>d.<span class="me1">type</span> != type<span class="br0">)</span><span class="br0">)</span> d = typeCast<span class="br0">(</span>d, type<span class="br0">)</span>; <span class="co1">// from to</span>
  <span class="kw1">return</span> d;
<span class="br0">}</span>
 
<span class="kw6">private</span> <span class="kw5">function</span> Scope.<span class="me1">Declaration</span> _functioncall<span class="br0">(</span><span class="kw4">int</span> node<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw5">local</span> Scope.<span class="me1">Declaration</span> d;
  <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> ~= <span class="st0">"print"</span><span class="br0">)</span>
  <span class="br0">{</span>
    d = typeCast<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span>, DT_String<span class="br0">)</span>;
    <span class="kw7">log</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span>;
    <span class="kw1">return</span> d;
  <span class="br0">}</span>
  <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> ~= <span class="st0">"argc"</span><span class="br0">)</span>
  <span class="br0">{</span>
    d.<span class="me1">type</span> = DT_Int;
    d.<span class="me1">value</span> = <span class="kw4">String</span><span class="br0">(</span><span class="kw6">input</span>.<span class="kw6">length</span><span class="br0">)</span>;
    <span class="kw1">return</span> d;
  <span class="br0">}</span>
  <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> ~= <span class="st0">"argv"</span><span class="br0">)</span>
  <span class="br0">{</span>
    d.<span class="me1">type</span> = DT_String;
    d.<span class="me1">value</span> = <span class="kw6">input</span><span class="br0">[</span><span class="kw4">Int</span><span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span>, DT_Int<span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span><span class="br0">]</span>;
    <span class="kw1">return</span> d;
  <span class="br0">}</span>
  <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> ~= <span class="st0">"int"</span><span class="br0">)</span>
  <span class="br0">{</span>
    d = typeCast<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span>, DT_Int<span class="br0">)</span>;
    <span class="kw1">return</span> d;
  <span class="br0">}</span>
  <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> ~= <span class="st0">"float"</span><span class="br0">)</span>
  <span class="br0">{</span>
    d = typeCast<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span>, DT_Float<span class="br0">)</span>;
    <span class="kw1">return</span> d;
  <span class="br0">}</span>
  <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> ~= <span class="st0">"string"</span><span class="br0">)</span>
  <span class="br0">{</span>
    d = typeCast<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span>, DT_String<span class="br0">)</span>;
    <span class="kw1">return</span> d;
  <span class="br0">}</span>
  <span class="kw1">if</span> <span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span> ~= <span class="st0">"bool"</span><span class="br0">)</span>
  <span class="br0">{</span>
    d = typeCast<span class="br0">(</span>_expr<span class="br0">(</span>Child<span class="br0">(</span>node, <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span>, DT_Bool<span class="br0">)</span>;
    <span class="kw1">return</span> d;
  <span class="br0">}</span>
  <span class="kw1">else</span> <span class="br0">{</span>
    d = s.<span class="me1">getDeclaration</span><span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span>, DT_Function<span class="br0">)</span>;
    d = _execfunction<span class="br0">(</span><span class="kw4">int</span><span class="br0">(</span>d.<span class="me1">value</span><span class="br0">)</span>, node<span class="br0">)</span>;
    <span class="kw1">return</span> d;
  <span class="br0">}</span>
  <span class="kw7">Warn</span><span class="br0">(</span><span class="st0">"Undeclared function:"</span>@a.<span class="me1">Tree</span><span class="br0">[</span>node<span class="br0">]</span>.<span class="me1">value</span><span class="br0">)</span>;
  <span class="kw1">Assert</span><span class="br0">(</span><span class="kw9">false</span><span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
<p>First check if the function call is a built-in function, otherwise look if there's a custom function defined. If so, execute that node.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw6">private</span> <span class="kw5">function</span> _function<span class="br0">(</span><span class="kw4">int</span> node<span class="br0">)</span>
<span class="br0">{</span>
  <span class="co1">//               function name        </span>
  s.<span class="me1">newDeclaration</span><span class="br0">(</span>ChildValue<span class="br0">(</span>node, <span class="nu0">1</span><span class="br0">)</span>, DT_Function, <span class="kw4">string</span><span class="br0">(</span>node<span class="br0">)</span><span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
<p>A function declaration, just take the first node and skip the rest. We only need to read the rest when the function is executed.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw6">private</span> <span class="kw5">function</span> Scope.<span class="me1">Declaration</span> _execfunction<span class="br0">(</span><span class="kw4">int</span> func, <span class="kw4">int</span> node<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw5">local</span> Scope.<span class="me1">Declaration</span> d;
  <span class="kw5">local</span> <span class="kw4">int</span> i, j;
  s.<span class="me1">openScope</span><span class="br0">(</span><span class="br0">)</span>;                      
  s.<span class="me1">newDeclaration</span><span class="br0">(</span>FUNCRESULT, s.<span class="me1">stringToType</span><span class="br0">(</span>ChildValue<span class="br0">(</span>func, <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>; <span class="co1">// return type</span>
  j = Child<span class="br0">(</span>func, <span class="nu0">1</span><span class="br0">)</span>;
  <span class="kw1">for</span> <span class="br0">(</span>i = <span class="nu0">0</span>; i &lt; a.<span class="me1">tree</span><span class="br0">[</span>j<span class="br0">]</span>.<span class="me1">children</span>.<span class="kw6">length</span>; i++<span class="br0">)</span>
  <span class="br0">{</span>
    _var<span class="br0">(</span>Child<span class="br0">(</span>j, i<span class="br0">)</span>, _expr<span class="br0">(</span>Child<span class="br0">(</span>node, i<span class="br0">)</span><span class="br0">)</span>.<span class="me1">value</span><span class="br0">)</span>;
  <span class="br0">}</span>
  <span class="kw1">for</span> <span class="br0">(</span>i = <span class="nu0">2</span>; i &lt; a.<span class="me1">tree</span><span class="br0">[</span>func<span class="br0">]</span>.<span class="me1">children</span>.<span class="kw6">length</span>; i++<span class="br0">)</span> <span class="co1">// 0 = return type, 1 = function name</span>
  <span class="br0">{</span>
    ExecuteRoot<span class="br0">(</span>a.<span class="me1">Tree</span><span class="br0">[</span>func<span class="br0">]</span>.<span class="me1">children</span><span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span>;
  <span class="br0">}</span>
  d = s.<span class="me1">getDeclaration</span><span class="br0">(</span>FUNCRESULT<span class="br0">)</span>;
  s.<span class="me1">closeScope</span><span class="br0">(</span><span class="br0">)</span>;
  <span class="kw1">return</span> d;
<span class="br0">}</span>
</pre></div>
<p>Jump to the node where the function is declared. We need node of the function call because we need to input arguments. We only read the number of argument that are defined. So it's possible to enter more arguments in a function call than required, we just ignore them.</p>
<p>Each function argument is a local variable with an initial value, which would be the result of the expression passed to it.</p>
<p>When we enter the function we will first open a new scope level, this is to distinguish local and global variables. A local and global variable may have the same name, but the most local variable is just.</p>

<!-- 
NewPP limit report
Preprocessor node count: 43/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/b/r/u/Legacy%7EBruteForce_Interpreter_729a.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/b/r/u/Legacy_talk%7EBruteForce_Interpreter_98f8.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:BruteForce/Interpreter">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 15:40, 24 April 2003 by Anonymous user(s) of Unreal Wiki. </li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
