<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:Rich Zap - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:Rich Zap</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <p>Right so after several years of using this place i finally get round to putting something back. Im currently a member of a barely known mod team called Anomalous Mods, we are currently producing the Third Contingent mod (<a href="http://3c.moddb.com" class="external free" title="http://3c.moddb.com" rel="nofollow">http://3c.moddb.com</a>). But i am also working on several other projects...</p>
<p>Although i am now a relatively skilled coder i did find it hard to learn Uscript at first through the wikis tutorials. It wasnt until i found Tuco's tutorial page (<a href="http://www.student.oulu.fi/~tkorva/ut2004devtips.html" class="external free" title="http://www.student.oulu.fi/~tkorva/ut2004devtips.html" rel="nofollow">http://www.student.oulu.fi/~tkorva/ut2004devtips.html</a>) that i was able to really start doing stuff with Uscript that wasnt merely changing values within existing code or making minor changes. So im going to put down some steps to making a reasonably simple custom actor that should give some returns to anyone who is learning while simultaneously been easy to understand.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Eagle-Bee_Actor_Part_One"><span class="tocnumber">1</span> <span class="toctext">Eagle-Bee Actor Part One</span></a></li>
<li class="toclevel-1"><a href="#Before_You_Start"><span class="tocnumber">2</span> <span class="toctext">Before You Start</span></a>
<ul>
<li class="toclevel-2"><a href="#Aims"><span class="tocnumber">2.1</span> <span class="toctext">Aims</span></a></li>
<li class="toclevel-2"><a href="#Introduction"><span class="tocnumber">2.2</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-2"><a href="#Getting_the_actor_moving"><span class="tocnumber">2.3</span> <span class="toctext">Getting the actor moving</span></a></li>
<li class="toclevel-2"><a href="#Adding_Collision_Effect"><span class="tocnumber">2.4</span> <span class="toctext">Adding Collision Effect</span></a></li>
</ul>
</li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Eagle-Bee_Actor_Part_One" id="Eagle-Bee_Actor_Part_One"></a></p>
<h3><span class="mw-headline">Eagle-Bee Actor Part One</span></h3>
<p><a name="Before_You_Start" id="Before_You_Start"></a></p>
<h2><span class="mw-headline">Before You Start</span></h2>
<p>As with the <a href="../../../../articles/u/n/r/Legacy%7EUnrealScript_Hello_World_0bc7.html" title="Legacy:UnrealScript Hello World">UnrealScript Hello World</a> tutorial we need to create a directory to hold our mutator code. The name of the directory determines the name of the package into which your code will be compiled. To that end you need to <a href="../../../../articles/s/e/t/Legacy%7ESet_Up_Package_Folders_6a30.html" title="Legacy:Set Up Package Folders">Set Up Package Folders</a>:</p>
<ol>
<li>Create a directory <code>EagleBeeActor</code> within your UT2004 directory</li>
<li>Create a directory <code>Classes</code> within the <code>EagleBeeActor</code> you just created.</li>
</ol>
<p>You should have the following folder tree:</p>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;">UT2004<br /></div>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;"><img src="../../../../../extensions/TreeTag/16/leaf.png" alt="\-&nbsp;" />EagleBeeActor<br /></div>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;"><img src="../../../../../extensions/TreeTag/16/empty.png" alt="&nbsp;&nbsp;&nbsp;" /><img src="../../../../../extensions/TreeTag/16/leaf.png" alt="\-&nbsp;" />Classes<br /></div>
<p><a name="Aims" id="Aims"></a></p>
<h4><span class="mw-headline">Aims</span></h4>
<p>The aim of this tutorial will be to take the basic Actor code from which most classes in UT2004 are extended and create an actor which will follow players around a map. We will simply be using the Eagle head icon which is default so that the code is self contained within one class however the code could easily be modified to include a static mesh or a different icon.</p>
<p><a name="Introduction" id="Introduction"></a></p>
<h4><span class="mw-headline">Introduction</span></h4>
<p>So lets get started, first off theres an important resource that you need to be aware of if you arent already... <a href="http://unreal.student.utwente.nl/" class="external free" title="http://unreal.student.utwente.nl/" rel="nofollow">http://unreal.student.utwente.nl/</a> contains source code for all unreal games sorted so that functions and classes are easy to locate and use. UScript development is much more difficult without this resource. One page of particular importance for this tutorial is the actor page (<a href="http://unreal.student.utwente.nl/uncodex-ut2004/engine/actor.html.gz" class="external free" title="http://unreal.student.utwente.nl/uncodex-ut2004/engine/actor.html.gz" rel="nofollow">http://unreal.student.utwente.nl/uncodex-ut2004/engine/actor.html.gz</a>) which conatins a list of functions and variables which <a href="../../../../articles/a/c/t/Legacy%7EActor_5985.html" title="Legacy:Actor">Actor</a> provides.</p>
<p>For now were going to keep the actor very simple, we will build more complexity in later. So this is the first code we need to get down, most of it is simply settings which we will need in order to develop the actor further:</p>
<p><a name="Getting_the_actor_moving" id="Getting_the_actor_moving"></a></p>
<h4><span class="mw-headline">Getting the actor moving</span></h4>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="co1">//-------------------------------------------------------------</span>
<span class="co1">// Eagle-Bee Actor - Designed to follow the player around a map</span>
<span class="co1">//-------------------------------------------------------------</span>
 
<span class="kw5">Class</span> EagleBeeActor <span class="kw5">extends</span> <a href="/Actor"><span class="kw10">Actor</span></a> <span class="kw6">Placeable</span>;   <span class="co1">//The placeable comment means that our actor can be placed in a map within Ued.</span>
 
<span class="kw5">Function</span> PostBeginPlay<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
      <span class="kw6">Super</span>.<span class="me1">PostBeginPlay</span><span class="br0">(</span><span class="br0">)</span>;
 
      Velocity.<span class="me1">z</span> = <span class="nu0">100</span>;         <span class="co1">//Sets our actor to move at a steady speed of 100 upwards</span>
<span class="br0">}</span>
 
<span class="kw1">DefaultProperties</span>
<span class="br0">{</span>
    bHidden=<span class="kw9">false</span>                       <span class="co1">//Allows the actor to be seen.</span>
 
    DrawType=DT_Sprite                  <span class="co1">//Sets our actor to use sprite drawtype, as no sprite has been specified it will use </span>
                                        <span class="co1">//the default Eagle Head image.</span>
 
    <span class="kw8">RemoteRole</span>=<span class="kw9">ROLE_None</span>                <span class="co1">//Networking, we wont worry about this till later so for now we will just leave it as None.</span>
 
    bUseCylinderCollision=<span class="kw9">true</span>          <span class="co1">//Sets the collision on our actor to be an invisible cylinder of height 30UU by radius 30UU.</span>
    CollisionHeight=<span class="nu0">30.0</span>
    CollisionRadius=<span class="nu0">30.0</span>
 
     bCollideActors=<span class="kw9">True</span>                <span class="co1">//Collision Properties, basically tells our actor to collide with everything.</span>
     bBlockActors=<span class="kw9">True</span>
     bBlockKarma=<span class="kw9">True</span>
        bBlockNonZeroExtentTraces=<span class="kw9">True</span>
        bBlockZeroExtentTraces=<span class="kw9">True</span>
        bCollideWorld=<span class="kw9">True</span>
 
        bStatic=<span class="kw9">False</span>                   <span class="co1">//Allows our actor to move.</span>
        bStasis=<span class="kw9">False</span>
 
        Physics=PHYS_Flying             <span class="co1">//Tells our actor to use 'Flying' physics where velocity, acceleration etc... are applied.</span>
<span class="br0">}</span>
</pre></div>
<div class="floatleft"><span><a href="../../../../articles/l/e/g/Image%7ELegacy_RichZapTutPic2.jpeg_cc98.html" class="image" title="Movement of actor"><img alt="Movement of actor" src="../../../../images/Legacy_RichZapTutPic2.jpeg" width="346" height="746" border="0" /></a></span></div>
<p>So now that youve coded and compiled this we need to test it. Run UT2004 and start an Instant Action DeathMatch game, make the bot count zero so they dont interfere while you're testing. Once playing type in the console <b>Summon EagleBeeActor.EagleBeeActor</b>, our new actor should appear and start floating gently upwards. Unfortunately it will float straight out of the level and die because although we have instructed it that it can collide with everything, we havent told it what to do when it does collide.</p>
<p><a name="Adding_Collision_Effect" id="Adding_Collision_Effect"></a></p>
<h4><span class="mw-headline">Adding Collision Effect</span></h4>
<div class="floatright"><span><a href="../../../../articles/l/e/g/Image%7ELegacy_RichZapTutPic1.jpeg_4c57.html" class="image" title="Legacy RichZapTutPic1.jpeg"><img alt="" src="../../../../images/Legacy_RichZapTutPic1.jpeg" width="570" height="541" border="0" /></a></span></div>
<p>Now obviously at the moment the actor is pretty dull as it will just float up and die, we need to make it a bit more interesting so thats what were going to do now. We are going to add a simple function which will tell our actor to bounce off of objects. The function given below should be added into the code without modification to anything else. All collisions that occur will be perfectly elastic in other words if you are travelling at a speed of 5 MpH when you hit an object, you will bounce off at 5 MpH as well.</p>
<p>Understanding the maths involved is not within the scope of this tutorial, however you may want a look at the <a href="../../../../articles/v/e/c/Legacy%7EVector_fa11.html" title="Legacy:Vector">Vector</a> page if you want to learn them or just refresh yourself on their workings. it is enough for now simply to know that this will simply cause the velocity to change so that it makes the object rebound off anything it collides with.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">Function</span> Hitwall<span class="br0">(</span><span class="kw4">vector</span> HitNormal, <a href="/Actor"><span class="kw10">actor</span></a> Wall<span class="br0">)</span>
<span class="br0">{</span>
        <span class="co1">//If the actor collides with anything, rebound.</span>
 
        Velocity = <span class="br0">(</span>Velocity - <span class="nu0">2.0</span>*HitNormal*<span class="br0">(</span>Velocity <span class="kw3">dot</span> HitNormal<span class="br0">)</span><span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
<p>Now you've added that code in, recompile and test out the same way as you did before (<b>summon EagleBeeActor.EagleBeeActor</b>). HitWall is a native function which is called whenever the actor collides with anything that it is set to collide with.</p>

<!-- 
NewPP limit report
Preprocessor node count: 20/1000000
Post-expand include size: 8/2097152 bytes
Template argument size: 0/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../../articles/c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Category</a>: <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_Personal_Page_0f2d.html" title="Category:Legacy Personal Page">Legacy Personal Page</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/r/i/c/Legacy%7ERich_Zap_4353.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/r/i/c/Legacy_talk%7ERich_Zap_ff9b.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:Rich_Zap">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 06:50, 18 July 2006 by Unreal Wiki user <a href="../../../../articles/w/o/r/User%7EWormbo_7d13.html" title="User:Wormbo">Wormbo</a>. Based on work by Anonymous user(s) of Unreal Wiki.</li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
