<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:3D Studio Max Weapon Modeling And Import - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:3D Studio Max Weapon Modeling And Import</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <p><b>Note:</b> This tutorial applies mostly to Unreal Tournament. It is also very hard to do clearly so if you have any questions or corrections, please add them in as comments. I can now see why so few tuts on this subject exist&#160;:)</p>
<p><b>Discaimer:</b> This is the way I animate and import weapons. There are approximately 1,000,345 different ways of doing it, with at least 1,000,000 of them being more efficient/better than mine. What I am passing on is what I learned by scouring the net for scant information on the subject and just basic trial and error. What I do know is that this way works&#160;:) To be honest I do things a bit more efficiently, but it is easier to explain it this way and let the person reading it come up with their own better ways of doing it after they are comfortable.</p>
<p>In this tutorial on making weapon models for Unreal Tournament using 3ds2unr, I'm assuming that you are comfortable with 3D Studio Max R3.1 or later. 2.X should be fine although you may find some features missing that I talk about (not sure). This tutorial will not explain the in's and out's of modeling and texturing your weapon, only the basics on how to animate it and export it correctly into Unreal Tournament.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Getting_Started"><span class="tocnumber">1</span> <span class="toctext">Getting Started</span></a></li>
<li class="toclevel-1"><a href="#Animating"><span class="tocnumber">2</span> <span class="toctext">Animating</span></a>
<ul>
<li class="toclevel-2"><a href="#Quick_Explanation_of_Vertex_Animation"><span class="tocnumber">2.1</span> <span class="toctext">Quick Explanation of Vertex Animation</span></a></li>
<li class="toclevel-2"><a href="#Standard_Animations"><span class="tocnumber">2.2</span> <span class="toctext">Standard Animations</span></a>
<ul>
<li class="toclevel-3"><a href="#Firing_Animation"><span class="tocnumber">2.2.1</span> <span class="toctext">Firing Animation</span></a></li>
<li class="toclevel-3"><a href="#Alt_Firing_Animation"><span class="tocnumber">2.2.2</span> <span class="toctext">Alt Firing Animation</span></a></li>
<li class="toclevel-3"><a href="#Select_and_Deselect_Animations"><span class="tocnumber">2.2.3</span> <span class="toctext">Select and Deselect Animations</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Looping_Animations"><span class="tocnumber">2.3</span> <span class="toctext">Looping Animations</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Exporting_Your_Animations"><span class="tocnumber">3</span> <span class="toctext">Exporting Your Animations</span></a></li>
<li class="toclevel-1"><a href="#Exporting_Your_Select_and_Deselect_Animations"><span class="tocnumber">4</span> <span class="toctext">Exporting Your Select and Deselect Animations</span></a>
<ul>
<li class="toclevel-2"><a href="#Select.2FDeselect_Naming_Conventions"><span class="tocnumber">4.1</span> <span class="toctext">Select/Deselect Naming Conventions</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Exporting_the_Still_Animation"><span class="tocnumber">5</span> <span class="toctext">Exporting the Still Animation</span></a></li>
<li class="toclevel-1"><a href="#Related_Topics"><span class="tocnumber">6</span> <span class="toctext">Related Topics</span></a></li>
<li class="toclevel-1"><a href="#Discussion"><span class="tocnumber">7</span> <span class="toctext">Discussion</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Getting_Started" id="Getting_Started"></a></p>
<h2><span class="mw-headline">Getting Started</span></h2>
<p><b>Model Setup</b> (note that this is for a weapon with one texture, I will explain multi-textured first person view weapon models later):</p>
<ul>
<li>Face the forward part of the model to the right in the top viewport. This will save having to alter the script to get the model facing the right way.</li>
</ul>
<ul>
<li>Name your weapon mesh Something00 (Something being whatever name you want).</li>
</ul>
<ul>
<li>It must not be bigger than a 256x256 grid extent centered on the origin. You can scale it to suit in script later so don't fret over that yet. All animations need to reside inside the 256x256 box also (i.e. if the kickback animation leaves the bounding box even by a decimal 3ds2unr will conk out on you).</li>
</ul>
<ul>
<li>Place a blank material (or a multi sub-object material if it has more than one texture) on the object called "Skin".</li>
</ul>
<ul>
<li>Collapse the stack or convert to an editable mesh (same outcome) and then go to <i>Utilities</i> and choose <i>Reset X-Form</i> (<i>X-form</i> stands for "transform," much like <a href="../../../../articles/t/r/a/Legacy%7ETransform_Permanently_0001.html" title="Legacy:Transform Permanently">Transform Permanently</a> works in UnrealEd). Converting to an editable mesh even if it is already one is important before hitting <i>Reset X-Form</i> to keep faces that you may have created or mirrored from flipping their normals. Hit the <i>Reset Selected</i> button and then collapse the stack again. This ensures the pivot point is nicely centered after import into Unreal Tournament.</li>
</ul>
<p><a name="Animating" id="Animating"></a></p>
<h2><span class="mw-headline">Animating</span></h2>
<p><a name="Quick_Explanation_of_Vertex_Animation" id="Quick_Explanation_of_Vertex_Animation"></a></p>
<h3><span class="mw-headline">Quick Explanation of Vertex Animation</span></h3>
<p>Vertex animation works like this: Each frame of animation is basically a copy of the mesh, just slightly different, like the little stick figure cartoons you used to draw in school on little pads of paper (you flip the pages and it animates). The .3d files (the file format vertex animation in UT uses) contains a model with these frames of animation and is basically X number of copies of the model super-imposed on one another with X being the number of frames.</p>
<p>In Max we use the <i>Snapshot</i> tool to make these super-imposed versions of our animated model. The product of this is what gets exported from Max as the .3ds file. The <i>Snapshot</i> tool asks what frames you want super-imposed (0-15 for example), the number of copies (in our example it would be 16 since 0-15 is 16 copies), and will do all the hard work for you. All this will be explained in detail below.</p>
<p>The beginning and ending of each animation (if the animation begins or ends with the weapon in view) needs to have the same exact postioning. For instance, a firing animation sequence starts, recoils back, and comes back to rest in the exact same postion (it's "rest" postion) it started in. If there is any difference, the gun will appear to jump around in view and look terrible. A good rule of thumb is to save a seperate copy of your .max file with a just a one frame animation of your weapon sitting in it's "rest" position. The exception to this rule are animations that start or end out of view such as a Select and Deselect animations which in these cases the weapon only needs to end in it's "rest" postion and start in it's "rest" postion, respectively.</p>
<p><a name="Standard_Animations" id="Standard_Animations"></a></p>
<h3><span class="mw-headline">Standard Animations</span></h3>
<p><a name="Firing_Animation" id="Firing_Animation"></a></p>
<h4><span class="mw-headline">Firing Animation</span></h4>
<ol>
<li>First, setup your 3D viewport window so the gun looks as it would in first person. This can give you a semi-accurate view of what it will look like animating in game. Save the Max file as something like <code>Rest_Position.max</code> or whatever.</li>
</ol>
<ol>
<li>Now move the animation slider to keyframe 1 or 2, hit the Animate button in the lower right, and move/rotate your model into a kickback postion or however it would be postioned when the weapon is fired. Turn off the Animate button, select the first Keyframe at 0 and hold down shift (to clone the key) and drag the cloned keyframe to keyframe 5. Now hit play to see it run through it's firing sequence. It will do this fairly quickly but the code can slow it down later when it's imported into the game. Jump back and forth from key 1 and 5 to make sure the model doesn't move. Save this file as <code>Firing.max</code> (or whatever as long as you know it's the firing animation file) and re-open the "rest" postion .max file you saved earlier.</li>
</ol>
<p><a name="Alt_Firing_Animation" id="Alt_Firing_Animation"></a></p>
<h4><span class="mw-headline">Alt Firing Animation</span></h4>
<p>Now we need an altfire animation. If your weapon has no alt-fire, skip this step. Pretty much just repeat the same process as above, saving the file as <code>Alt_fire.max</code> or whatever.</p>
<p><a name="Select_and_Deselect_Animations" id="Select_and_Deselect_Animations"></a></p>
<h4><span class="mw-headline">Select and Deselect Animations</span></h4>
<p>Now for the Deselect and Select animations which we will include in one file since both animations don't begin <i>and</i> end in the "rest" posistion. Open your rest postion .max file, move the slider to keyframe 10, hit the Animation button, and move/rotate your model out of view below. Turn off the animation button. Now select the first keyframe at 0, hold shift and clone/drag it to keyframe 20. Play the animation and it should go out of view and then come back into view, ending at it's "rest" postion. Save this file as <code>Select_Deselect.max</code> or something.</p>
<p><a name="Looping_Animations" id="Looping_Animations"></a></p>
<h3><span class="mw-headline">Looping Animations</span></h3>
<p>If you need any repetitious animations that loop, such as a spinning barrel, only animate one cycle. For instance, for the spinning barrel, only animate one rotation. Exceptions to this are things like vibration animations (like the Impact-Hammer charging animation) where you want some variety.</p>
<p>We now have the minimum amount of animations needed to get a weapon into UT. Actually we still need a 1 frame "Still" animation that's played when the weapon isn't doing anything but we can get that from any other animation's "rest" frame so it doesn't need it's own file.</p>
<p><a name="Exporting_Your_Animations" id="Exporting_Your_Animations"></a></p>
<h2><span class="mw-headline">Exporting Your Animations</span></h2>
<p>Export your Fire/Alt-Fire and other Standard Animations.</p>
<ol>
<li>Open your <code>Firing.max</code> (or whatever) file and select your weapon. Go to Tools&gt;Snapshot. A window will pop up that looks like this:</li>
</ol>
<div class="center">
<div class="floatnone"><span><a href="../../../../articles/l/e/g/Image%7ELegacy_3dsmax-snapshot.jpeg_0dae.html" class="image" title="Legacy 3dsmax-snapshot.jpeg"><img alt="" src="../../../../images/Legacy_3dsmax-snapshot.jpeg" width="270" height="261" border="0" /></a></span></div>
</div>
<ol>
<li>Click the radio button labeled <i>Range</i>, enter 0 for <i>From</i> and 5 for <i>To</i> and make sure the <i>Mesh</i> radio button is selected (it usually is by default). Select <i>OK</i>. You will now see a bunch of meshes including your original mesh, each one called Something01 through Something05 (with Something00 being your original mesh you snapshotted). Press <b>H</b> (the <i>Select by Name</i> hotkey) and a window will pop up listing all the objects in your scene. Now select Something01, hold down Shift, and while still holding Shift select Something05. This will select Something01 and Something05 as well as all the ones in between. Make sure you don't include Something00 (the source mesh that was snapshotted) as 3ds2unr wants all meshes labeled from "01-0X" in the .3ds file. Notice that Something01 is a copy of Something00. See Figure B below for more info.</li>
</ol>
<ol>
<li>Now, while Something01 through Something05 is selected, go to <i>File</i> -&gt; <i>Export Selected</i>. Export the meshes as a .3ds file named <code>Fire.3ds</code>. Make sure you choose <i>Export Selected</i> and not just plain old <i>Export</i>. Once finished, close the scene <b>without saving it</b>.</li>
</ol>
<ol>
<li>Repeat the process for your alt-fire animation if you have one and any other animations you need. Make sure you input the correct animation frames and copies in the Snapshot tool window. For example, if your alt-fire animation starts from 0 and ends at 13, enter From=0 and To=13 with 14 copies (the 0 is inclusive!). Name your .3ds file <code>Altfire.3ds</code> or <code>Fire2.3ds</code> or anything really.</li>
</ol>
<p><a name="Exporting_Your_Select_and_Deselect_Animations" id="Exporting_Your_Select_and_Deselect_Animations"></a></p>
<h2><span class="mw-headline">Exporting Your Select and Deselect Animations</span></h2>
<ol>
<li>Since the Select and Deselect animations are in the same file we will do things slightly different this time. We'll basically be snapshotting the file twice since we need to export two .3ds files. Select your weapons and go to Tools&gt;Snapshot again. Select <i>Range</i>, enter 0 in <i>From</i> and 10 in <i>To</i> and enter 11 in <i>Copies</i>. Hit <i>OK</i>. Hit <b>H</b>, select Something01 through Something11, hit <i>OK</i>, choose <i>Export Selected</i> and export the files as <code>Down.3ds</code>. It is important that you name it <code>Down.3ds</code> for reasons I will explain below.</li>
</ol>
<ol>
<li>Now either <i>Undo</i> until you are back to before you snapshotted the weapon, or close the file without saving and re-open it. Once back to square one, select Snapshot, make sure <i>Range</i> is selected, enter 10 in <i>From</i> and 20 in <i>To</i>. Enter 11 for <i>Copies</i> and make sure <i>Mesh</i> is selected as the output. Hit ok. Hit <b>H</b>, select Something01 through Something11, choose <i>Export Selected</i> and name the exported file <code>Select.3ds</code>. It is important to name this file <code>Select.3ds</code> for reason I will explain below.</li>
</ol>
<div class="center">
<div class="floatnone"><span><a href="../../../../articles/l/e/g/Image%7ELegacy_3dsmax-selectobjects.jpeg_d7f5.html" class="image" title="Legacy 3dsmax-selectobjects.jpeg"><img alt="" src="../../../../images/Legacy_3dsmax-selectobjects.jpeg" width="640" height="480" border="0" /></a></span></div>
</div>
<p><a name="Select.2FDeselect_Naming_Conventions" id="Select.2FDeselect_Naming_Conventions"></a></p>
<h3><span class="mw-headline">Select/Deselect Naming Conventions</span></h3>
<p>In UnrealScript, when an action that requires an animation is called, it gets the info from a function in the weapon's code. For instance, when a person presses the alt-fire on a Shockrifle, the code knows to play the animation "Fire2" since it's called in the Shockrifle code's alt-fire play animation function. Since every weapon has to have a Select and Deselect animation and they are never looped or anything funky like that, Epic saw fit to place those play animation functions in every weapon's parent class, TournamentWeapon, and they chose "Down" and "Select" as their animation names. So basically, if you name your Select and Deselect animations as "Select" and "Down", you don't have to write the play animation functions for them. If you must name them something else or want to change the rate at which the select or deselect animation (or both) is played, you can override the TournamentWeapon function in your weapon's code. This is starting to leave the scope of this tutorial so just make sure you name them "Down" and "Select".</p>
<p><a name="Exporting_the_Still_Animation" id="Exporting_the_Still_Animation"></a></p>
<h2><span class="mw-headline">Exporting the Still Animation</span></h2>
<p>You now need a one frame animations called "Still". There are a few ways to do this with the Snapshot tool (or without) but for simplicity we'll do it the same way we did the others. Open the <code>Rest_Position.max</code> file, go to <i>Tools</i> -&gt; <i>Snapshot</i>, and enter 0 in <i>From</i> and 0 in <i>To</i>, make the number of <i>Copies</i> 1, and hit OK. Press <b>H</b>, select Something01, hit OK, go to Export Selected, and save it as <code>Still.3ds</code>.</p>
<p>Move your .3ds files that you exported into the same directory as your 3ds2unr.exe. On to Part2 <a href="../../../../articles/3/d/s/Legacy%7E3ds2unr.html" title="Legacy:3ds2unr">3ds2unr</a></p>
<p><a name="Related_Topics" id="Related_Topics"></a></p>
<h2><span class="mw-headline">Related Topics</span></h2>
<ul>
<li><a href="../../../../articles/t/o/p/Legacy%7ETopics_On_Modeling_0f33.html" title="Legacy:Topics On Modeling">Topics on Modeling</a>
<ul>
<li><a href="../../../../articles/w/e/a/Legacy%7EWeapon_Modeling_a1bf.html" title="Legacy:Weapon Modeling">Weapon Modeling</a>
<ul>
<li><a href="../../../../articles/w/e/a/Legacy%7EWeapons%2C_Items%2C_And_Decorations_2b29.html" title="Legacy:Weapons, Items, And Decorations">Weapons, Items, And Decorations</a></li>
<li><a href="../../../../articles/c/r/e/Legacy%7ECreating_A_New_Weapontype_a4e2.html" title="Legacy:Creating A New Weapontype">Creating A New Weapontype</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><a name="Discussion" id="Discussion"></a></p>
<h2><span class="mw-headline">Discussion</span></h2>
<p><b>Unknown:</b> On my hunt to correct spelling, this page came up in a search for <i>modelling' but there is only</i> modeling' in this page.</p>

<!-- 
NewPP limit report
Preprocessor node count: 45/1000000
Post-expand include size: 80/2097152 bytes
Template argument size: 0/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../../articles/c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Categories</a>: <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_Modeling_2a21.html" title="Category:Legacy Modeling">Legacy Modeling</a></span> | <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_Tutorial_261e.html" title="Category:Legacy Tutorial">Legacy Tutorial</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/3/d/_/Legacy%7E3D_Studio_Max_Weapon_Modeling_And_Import_d18f.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/3/d/_/Legacy_talk%7E3D_Studio_Max_Weapon_Modeling_And_Import_fbbd.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:3D_Studio_Max_Weapon_Modeling_And_Import">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 00:30, 18 December 2005 by Anonymous user(s) of Unreal Wiki. </li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
