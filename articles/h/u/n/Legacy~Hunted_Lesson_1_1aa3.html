<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:Hunted Lesson 1 - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:Hunted Lesson 1</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <p><a href="../../../../articles/h/u/n/Legacy%7EHunted2003_e76e.html" title="Legacy:Hunted2003">Hunted2003</a> tutorial, Lesson 1: The Custom GameType.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Folders_and_files"><span class="tocnumber">1</span> <span class="toctext">Folders and files</span></a></li>
<li class="toclevel-1"><a href="#Step_2"><span class="tocnumber">2</span> <span class="toctext">Step 2</span></a></li>
<li class="toclevel-1"><a href="#GameType_int_file_.22Hunted.int.22"><span class="tocnumber">3</span> <span class="toctext">GameType int file "Hunted.int"</span></a></li>
<li class="toclevel-1"><a href="#Compiling"><span class="tocnumber">4</span> <span class="toctext">Compiling</span></a></li>
<li class="toclevel-1"><a href="#After_compiling"><span class="tocnumber">5</span> <span class="toctext">After compiling</span></a></li>
<li class="toclevel-1"><a href="#Conclusion"><span class="tocnumber">6</span> <span class="toctext">Conclusion</span></a></li>
<li class="toclevel-1"><a href="#Things_to_do"><span class="tocnumber">7</span> <span class="toctext">Things to do</span></a></li>
<li class="toclevel-1"><a href="#Comments"><span class="tocnumber">8</span> <span class="toctext">Comments</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Folders_and_files" id="Folders_and_files"></a></p>
<h2><span class="mw-headline">Folders and files</span></h2>
<p>First of all, let's <a href="../../../../articles/s/e/t/Legacy%7ESet_Up_Package_Folders_6a30.html" title="Legacy:Set Up Package Folders">Set Up Package Folders</a> with the base name "hunted". Inside the classes folder, create 4 text files:</p>
<ul>
<li>HuntedGame.uc</li>
<li>HuntPawn.uc</li>
<li>HuntController.uc</li>
<li>HUDhunted.uc</li>
</ul>
<p>Let me explain these further:</p>
<dl>
<dt>HuntedGame</dt>
<dd>this is the <a href="../../../../articles/g/a/m/Legacy%7EGametype_98de.html" title="Legacy:Gametype">gametype</a> such as <b>Capture the Flag</b>, <b>DeathMatch</b>, etc.</dd>
<dt>HuntPawn</dt>
<dd>this is a <a href="../../../../articles/p/a/w/Legacy%7EPawn_d11f.html" title="Legacy:Pawn">pawn</a>. A pawn is what you control, such as a <b>Player</b> a <b>Vehicle</b>, etc.</dd>
<dt>HuntController</dt>
<dd>a <a href="../../../../articles/c/o/n/Legacy%7EController_ee75.html" title="Legacy:Controller">controller</a> is what you use to control movement etc. I like to think of it as your soul, in the way that it "posseses" different pawns. When you enter a vehicle, the controller stops controlling the player pawn, and posseses the vehicle pawn. When you get out of the vehicle, it posseses the player pawn. A GUI controller takes over when you are accessing a menu. This is probably not a thourough definition, but it works for me. ( <i>link to an overview page for these?</i>)</dd>
<dt>HUDhunted</dt>
<dd>this is the Heads Up Display <a href="../../../../articles/h/u/d/Legacy%7EHUD_a5d3.html" title="Legacy:HUD">HUD</a>, right now we are going to just add a symbol or something to the TeamDeathMatch Hud so we can tell that our custom gametype works.</dd>
</dl>
<p>Now lets edit the HuntedGame.uc file (my code is riddled with comments, so you can understand what I am doing.)&#160;:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="co1">/////////////////////////////////////////////////</span>
<span class="co1">/// Hunted Game</span>
<span class="co1">/// I chose to extend xTeamGame (Team Deathmatch)</span>
<span class="co1">/// because in essence The Hunted is a Team Deathmatch that ends</span>
<span class="co1">///  if the Hunted Dies, I may have to change and extend from another </span>
<span class="co1">///// gametype later , but for now ill try this</span>
<span class="co1">///////////////////////////////////////////////</span>
 
<span class="kw5">class</span> HuntedGame <span class="kw5">extends</span> xTeamGame;
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
     <span class="co1">//gametype name, will appear in in-game list</span>
     GameName=<span class="st0">"The Hunted"</span>
     <span class="co1">//we will use the regular pawn till we make some changes in our pawn  </span>
     DefaultPlayerClassName=<span class="st0">"XGame.xPawn"</span>
     <span class="co1">// and will use the regular controller till we make some changes in ours </span>
     PlayerControllerClassName=<span class="st0">"XGame.xPlayer"</span> 
 
     <span class="co1">// I will leave this DM for now</span>
     MapPrefix=<span class="st0">"DM"</span> 
     <span class="co1">//here is our new HUD</span>
     HUDType=<span class="st0">"hunted.HUDhunted"</span>  
 
<span class="br0">}</span>
</pre></div>
<p>hmm... not sure why everything in quotations shows up as comments, I need to learn how to fix that.</p>
<p><b>Daid303:</b> It doesn't, the default sysntax highlight color for stuff in quotes is green, just as comments. If you open up a script in UnrealEd it also does that (I even set up Editplus to use the same colors as unrealed, I like those colors&#160;:) )</p>
<p>If you want to know where I got these default properties, look in the default properties of the source code for DeathMatch. We essentially extended off of it as follows: <a href="../../../../articles/d/e/a/Legacy%7EDeathMatch_78bc.html" title="Legacy:DeathMatch">DeathMatch</a> &gt;&gt; <a href="../../../../articles/t/e/a/Legacy%7ETeamGame_5c58.html" title="Legacy:TeamGame">TeamGame</a> &gt;&gt; <a href="../../../../articles/x/t/e/Legacy%7EXTeamGame_846d.html" title="Legacy:XTeamGame">xTeamGame</a> &gt;&gt; HuntedGame</p>
<p><a name="Step_2" id="Step_2"></a></p>
<h2><span class="mw-headline">Step 2</span></h2>
<p>Now we are going to make changes in our HuntPawn and HuntController in another lesson. Right now, if we load up our custom game we wouldnt see any changes, so I am going to add something to the HUD to verify that our game works. So lets edit HUDhunted.uc:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="co1">//////////////////////////////////</span>
<span class="co1">/// HUDhunted</span>
<span class="co1">//// just going to add a symbol </span>
<span class="co1">/// to make it unique to our gametype</span>
<span class="co1">////////////////////////////////////////</span>
 
<span class="kw5">class</span> HUDhunted <span class="kw5">extends</span> HudBTeamDeathMatch;
 
<span class="co1">//a variable to hold our logo</span>
<span class="kw5">var</span> <a href="/Texture"><span class="kw10">texture</span></a> logotex;
 
<span class="kw5">function</span> DrawHud<span class="br0">(</span>Canvas c<span class="br0">)</span>
<span class="br0">{</span>
        <span class="kw5">local</span> <span class="kw4">color</span> tempColor;
        <span class="kw5">local</span> <span class="kw4">byte</span> tempstyle;
 
        tempColor = c.<span class="me1">DrawColor</span>;
        tempstyle = c.<span class="me1">Style</span>;
 
    <span class="kw6">super</span>.<span class="me1">DrawHud</span><span class="br0">(</span>c<span class="br0">)</span>;
 
    c.<span class="me1">DrawColor</span>=WhiteColor;
        c.<span class="me1">Style</span>=ERenderStyle.<span class="me1">STY_Additive</span>;
 
    DrawLogo<span class="br0">(</span>c<span class="br0">)</span>;
 
    c.<span class="me1">DrawColor</span> = tempColor;<span class="co1">//restore values</span>
        c.<span class="me1">Style</span> = tempstyle;
<span class="br0">}</span>
 
<span class="co1">//a function to draw it</span>
<span class="kw5">function</span> DrawLogo<span class="br0">(</span>Canvas c<span class="br0">)</span>
<span class="br0">{</span>
        c.<span class="me1">SetPos</span><span class="br0">(</span><span class="nu0">193</span>,<span class="nu0">44</span><span class="br0">)</span>;   <span class="co1">//193 pix to the right, and 44 downwards from the upperleft corner.</span>
        c.<span class="me1">DrawIcon</span><span class="br0">(</span>logotex,<span class="nu0">0.5</span><span class="br0">)</span>;  <span class="co1">//scale is 1</span>
<span class="br0">}</span>
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
<span class="co1">// reference to the texture we want to draw on the hud</span>
logotex=<a href="/Texture"><span class="kw10">texture</span></a><span class="st0">'HuntedTex.huntlogo'</span>
<span class="br0">}</span>
</pre></div>
<p>now some explaining:</p>
<ul>
<li>first I made a logo in photoshop. I saved it as a 24bit targa file entitled "huntlogo.tga".
<ol>
<li>I opened up UnrealEd, went to the <a href="../../../../articles/t/e/x/Legacy%7ETexture_Browser_1a4e.html" title="Legacy:Texture Browser">texture browser</a> and hit import</li>
<li>I selected my targa and saved it in a package called HuntedTex</li>
<li>I unchecked mipmaps and checked Alpha</li>
<li>I saved the package as HuntedTex.utx in the folder /UT2003/Textures</li>
</ol>
</li>
</ul>
<p>for more on importing textures, please check out</p>
<p><a href="../../../../articles/i/m/p/Legacy%7EImport_The_Texture_57ec.html" title="Legacy:Import The Texture">Import_The_Texture</a></p>
<p>here is the logo if you need it. It is in gif format here, you may be able to import it without converting it to targa I dunno.</p>
<div class="center">
<div class="floatnone"><span><a href="../../../../articles/l/e/g/Image%7ELegacy_huntlogo.gif_d9fc.html" class="image" title="huntlogo in .gif format"><img alt="huntlogo in .gif format" src="../../../../images/Legacy_huntlogo.gif" width="512" height="128" border="0" /></a></span></div>
</div>
<p>In the code we simply set a variable to hold the texture, then the function <b>DrawLogo</b>draws it on the specified position and at the set scale. In the default properties we point it to our logo. I learned this thru the powerpoint tutorials of J. Giles at SEGA500 Unreal scripting. If you want to learn how to make further changes to the HUD here is a link:</p>
<p><a href="http://gamestudies.cdis.org/~jgiles/" class="external free" title="http://gamestudies.cdis.org/~jgiles/" rel="nofollow">http://gamestudies.cdis.org/~jgiles/</a></p>
<p>BTW, The <b>super.DrawHud(c)</b> command calls on the function DrawHud as it was written in the HudBTeamDeathMatch class, so we are just adding to it. If you leave out this line it will only draw the logo we added. I suggest you try this just to get an idea of how the super command works.</p>
<p><a name="GameType_int_file_.22Hunted.int.22" id="GameType_int_file_.22Hunted.int.22"></a></p>
<h2><span class="mw-headline">GameType int file "Hunted.int"</span></h2>
<p>So now we want to see it in action. But first, we have to make an int file to reference our gametype. Without this, it will not show up in the list of gametypes and we wont get to play it.</p>
<ul>
<li>make a text file called Hunted.int</li>
</ul>
<p>it should read like so:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="br0">[</span>Public<span class="br0">]</span>
 
<a href="/Object"><span class="kw10">Object</span></a>=<span class="br0">(</span><span class="kw5">Class</span>=<span class="kw5">Class</span>,MetaClass=Engine.<span class="me1">GameInfo</span>,<span class="kw4">Name</span>=Hunted.<span class="me1">HuntedGame</span>,Description=<span class="st0">"DM|The Hunted|xinterface.Tab_IADeathMatch|xinterface.MapListDeathMatch|false"</span><span class="br0">)</span>
 
<span class="br0">[</span>Hunted.<span class="me1">HuntedGame</span><span class="br0">]</span>
GameName=<span class="st0">"The Hunted"</span>
</pre></div>
<p>This should be pretty self explanitory. Now save it and put it in the /UT2003/system directory</p>
<p>Now our gametype should show up in the gametype list.</p>
<p>But first we have to do a couple of things</p>
<p>We need to add some headers to our HuntPawn and HuntController classes, even though we wont get to them in this lesson. They won't compile the way they are.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">class</span> HuntPawn <span class="kw5">extends</span> xPawn;
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
<span class="br0">}</span>
</pre></div>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">class</span> HuntController <span class="kw5">extends</span> xPlayer;
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
<span class="br0">}</span>
</pre></div>
<p><a name="Compiling" id="Compiling"></a></p>
<h2><span class="mw-headline">Compiling</span></h2>
<p>You now need to compile the mod. There are two ways to compile:</p>
<ul>
<li><b><a href="../../../../articles/u/c/c/Legacy%7EUcc_e245.html" title="Legacy:Ucc">Ucc</a> Make</b>: see <a href="../../../../articles/c/o/m/Legacy%7ECompiling_With_UCC_0337.html" title="Legacy:Compiling With UCC">Compiling With UCC</a></li>
<li><a href="../../../../articles/u/m/a/Legacy%7EUMake_c884.html" title="Legacy:UMake">UMake</a></li>
</ul>
<p><b>Make sure you added your mod name in UT2004.ini under edit packages or the compiler will not look for you mod to compile.</b></p>
<p><a name="After_compiling" id="After_compiling"></a></p>
<h2><span class="mw-headline">After compiling</span></h2>
<p>If all goes well, the file "hunted.u" will appear in your system folder. If it doesn't open up UCC.LOG and search for errors, there are always a few like "package hunted.u couldn't be found" but that's good, because if UCC MAKE doesn't find it, it will try to compile it.</p>
<p><a name="Conclusion" id="Conclusion"></a></p>
<h2><span class="mw-headline">Conclusion</span></h2>
<p>Now run the game and go to Instant Action. The Hunted should be in your list of gametypes. Start a map and there is our logo. Its not much, but it verifies that our gametype works, and now we can bend it to our will, make it do our bidding.</p>
<p><a name="Things_to_do" id="Things_to_do"></a></p>
<h2><span class="mw-headline">Things to do</span></h2>
<ul>
<li>
<ol>
<li>get the logo centered and alpha working</li>
</ol>
</li>
</ul>
<p><a name="Comments" id="Comments"></a></p>
<h2><span class="mw-headline">Comments</span></h2>
<p><b>Archnemesis:</b> I had made an error in the HuntedGame.uc file. A default property was listed as</p>
<p>PlayerControllerClassName="XGame.xController"</p>
<p>when it should have been</p>
<p>PlayerControllerClassName="XGame.xPlayer"</p>
<p><b>Archnemesis:</b> If you have already done this tutorial, I have made some changes to the Hud</p>
<ul>
<li>
<ol>
<li>The background of the logo needs to be black, not white, I will repost the image.</li>
<li>The render style should be Additive, not Alpha, this way the black part will be transparent.</li>
<li>I have moved changed the x coordinate to 193 so the logo will be better centered</li>
</ol>
</li>
</ul>
<p>These changes are noted in the HUD code.</p>
<p>I am going to plan my next lesson more carefully before I post it, I wrote this one while I was doing the actual coding, so it had these errors. I will post the next couple of lessons in a week or so. Paitience!</p>
<p><b>Daid303:</b> I've added some text by the compiling, maybe there is a wiki page about compiling you could link to? I also changed the comment in the logo HUD because it isn't centerd. If you want to center you'll have to so something like this: (Canvas.ClipX - Tex.Width)/2, (Canvas.ClipY-Tex.Height)/2</p>
<p><b>Archnemesis:</b> Thanks, I was thinking that on a different resolution, it probably wouldn't be centered, but I forgot to look into it. I am going to work on the back linking before I post any other lessons. I have been reading some of the wiki stuff and am going to revise this page to make it more wiki-friendly when I get a chance. But first I'm off to Unreal University this weekend.</p>

<!-- 
NewPP limit report
Preprocessor node count: 24/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/h/u/n/Legacy%7EHunted_Lesson_1_1aa3.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/h/u/n/Legacy_talk%7EHunted_Lesson_1_73ec.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:Hunted_Lesson_1">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 00:58, 24 December 2007 by Anonymous user(s) of Unreal Wiki. Based on work by <a href="../../../../articles/t/a/r/User%7ETarquin_cdb6.html" title="User:Tarquin">tarquin</a>.</li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
