<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:Ammo (UT) - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:Ammo (UT)</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <div class="infobox infobox-class infobox-legacy"><a href="../../../../articles/u/t/_/Legacy%7EUT_9cbd.html" class="mw-redirect" title="Legacy:UT">UT</a>&#160;:: <a href="../../../../articles/a/c/t/Legacy%7EActor_%28UT%29_b661.html" title="Legacy:Actor (UT)">Actor (UT)</a> &gt;&gt; <a href="../../../../articles/i/n/v/Legacy%7EInventory_%28UT%29_ac83.html" title="Legacy:Inventory (UT)">Inventory (UT)</a> &gt;&gt; <a href="../../../../articles/p/i/c/Legacy%7EPickup_%28UT%29_fe86.html" title="Legacy:Pickup (UT)">Pickup (UT)</a> &gt;&gt; Ammo (Package: Engine)</div>
<p>Parent class of ammunition types for <a href="../../../../articles/w/e/a/Legacy%7EWeapon_%28UT%29_cf18.html" title="Legacy:Weapon (UT)">Weapon (UT)s</a>. Child class <a href="../../../../articles/t/o/u/Legacy%7ETournamentAmmo_1da9.html" title="Legacy:TournamentAmmo">TournamentAmmo</a> corresponds with <a href="../../../../articles/t/o/u/Legacy%7ETournamentWeapon_fe41.html" title="Legacy:TournamentWeapon">TournamentWeapon</a> (UT) weapons.</p>
<p>One does not actually posess a quantity of Ammo inventory items. Rather, an Ammo item is a placeholder which indicates how much of the corresponding ammunition type the player may expend.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Properties"><span class="tocnumber">1</span> <span class="toctext">Properties</span></a></li>
<li class="toclevel-1"><a href="#Methods"><span class="tocnumber">2</span> <span class="toctext">Methods</span></a>
<ul>
<li class="toclevel-2"><a href="#Inherited_from_Inventory_.28UT.29"><span class="tocnumber">2.1</span> <span class="toctext">Inherited from Inventory (UT)</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Known_subclasses"><span class="tocnumber">3</span> <span class="toctext">Known subclasses</span></a></li>
<li class="toclevel-1"><a href="#Discussion"><span class="tocnumber">4</span> <span class="toctext">Discussion</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Properties" id="Properties"></a></p>
<h2><span class="mw-headline">Properties</span></h2>
<dl>
<dt>int AmmoAmount (travel, replicated to owning client)&#160;</dt>
<dd>In inventory, the amount of ammunition of this type the player may expend. For a pickup, amount of ammunition to be added to an inventory copy of the ammotype's AmmoAmount.</dd>
</dl>
<dl>
<dt>int MaxAmmo (travel)&#160;</dt>
<dd>Maximum amount AmmoAmount may reach in a player's inventory.</dd>
</dl>
<dl>
<dt>class&lt;Ammo&gt; ParentAmmo&#160;</dt>
<dd>Parent class of Ammotype. Some ammotypes are smaller, child classes of other types, only different in, say, the size of AmmoAmount. Providing a link to a parent class prevents the child ammo from being added to a player's inventory separately from its parent.</dd>
</dl>
<dl>
<dt>byte UsedInWeaponSlot[10]&#160;</dt>
<dd>For display purposes AFAIK. Position in the HUD Ammo and AmmoAmount should be displayed in.</dd>
</dl>
<dl>
<dt>Ammo PAmmo&#160;</dt>
<dd>&#160;???Original implementation of ParentAmmo???</dd>
</dl>
<p><a name="Methods" id="Methods"></a></p>
<h2><span class="mw-headline">Methods</span></h2>
<p><a name="Inherited_from_Inventory_.28UT.29" id="Inherited_from_Inventory_.28UT.29"></a></p>
<h3><span class="mw-headline">Inherited from <a href="../../../../articles/i/n/v/Legacy%7EInventory_%28UT%29_ac83.html" title="Legacy:Inventory (UT)">Inventory (UT)</a></span></h3>
<dl>
<dt>float BotDesireability (<a href="../../../../articles/p/a/w/Legacy%7EPawn_%28UT%29_69ef.html" title="Legacy:Pawn (UT)">Pawn (UT)</a> Bot)&#160;</dt>
</dl>
<p><a name="Known_subclasses" id="Known_subclasses"></a></p>
<h2><span class="mw-headline">Known subclasses</span></h2>
<ul>
<li><a href="../../../../articles/a/s/m/Legacy%7EASMDAmmo_82ce.html" title="Legacy:ASMDAmmo">ASMDAmmo</a></li>
<li><a href="../../../../articles/f/l/a/Legacy%7EFlakBox_d5b9.html" title="Legacy:FlakBox">FlakBox</a></li>
<li>NullAmmo</li>
<li>RazorAmmo</li>
<li><a href="../../../../articles/r/i/f/Legacy%7ERifleAmmo_d755.html" title="Legacy:RifleAmmo">RifleAmmo</a></li>
<li>RocketCan</li>
<li><a href="../../../../articles/s/h/e/Legacy%7EShellBox_3e08.html" title="Legacy:ShellBox">ShellBox</a></li>
<li>Shells</li>
<li>Sludge</li>
<li>StingerAmmo</li>
<li><a href="../../../../articles/t/o/u/Legacy%7ETournamentAmmo_1da9.html" title="Legacy:TournamentAmmo">TournamentAmmo</a></li>
</ul>
<p><a name="Discussion" id="Discussion"></a></p>
<h2><span class="mw-headline">Discussion</span></h2>
<hr />
<p><b>Csimbi</b>: How can I change the starting ammo, the maximum ammo, and the pickup ammo settings dynamically (default properties are static)?</p>
<p>The following code adjust starting ammo and maximum ammo correctly, but how can I adjust the amount of ammo that is added when player picks up some ammo?</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">function</span> GiveWeapon<span class="br0">(</span><a href="/Pawn"><span class="kw10">pawn</span></a> P, <span class="kw4">string</span> ThisClass<span class="br0">)</span>
<span class="br0">{</span>
        <span class="kw5">local</span> class&lt;weapon&gt; WeaponClass;
        <span class="kw5">local</span> weapon NewWeapon;
 
        <span class="kw1">if</span> <span class="br0">(</span>ThisClass==<span class="st0">"none"</span><span class="br0">)</span> <span class="kw1">return</span>;
 
        WeaponClass = class&lt;weapon&gt;<span class="br0">(</span><span class="kw7">DynamicLoadObject</span><span class="br0">(</span>ThisClass, <span class="kw5">class</span><span class="st0">'Class'</span><span class="br0">)</span> <span class="br0">)</span>;
        <span class="kw1">if</span> <span class="br0">(</span>WeaponClass==none||P.<span class="me1">FindInventoryType</span><span class="br0">(</span>WeaponClass<span class="br0">)</span>!=<span class="kw9">none</span><span class="br0">)</span> <span class="kw1">return</span>;
 
        WeaponClass.<span class="kw1">default</span>.<span class="me1">ItemArticle</span>=MyArticle;
        NewWeapon=Spawn<span class="br0">(</span>WeaponClass<span class="br0">)</span>;
        WeaponClass.<span class="kw1">default</span>.<span class="me1">ItemArticle</span>=NormalArticle;
        NewWeapon.<span class="me1">RespawnTime</span>=<span class="nu0">0.0</span>;
        NewWeapon.<span class="me1">GiveTo</span><span class="br0">(</span>P<span class="br0">)</span>;
        NewWeapon.<span class="me1">bHeldItem</span>=<span class="kw9">true</span>;
        NewWeapon.<span class="me1">GiveAmmo</span><span class="br0">(</span>P<span class="br0">)</span>;
        NewWeapon.<span class="me1">SetSwitchPriority</span><span class="br0">(</span>P<span class="br0">)</span>;
        NewWeapon.<span class="me1">WeaponSet</span><span class="br0">(</span>P<span class="br0">)</span>;
        NewWeapon.<span class="me1">AmbientGlow</span> = <span class="nu0">0</span>;
 
        <span class="kw1">if</span> <span class="br0">(</span>P.<span class="kw7">IsA</span><span class="br0">(</span><span class="st0">'PlayerPawn'</span><span class="br0">)</span><span class="br0">)</span> NewWeapon.<span class="me1">SetHand</span><span class="br0">(</span>PlayerPawn<span class="br0">(</span>P<span class="br0">)</span>.<span class="me1">Handedness</span><span class="br0">)</span>;
        <span class="kw1">else</span> NewWeapon.<span class="kw7">GotoState</span><span class="br0">(</span><span class="st0">'Idle'</span><span class="br0">)</span>;
        P.<span class="me1">Weapon</span>.<span class="kw7">GotoState</span><span class="br0">(</span><span class="st0">'DownWeapon'</span><span class="br0">)</span>;
        P.<span class="me1">PendingWeapon</span>=<span class="kw9">none</span>;
        <span class="kw1">if</span><span class="br0">(</span>ThisClass==MyWeapon &amp;&amp; NewWeapon!=<span class="kw9">none</span><span class="br0">)</span>
        <span class="br0">{</span>
                NewWeapon.<span class="me1">AmmoType</span>.<span class="me1">AmmoAmount</span>=<span class="kw5">class</span><span class="st0">'OptionsPage'</span>.<span class="kw1">default</span>.<span class="me1">InitialAmmo</span>;
                NewWeapon.<span class="me1">AmmoType</span>.<span class="me1">MaxAmmo</span>=<span class="kw5">class</span><span class="st0">'OptionsPage'</span>.<span class="kw1">default</span>.<span class="me1">MaxAmmo</span>;
        <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
<p>An example would be nice... Thank You.</p>
<p><b>Wormbo:</b> You can use one of the various HandlePickupQuery() functions (<a href="../../../../articles/i/n/v/Legacy%7EInventory_%28UT%29_ac83.html" title="Legacy:Inventory (UT)">Inventory (UT)</a>, <a href="../../../../articles/m/u/t/Legacy%7EMutator_%28UT%29_e55e.html" title="Legacy:Mutator (UT)">Mutator (UT)</a>, etc.) to handle any type of pickup, but could you please put your questions where people can actually find them? The <a href="../../../../articles/h/e/l/Legacy%7EHelp_Desk_e07f.html" title="Legacy:Help Desk">Help Desk</a> would be a good place, or a coding forum (e.g. <a href="http://forums.beyondunreal.com/forumdisplay.php?f=101" class="external text" title="http://forums.beyondunreal.com/forumdisplay.php?f=101" rel="nofollow">BUF Coding</a>).</p>
<p><b>Ticklemonster:</b> Open the weapon's uc file, browse down to default properties, and look at this line:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
PickupAmmoCount=<span class="nu0">8</span>
</pre></div>
<p>Change the count to say 99.</p>
<p>Then, look for the weapon's ammo, let's say it's AmmoName=Class'botpack.BulletBox', to go open that uc file, and change it to look like this:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">class</span> BulletBox99 <span class="kw5">extends</span> TournamentAmmo;
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
     AmmoAmount=<span class="nu0">10</span>
     MaxAmmo=<span class="nu0">99</span>
     UsedInWeaponSlot<span class="br0">(</span><span class="nu0">9</span><span class="br0">)</span>=<span class="nu0">1</span>
     PickupMessage=<span class="st0">"You got a box of rifle rounds."</span>
     ItemName=<span class="st0">"Box of Rifle Rounds"</span>
     PickupViewMesh=LodMesh<span class="st0">'Botpack.BulletBoxM'</span>
     MaxDesireability=<span class="nu0">0.240000</span>
     Icon=<a href="/Texture"><span class="kw10">Texture</span></a><span class="st0">'UnrealI.Icons.I_RIFLEAmmo'</span>
     Physics=PHYS_Falling
     Skin=<a href="/Texture"><span class="kw10">Texture</span></a><span class="st0">'Botpack.Skins.BulletBoxT'</span>
     Mesh=LodMesh<span class="st0">'Botpack.BulletBoxM'</span>
     CollisionRadius=<span class="nu0">15.000000</span>
     CollisionHeight=<span class="nu0">10.000000</span>
     bCollideActors=<span class="kw9">True</span>
<span class="br0">}</span>
</pre></div>
<p>Of course you want to put them in their own class of their own named directory. Say it's a sniper rifle, save the assualtrifle.uc as assualtrifle99.uc and save the bulletbox as bulletbox99.uc. If they are in \AssaultRifle99\Classes, then you will have an AssaultRifle99.u that you can use. You'd want to make a mutator, I guess to make it want to work.</p>
<p>Does that help?</p>
<p><b>Unknown:</b> (hey Ma, look! I posted on Wiki.beyondunreal!!! Now if I could get someone to tell me how to make a flakslug act like a regular sniper bullet, then make that the primary fire on the flak cannon, I'd be all set... hint hint Mr. Wormbo)</p>

<!-- 
NewPP limit report
Preprocessor node count: 22/1000000
Post-expand include size: 226/2097152 bytes
Template argument size: 161/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../../articles/c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Category</a>: <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_Class_%28UT%29_523c.html" title="Category:Legacy Class (UT)">Legacy Class (UT)</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/a/m/m/Legacy%7EAmmo_%28UT%29_9204.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/a/m/m/Legacy_talk%7EAmmo_%28UT%29_0766.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:Ammo_%28UT%29">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 17:46, 20 February 2006 by Anonymous user(s) of Unreal Wiki. Based on work by Unreal Wiki user(s) <a href="../../../../articles/w/o/r/User%7EWormbo_7d13.html" title="User:Wormbo">Wormbo</a>.</li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
