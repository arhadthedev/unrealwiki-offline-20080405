<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:Assault Mapping Tutorial/Continuing The Assault - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:Assault Mapping Tutorial/Continuing The Assault</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"><span class="subpages">&lt; <a href="../../../../articles/a/s/s/Legacy%7EAssault_Mapping_Tutorial_a684.html" title="Legacy:Assault Mapping Tutorial">Legacy:Assault Mapping Tutorial</a></span></div>
	    	    	    <!-- start content -->
	    <hr />
<p>This page is a section of the <a href="../../../../articles/a/s/s/Legacy%7EAssault_Mapping_Tutorial_a684.html" title="Legacy:Assault Mapping Tutorial">Assault Mapping Tutorial</a>. If you have arrived here from some other place, this page will likely make more sense if you start at the above link and read the tutorial through from beginning to end.</p>
<p><b>Previous Section: <a href="../../../../articles/a/s/s/Legacy%7EAssault_Mapping_Tutorial_Attacking_And_Defending_e978.html" title="Legacy:Assault Mapping Tutorial/Attacking And Defending">Legacy:Assault Mapping Tutorial/Attacking And Defending</a></b></p>
<p><b>Next Section: <a href="../../../../articles/a/s/s/Legacy%7EAssault_Mapping_Tutorial_Other_Objectives_7f2e.html" title="Legacy:Assault Mapping Tutorial/Other Objectives">Legacy:Assault Mapping Tutorial/Other Objectives</a></b></p>
<hr />
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Continuing_the_Assault"><span class="tocnumber">1</span> <span class="toctext">Continuing the Assault</span></a></li>
<li class="toclevel-1"><a href="#Adding_a_HoldObjective"><span class="tocnumber">2</span> <span class="toctext">Adding a HoldObjective</span></a>
<ul>
<li class="toclevel-2"><a href="#Objective_Ordering"><span class="tocnumber">2.1</span> <span class="toctext">Objective Ordering</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#PlayerStart_Management"><span class="tocnumber">3</span> <span class="toctext">PlayerStart Management</span></a></li>
<li class="toclevel-1"><a href="#Critical_Objective_Volumes.2C_Bot_Pathing.2C_Etc."><span class="tocnumber">4</span> <span class="toctext">Critical Objective Volumes, Bot Pathing, Etc.</span></a></li>
<li class="toclevel-1"><a href="#Ending_the_Round"><span class="tocnumber">5</span> <span class="toctext">Ending the Round</span></a></li>
<li class="toclevel-1"><a href="#Comments:"><span class="tocnumber">6</span> <span class="toctext">Comments:</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Continuing_the_Assault" id="Continuing_the_Assault"></a></p>
<h2><span class="mw-headline">Continuing the Assault</span></h2>
<p>So now we have a pretty complete first objective, including reasonably sophisticated bot attacking and defending behaviors, objective warnings, and all that good stuff. The attackers come over the hill, they fight their way through the opposition, eventually blow up the door, and then proceed triumphantly through the doorway and ...off the edge of the world. Hmm.. Looks like it's time to build the rest of our map, huh?</p>
<p>The next logical objective from our backstory is for our heroes to proceed into the depths of the base, presumably navigate through a few hallways, and find themselves at the power core, which they will then need to trigger to overload somehow. As mentioned before, it can add some interest and strategy to a game when there's more than one way to reach an objective, so let's build our base symmetrically, with a path on either side leading to a central chamber for the power core.</p>
<p>From my planning stage, I've already done some thinking about the rest of the assault, and so it happens I've already made a sketch for this stage of things as well, which looks something like this:</p>
<div class="center">
<div class="floatnone"><span><a href="../../../../articles/l/e/g/Image%7ELegacy_astut-sketch2.png_8dda.html" class="image" title="Legacy astut-sketch2.png"><img alt="" src="../../../../images/Legacy_astut-sketch2.png" width="512" height="512" border="0" /></a></span></div>
</div>
<p>Note here that I've planned things so that the defenders will start out behind the objective and need to come forward past it to meet the attackers. This is often a good idea for a couple of reasons:</p>
<ul>
<li>It reduces the likelihood that defenders who aren't intimately familiar with the map will get confused about what's where and which direction they should be heading: There's only one way to go, and it takes you to both the objective and the direction the attackers are coming from.</li>
<li>It keeps the defender spawn point out of the middle of the combat. This both means that defenders probably won't spawn right on top of a rocket blast, and also means that attackers don't have the problem of that guy they just killed suddenly respawning behind them and blowing them away.</li>
<li>It makes some logical sense (and things that make sense always make a level more intuitive to play). Defenders are going to be coming out from the deeper levels of things to meet the attack, they don't suddenly appear in the middle of attacker-held territory.</li>
</ul>
<p>Again, I'm not going to bore you with a lot of basic mapbuilding details here. Let's just assume we've built this part of the map for now, and we've got a few hallways leading to a central room with a power core:</p>
<div class="center">
<div class="floatnone"><span><a href="../../../../articles/l/e/g/Image%7ELegacy_astut-inside.jpeg_ec89.html" class="image" title="Legacy astut-inside.jpeg"><img alt="" src="../../../../images/Legacy_astut-inside.jpeg" width="700" height="371" border="0" /></a></span></div>
</div>
<p><a name="Adding_a_HoldObjective" id="Adding_a_HoldObjective"></a></p>
<h2><span class="mw-headline">Adding a HoldObjective</span></h2>
<p>Ok, so we've got a power core, and some routes to it, now we need something to do when the attackers get there. For this part of things, we'll use a different kind of objective known as a <a href="../../../../articles/h/o/l/Legacy%7EHoldObjective_c917.html" title="Legacy:HoldObjective">HoldObjective</a>. As the name implies, a HoldObjective is simply one that an attacker must touch and "hold" (by continuing to touch it) for a certain amount of time in order to complete it (the most common way that HoldObjectives are represented in Assault maps is as levers that need to be pulled).</p>
<p>We'll set up some sort of a console in front of the power core which the attackers will need to get to long enough to do whatever one does to start an overload in a power core. Start by <a href="../../../../articles/a/d/d/Legacy%7EAdd_A_Static_Mesh_c116.html" title="Legacy:Add A Static Mesh">adding a Static Mesh</a> for a console (something like, say, AlleriaHardware.Miscellaneous.pConsoleA01AL) a little bit in front of the power core (if you're using that console mesh, you'll need something for the back of it too. I used AlleriaHardware.Miscellaneous.RingCon01AL for that).</p>
<p>Now we need the actual objective. <a href="../../../../articles/a/d/d/Legacy%7EAdd_An_Actor_105f.html" title="Legacy:Add An Actor">Add an Actor</a>&gt;&gt;NavigationPoint&gt;&gt;JumpDest&gt;&gt;JumpSpot&gt;&gt;GameObjective&gt;&gt;ProximityObjective&gt;&gt;HoldObjective to the map, and place it right in front of the console we just placed. This is where we'll want people to stand to trigger the objective. Make sure it's placed so that its collision cylinder is resting on the ground (this will ensure that the objective effects show up in the right place). Since the HoldObjective just shows up as an icon in the editor, to do this part of things, it often helps to select Radii View in the 3D viewport to get an idea of what the collision cylinder for the HoldObjective is. Next, open the HoldObjective's properties window, and <a href="../../../../articles/s/e/t/Legacy%7ESet_The_Following_Properties_ae9e.html" title="Legacy:Set The Following Properties">set the following properties</a>:</p>
<ul>
<li>Events-&gt;Tag = CoreObjective</li>
<li>Events-&gt;Event = CoreObjectiveCompleted</li>
<li>GameObjective-&gt;ObjectiveName = the Power Core</li>
<li>GameObjective-&gt;LocationPrefix = Near</li>
<li>GameObjective-&gt;LocationPostfix =</li>
<li>GameObjective-&gt;Score = 10</li>
<li>Assault-&gt;DrawDistThresHold = 0</li>
<li>Assault-&gt;Objective_Info_Attacker = Trigger an Overload in the Power Core</li>
<li>Assault-&gt;Objective_Info_Defender = Defend the Power Core</li>
<li>Assault-&gt;ObjectiveDescription = Flip the Lever to Trigger an Overload</li>
<li>GameObjective-&gt;DestructionMessage = Power Core Overload Sequence Activated!</li>
</ul>
<p>(For those who don't remember, all of the above properties are explained in <a href="../../../../articles/a/s/s/Legacy%7EAssault_Mapping_Tutorial_Creating_A_Destroyable_Objective_27d7.html" title="Legacy:Assault Mapping Tutorial/Creating A Destroyable Objective">Legacy:Assault Mapping Tutorial/Creating A Destroyable Objective</a>) There are also a couple of additional properties specific to HoldObjectives which you'll want to set:</p>
<dl>
<dt>HoldObjective-&gt;bLocationFX = True</dt>
<dd>This will cause the HoldObjective to display a flashing indicator where it's located in the map indicating that players should "stand here".</dd>
<dt>ProximityObjective-&gt;ConstraintPawnClass = UnrealPawn</dt>
<dd>(this is the default) This specifies what type of actor something has to be in order to trigger this HoldObjective. The default will match any UnrealPawn (which basically means any player or bot in any form). For some types of objectives (such as vehicle-based ones), you may want to narrow this to a more specific class of actor.</dd>
</dl>
<p>Now, all HoldObjectives need to be associated with a mover of some kind. It's actually the movement and position of this mover which determines how close to "completed" the objective is (when the mover reaches its end point, the objective has been accomplished). For simplicity, we'll just create a lever which needs to be flipped, and associate that mover with our HoldObjective, so <a href="../../../../articles/c/r/e/Legacy%7ECreate_A_Mover_eb2c.html" title="Legacy:Create A Mover">create a mover</a> using the Rahnem_Glacier.Base.plunger static mesh, and place it so that it looks like it's attached to the console next to where we put the HoldObjective. For <a href="../../../../articles/k/e/y/Legacy%7EKeyframe_b7a3.html" title="Legacy:Keyframe">keyframe</a> 0, rotate it appropriately so it looks like it's in the flipped-up position. Now set it to <a href="../../../../articles/k/e/y/Legacy%7EKeyframe_b7a3.html" title="Legacy:Keyframe">keyframe</a> 1, and rotate it so that it's in the flipped-down position (if you're having a bit of trouble with the rotations here, try setting Roll and Yaw both to -16384, and use Pitch to adjust the lever angle). There, now we have a flippable lever and a HoldObjective, we just need to tie them together.</p>
<p>Go into the HoldObjective's properties, and <a href="../../../../articles/s/e/t/Legacy%7ESet_The_Following_Properties_ae9e.html" title="Legacy:Set The Following Properties">set the following properties</a>:</p>
<ul>
<li>HoldObjective-&gt;MoverTag = CoreObjectiveLever</li>
</ul>
<p>Now, go into the new mover's properties, and <a href="../../../../articles/s/e/t/Legacy%7ESet_The_Following_Properties_ae9e.html" title="Legacy:Set The Following Properties">set the following properties</a>:</p>
<ul>
<li>Events-&gt;Tag = CoreObjectiveLever</li>
<li>Events-&gt;Event = CoreObjective</li>
<li>Object-&gt;InitialState = TriggerAdvance</li>
<li>Mover-&gt;MoverEncroachType = ME_IgnoreWhenEncroach</li>
<li>Mover-&gt;MoveTime = The time you want the hold objective to 'last' for</li>
</ul>
<p>There. Now, what will happen is this:</p>
<ol>
<li>When somebody stands on the HoldObjective, it will send a trigger event to its HoldObjective-&gt;MoverTag, which in this case is our CoreObjectiveLever.</li>
<li>The lever is set to TriggerAdvance, which means it will start moving when it's triggered, and stop moving when it's untriggered.</li>
<li>If whoever's standing on the HoldObjective stops standing on it, it will send an untrigger event to the lever, which will cause it to stop moving.</li>
<li>Once the lever reaches the end of its movement, it will trigger its Events-&gt;Event, which is set to the tag value for our HoldObjective.</li>
<li>When the HoldObjective gets triggered, it will consider itself "completed" and deactivate itself, accomplishing the goal.</li>
<li>When the HoldObjective is completed (after the time set in Mover-&gt;MoveTime), in addition to deactivating itself as an objective, it will also trigger its own Events-&gt;Event, which in this case is set to CoreObjectiveCompleted. You can use this event (in a ScriptedTrigger or elsewhere) to have things happen when this objective has been completed.</li>
<li>Throughout the whole process, the HUD indicators for the objective which show how close to "completed" it is will all look at the position of the HoldObjective-&gt;MoverTag mover to see how far it is through its movement, and draw that as a percent-completed in all the indicators.</li>
</ol>
<p>There's only one little factor left: How do we set how long somebody has to stand on the objective to complete it? Remember what I said earlier: It's the movement of the mover which determines how "complete" the objective is, so to determine how long it takes to complete the objective, all we need to do is change how long it takes the mover to do its movement. Go into the lever's properties, and set its Mover-&gt;MoveTime to something appropriate, like say 5. This will make it so that the attackers have to stand on the HoldObjective for a total amount of 5 seconds before it will be completed (I know it doesn't sound like much, but 5 seconds can be a long time when you're being shot at from all sides)</p>
<p><a name="Objective_Ordering" id="Objective_Ordering"></a></p>
<h3><span class="mw-headline">Objective Ordering</span></h3>
<p>Now that we have more than one objective in our map, it's important to talk for a minute about objective ordering. The game does most of the hard work of objective management for you by automatically progressing from one objective to the next as goals are accomplished by the attackers, but how does it know which objective is "first", and then which is "next"?</p>
<p>As it turns out, this is all handled by the GameObjective-&gt;DefensePriority property. All of the GameObjectives in a given level are ordered in descending DefensePriority. That means that the GameObjective with the highest DefensePriority value is the first objective of the assault, and the one with the lowest DefensePriority is the last one.</p>
<p>This may seem counterintuitive at first, because one would expect the objectives to be numbered in the order they're completed, but think of it this way: At any point in time, all of the defenders look at all of the active objectives and try to decide which one is the most important one for them to defend. Obviously, the most important objective to defend is the first one, which the attackers are going to be reaching first, so that objective should have the highest DefensePriority. If they succeed in defending the first (most important) objective, then they don't need to worry about any of the others. If they fail to defend that objective and it falls, then they will need to fall back to the next most important one and try to defend that instead. Based on this logic, the first objective should have the highest DefensePriority, and the last one the lowest. Because of this, the game also treats the objectives this way when displaying them on the HUD and deciding what the attackers should be going for as well.</p>
<p>Note that it's also possible (and perfectly legal) to give two objectives the same DefensePriority. What this does is cause both objectives to be the current objective at the same time, and both will need to be completed before moving on to the next objective. An example of this is the shield generators in AS-RobotFactory or the ion generator switches in AS-Glacier. Also note that it doesn't really matter what values you use for DefensePriority, what matters is simply whether one objective's value is higher or lower than another one's.</p>
<p>So, every time you add a new GameObjective, it's a good idea to check all of your DefensePriority settings to make sure they're in the right order. For our little map here, let's set our new HoldObjective's DefensePriority to 0 and set our earlier door objective's DefensePriority to 1.</p>
<p><a name="PlayerStart_Management" id="PlayerStart_Management"></a></p>
<h2><span class="mw-headline">PlayerStart Management</span></h2>
<p>Ok, everything's all set up for our second objective, and after the door gets blown up, the new HoldObjective becomes the next target for the attackers automatically. There's still a problem, though: The defenders are still spawning on the roof, even though they've failed to defend the door, and the attackers are still spawning way back at the beginning, which makes for a long run to get to the power core. We want to have the spawn points change when the door gets destroyed to reflect the progress that the attackers have made.</p>
<p>The first thing we'll need to do, obviously, is to set up some new PlayerStarts for the defenders back behind the power core. As before, we've got a fair amount of room, so let's put down 16 of them (8 on each side of the hallway). Now make sure all of these new PlayerStarts have a TeamNumber of 2, to make them a new group which is separate from either of the previous groups (0 and 1). (While we're here, you might want to put down a couple of WeaponLockers too, so the defenders have something to shoot with. (Choice of weapons is left as an exercise for the reader&#160;:) ))</p>
<p>Next, we need a PlayerSpawnManager for this new group of PlayerStarts. <a href="../../../../articles/a/d/d/Legacy%7EAdd_An_Actor_105f.html" title="Legacy:Add An Actor">Add an Actor</a>&gt;&gt;Info&gt;&gt;PlayerSpawnManager near the PlayerStarts, and <a href="../../../../articles/s/e/t/Legacy%7ESet_The_Following_Properties_ae9e.html" title="Legacy:Set The Following Properties">set the following properties</a>:</p>
<ul>
<li>PlayerSpawnManager-&gt;AssaultTeam = EPSM_Defenders</li>
<li>PlayerSpawnManager-&gt;bEnabled = False</li>
<li>PlayerSpawnManager-&gt;PlayerStartTeam = 2</li>
</ul>
<p>Note that we set this one to bEnabled = False. This is because we don't want this group of PlayerStarts to be active at the start of the game, we only want people to start spawning here once the door has been destroyed and we activate this group. There is one more property we want to set as well:</p>
<ul>
<li>PlayerSpawnManager-&gt;bAllowTeleporting = True</li>
</ul>
<p>This property indicates that when this group of PlayerStarts becomes active, players will be able to hit the 'Q' key to instantly teleport to the new spawn point, so they don't have to run back from wherever they are to get close to the new objective, which can be very handy and is something you'll usually want to set.</p>
<p>Ok, now we've got the new PlayerSpawn area set up, how do we activate it? You remember that ScriptedTrigger we set up to generate the explosion when the door blew up? Well, we can use it for more than just explosions. First, though, we'll need to give our PlayerSpawnManagers some distinctive tags so we can refer to them in the script. Go to the new PlayerSpawnManager we just created and set its Events-&gt;Tag to something appropriate, like "DefenderSpawnCore". Now go to the original defender PlayerSpawnManager on top of the roof and set its Events-&gt;Tag to "DefenderSpawnDoor".</p>
<p>Now go back to the ScriptedTrigger for the door and open its properties. Go to the AIScript-&gt;Actions property, and <a href="../../../../articles/a/d/d/Legacy%7EAdd_An_Inline_Object_eb79.html" title="Legacy:Add An Inline Object">add a couple more inline objects</a> to the end:</p>
<dl>
<dt>ACTION_ASSetPlayerSpawnArea</dt>
</dl>
<dl>
<dd>
<ul>
<li>PlayerSpawnManagerTag = DefenderSpawnCore</li>
<li>bEnabled = True</li>
</ul>
</dd>
</dl>
<dl>
<dt>ACTION_ASSetPlayerSpawnArea</dt>
</dl>
<dl>
<dd>
<ul>
<li>PlayerSpawnManagerTag = DefenderSpawnDoor</li>
<li>bEnabled = False</li>
</ul>
</dd>
</dl>
<p>Now once the door gets blown up, the ScriptedTrigger will automatically enable the new spawn point for the defenders, and disable the old one. Now what about the Attackers?</p>
<p>Well, we could set up some new PlayerStarts for them too, maybe somewhere near the door... but wait, we've already got some PlayerStarts near the door (the ones the defenders were using). Too bad we can't just re-use those for the attackers now, right? Well, as it happens we can. In fact, all we have to do is create a new PlayerSpawnManager, and set it up as follows:</p>
<ul>
<li>PlayerSpawnManager-&gt;AssaultTeam = EPSM_Attackers</li>
<li>PlayerSpawnManager-&gt;bEnabled = False</li>
<li>PlayerSpawnManager-&gt;PlayerStartTeam = 1</li>
<li>PlayerSpawnManager-&gt;bAllowTeleporting = True</li>
</ul>
<p>Note that the PlayerStartTeam is set to 1, which means this PlayerSpawnManager uses the same PlayerStarts as the defender PlayerSpawnManager we created originally. This doesn't cause a problem because, as with the previous one we just set up, this PlayerSpawnManager is set bEnabled = False, which means we won't get attackers and defenders both spawning here as soon as the game starts. However, now that we have this PlayerSpawnManager set up, this means we can turn on the ability for attackers to spawn here later, when it's appropriate (after we've deactivated the defender PlayerSpawnManager which was using this group).</p>
<p>The only thing that's left is to set up the ScriptedTrigger to change the attacker PlayerSpawnManagers the same as we did for the defenders. Again, we're going to need our PlayerSpawnManagers to have tag names, so set Events-&gt;Tag on the new one we just created to be "AttackerSpwanCore", and go back to the old one and set its Events-&gt;Tag to "AttackerSpawnDoor". Now in the ScriptedTrigger's AIScript-Actions property, add the following entries to the end of the list:</p>
<dl>
<dt>ACTION_ASSetPlayerSpawnArea</dt>
</dl>
<dl>
<dd>
<ul>
<li>PlayerSpawnManagerTag = AttackerSpawnCore</li>
<li>bEnabled = True</li>
</ul>
</dd>
</dl>
<dl>
<dt>ACTION_ASSetPlayerSpawnArea</dt>
</dl>
<dl>
<dd>
<ul>
<li>PlayerSpawnManagerTag = AttackerSpawnDoor</li>
<li>bEnabled = False</li>
</ul>
</dd>
</dl>
<p>There we go! Now when the first objective is completed, the defenders will automatically fall back to their new spawn point inside the base, and the attackers will be able to start spawning on top of the roof so they won't have to run as far to get inside.</p>
<p><a name="Critical_Objective_Volumes.2C_Bot_Pathing.2C_Etc." id="Critical_Objective_Volumes.2C_Bot_Pathing.2C_Etc."></a></p>
<h2><span class="mw-headline">Critical Objective Volumes, Bot Pathing, Etc.</span></h2>
<p>Setting up <a href="../../../../articles/b/o/t/Legacy%7EBot_Pathing_6d68.html" title="Legacy:Bot Pathing">bot pathing</a> and <a href="../../../../articles/a/s/c/Legacy%7EASCriticalObjectiveVolume_1df2.html" title="Legacy:ASCriticalObjectiveVolume">ASCriticalObjectiveVolumes</a> and such is pretty much all the same for this objective as it was for our previous one. It is important to note, however, that critical objective volumes are particularly important for HoldObjectives, because unlike DestroyableObjectives which sound their alert as soon as somebody hits them (from a distance), the first warning you'll get by default from a HoldObjective is when the attacker is already right on top of it, which in many cases is too late to do a lot.</p>
<p>Also, when pathing the second part of our map here, it is worth noting that we will need to <a href="../../../../articles/a/d/d/Legacy%7EAdd_An_Actor_105f.html" title="Legacy:Add An Actor">add an Actor</a>&gt;&gt;NavigationPoint&gt;&gt;<a href="../../../../articles/b/l/o/Legacy%7EBlockedPath_e589.html" title="Legacy:BlockedPath">BlockedPath</a> at the outer door to tell bots that they can't go that way initially (because the door is there). Once you've placed the BlockedPath actor (and done whatever you need to to make it fit into the bot path network the way you want), set its Events-&gt;Tag to something appropriate (say, "DoorPath"), and then go to the ScriptedTrigger's AIScript-&gt;Actions property again and add another action:</p>
<dl>
<dt>Action_TRIGGEREVENT</dt>
</dl>
<dl>
<dd>
<ul>
<li>Event = DoorPath</li>
</ul>
</dd>
</dl>
<p>Thus, when the door gets destroyed, in addition to showing the explosion and rearranging the spawn points, it will also unblock the path through the door so the bots know they can go that way now.</p>
<p><a name="Ending_the_Round" id="Ending_the_Round"></a></p>
<h2><span class="mw-headline">Ending the Round</span></h2>
<p>So now we've got our whole (short) assault put together. The attackers come around the valley, blow up the door, infiltrate the base, make their way to the power core, and set it to overload, and they win! But wait, something's wrong here: They don't actually win. Sure, all the objectives get completed, but then the game just keeps going until the timer finishes counting down, with nothing left for anybody to accomplish. We need to make the game end the round when the last objective is completed, so that the attackers can celebrate their success, and the defenders will get a try at things.</p>
<p>In Assault, ending the round is accomplished using a Trigger_ASRoundEnd actor. One of the last things we need to do before this map will be complete, therefore, is to <a href="../../../../articles/a/d/d/Legacy%7EAdd_An_Actor_105f.html" title="Legacy:Add An Actor">add an Actor</a>&gt;&gt;Triggers&gt;&gt;Trigger_ASRoundEnd to the map. It doesn't really matter where you put it, but it's generally a good idea to put it somewhere near the last objective so it's easy to find later. The Trigger_ASRoundEnd actor is very easy to use. Simply set its Events-&gt;Tag property to some appropriate name (I usually use something obvious like "RoundEnd"), and then set that event up to be triggered when the last objective is completed (you can either do this by just setting that name in the last objective's Events-&gt;Event property or, assuming you want to have other things (explosions, etc) happen when the objective is completed, simply add an Action_TRIGGEREVENT action to the appropriate ScriptedTrigger to trigger the "RoundEnd" event along with everything else).</p>
<p>There's just one other little detail left, which you may have noticed. When the round ends, the default behavior for the game is to switch to a camera view of the current objective, which you can rotate around. Often, however, the default ending view for an objective isn't in the right place, or doesn't show the best scene, and you might wish to change it. In fact, when the game ends while people are still attacking the base door, the default view in our map isn't really ideal, so let's change that. Here's how we go about it:</p>
<p>First, we need to set up an ASCinematic_Camera to indicate where the view should be located and what it should be pointing at. To do this, <a href="../../../../articles/a/d/d/Legacy%7EAdd_An_Actor_105f.html" title="Legacy:Add An Actor">add an Actor</a>&gt;&gt;ASCinematic_Camera to the map where you would like it, and rotate it appropriately. An easy way to get the placement and rotation the way you'd like it is to position your 3D view in the editor the way you want the camera's view to be, then find your editor camera (the little eye icon) in one of the 2D views, right-click on it, and bring up its properties. Note down the Movement-&gt;Location and Movement-&gt;Rotation values, and then when you create your ASCinematic_Camera, simply type in those same values for it.</p>
<p>Now to associate it with the game objective. Go into the ASCinematic_Camera's properties and set its Events-&gt;Tag to some appropriate value such as, say, BaseDoorCamera. Now open up the properties for our base door DestroyableObjective_SM, and set its Assault-&gt;EndCameraTag to the same value. Now whenever the round ends while the base door is the active objective, it will show a view from our new camera position instead of the default.</p>
<hr />
<p><b>Proceed to the next section: <a href="../../../../articles/a/s/s/Legacy%7EAssault_Mapping_Tutorial_Other_Objectives_7f2e.html" title="Legacy:Assault Mapping Tutorial/Other Objectives">Legacy:Assault Mapping Tutorial/Other Objectives</a></b></p>
<hr />
<p>This tutorial was originally written and contributed to the Wiki community by <a href="../../../../articles/f/o/o/Legacy%7EFoogod_0d6e.html" title="Legacy:Foogod">Foogod</a>. Questions and comments are welcome! Please either leave them on my personal page or at the bottom of the relevant tutorial page. If you see something which is wrong or unclear and you think needs some correction, please feel free to edit the text directly (that's what the Wiki is for!), but please try to keep the tutorial flow intact (no thread discussions in the middle of the tutorial text, please).</p>
<p>Note: To reduce clutter, comments on the tutorial pages will be periodically moved to the <a href="../../../../articles/a/s/s/Legacy%7EAssault_Mapping_Tutorial_Discussion_978b.html" title="Legacy:Assault Mapping Tutorial/Discussion">Legacy:Assault Mapping Tutorial/Discussion</a> page. Look there for older comments and thread discussions.</p>
<p><a name="Comments:" id="Comments:"></a></p>
<h2><span class="mw-headline">Comments:</span></h2>

<!-- 
NewPP limit report
Preprocessor node count: 18/1000000
Post-expand include size: 150/2097152 bytes
Template argument size: 0/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/a/s/s/Legacy%7EAssault_Mapping_Tutorial_Continuing_The_Assault_a54d.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/a/s/s/Legacy_talk%7EAssault_Mapping_Tutorial_Continuing_The_Assault_00c8.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:Assault_Mapping_Tutorial/Continuing_The_Assault">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 18:44, 15 July 2006 by Anonymous user(s) of Unreal Wiki. </li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
