<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:Creating A Material - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:Creating A Material</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Creating_the_material"><span class="tocnumber">1</span> <span class="toctext">Creating the material</span></a>
<ul>
<li class="toclevel-2"><a href="#Basic_texture"><span class="tocnumber">1.1</span> <span class="toctext">Basic texture</span></a></li>
<li class="toclevel-2"><a href="#Animation"><span class="tocnumber">1.2</span> <span class="toctext">Animation</span></a></li>
<li class="toclevel-2"><a href="#Reflection"><span class="tocnumber">1.3</span> <span class="toctext">Reflection</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Translucency"><span class="tocnumber">2</span> <span class="toctext">Translucency</span></a></li>
<li class="toclevel-1"><a href="#Discussion"><span class="tocnumber">3</span> <span class="toctext">Discussion</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Creating_the_material" id="Creating_the_material"></a></p>
<h2><span class="mw-headline">Creating the material</span></h2>
<p><a name="Basic_texture" id="Basic_texture"></a></p>
<h3><span class="mw-headline">Basic texture</span></h3>
<p>We have to create a new material to use as a surface. It will be a liquid, reflective, moving and translucent.</p>
<p><b>1.</b> We'll steal and edit a moss texture.(don't worry. Although moss is not water, all will become clearin the end.) There is a good one in Antalus (<i>AWGlobal.utx</i>).</p>
<p>You'll need to <a href="../../../../articles/t/e/x/Legacy%7ETexture_Import_And_Export_cd4f.html" title="Legacy:Texture Import And Export">export</a> this.</p>
<div class="center">
<div class="floatnone"><span><a href="../../../../articles/l/e/g/Image%7ELegacy_fluidsurfaces-4.jpeg_4081.html" class="image" title="a moss texture"><img alt="a moss texture" src="../../../../images/Legacy_fluidsurfaces-4.jpeg" width="256" height="256" border="0" /></a></span></div>
</div>
<p>Because we don't want to cover the whole surface with it, we'll use an <a href="../../../../articles/a/l/p/Legacy%7EAlpha_Channel_f319.html" title="Legacy:Alpha Channel">alpha channel</a>. In a <a href="../../../../articles/g/r/a/Legacy%7EGraphics_Application_8ec5.html" title="Legacy:Graphics Application">Graphics Application</a> like Paint Shop Pro or Photoshop, open your moss image and create a new mask (see screen shot in PSP).</p>
<div class="center">
<div class="floatnone"><span><a href="../../../../articles/l/e/g/Image%7ELegacy_fluidsurfaces-5.jpeg_6aa8.html" class="image" title="the new mask button in PSP"><img alt="the new mask button in PSP" src="../../../../images/Legacy_fluidsurfaces-5.jpeg" width="311" height="56" border="0" /></a></span></div>
</div>
<p>An alpha channel is used to vary the transparency in an image. The image is opaque where the alpha channel is white. Draw some stuff on the alpha channel. You'll have to save your image in a format supporting alpha chanels (.TGA). It will be store inside the file. In PSP you have to use the <i>Save in an alpha channel</i> in the Mask menu.</p>
<div class="center">
<div class="floatnone"><span><a href="../../../../articles/l/e/g/Image%7ELegacy_fluidsurfaces-6.jpeg_1f00.html" class="image" title="the alpha channel sets the translucency of the image"><img alt="the alpha channel sets the translucency of the image" src="../../../../images/Legacy_fluidsurfaces-6.jpeg" width="256" height="256" border="0" /></a></span></div>
</div>
<p>If you want to use this moss texture for other purposes and don't need the alpha channel, hide it before saving.</p>
<p><b>2.</b> <a href="../../../../articles/i/m/p/Legacy%7EImport_The_Texture_57ec.html" title="Legacy:Import The Texture">Import the texture</a>. Using <a href="../../../../articles/m/y/l/Legacy%7EMyLevel_3b70.html" title="Legacy:MyLevel">MyLevel</a> in the package field will force the editor to save the textures inside the map file. Name the texture <i>mossmask</i> or something similar. You can put it in a group if you have a lot of textures in the <i>MyLevel</i> package.</p>
<div class="center">
<div class="floatnone"><span><a href="../../../../articles/l/e/g/Image%7ELegacy_fluidsurfaces-7.jpeg_35a5.html" class="image" title="the texture"><img alt="the texture" src="../../../../images/Legacy_fluidsurfaces-7.jpeg" width="211" height="177" border="0" /></a></span></div>
</div>
<p><b>Note:</b> when opening a level containing textures (or something else) in a <i>MyLevel</i> package, you may want to relaunch the editor before opening another map (yours&#160;;)) otherwise it could mess up your <i>MyLevel</i> package.</p>
<p><b>3.</b> If you're not sure of the scale of your texture, you can resize it by creating a new material: Chose <i>File</i> -&gt; <i>New</i> in the textures browser. Use <i>MyLevel</i> as package, choose an appropriate name like <i>mossmaskscaller</i> and <b><a href="../../../../articles/t/e/x/Legacy%7ETexScaler_18f6.html" title="Legacy:TexScaler">TexScaler</a></b> in properies. Now hit <b>New</b> and the properties window should open. Here you can view, and edit the details of your material.</p>
<p>On the properties tree at the bottom, Click <b>Material</b> then choose your moss texture in the browser and click on the <i>Use</i> button in the material line. Adjust the scale of the texture with the <b>UScale</b> and <b>VScale</b> field and the position with <b>UOffset</b> and <b>VOffset</b>.</p>
<div class="center">
<div class="floatnone"><span><a href="../../../../articles/l/e/g/Image%7ELegacy_fluidsurfaces-8.jpeg_2993.html" class="image" title="a texture scaler"><img alt="a texture scaler" src="../../../../images/Legacy_fluidsurfaces-8.jpeg" width="342" height="374" border="0" /></a></span></div>
</div>
<p><a name="Animation" id="Animation"></a></p>
<h3><span class="mw-headline">Animation</span></h3>
<p>Now we are able to animate the moss.</p>
<p><a href="../../../../articles/c/r/e/Legacy%7ECreate_A_Material_c106.html" title="Legacy:Create A Material">Create a material</a> of class <b>TexOscillator</b>. In the material field, put the previous texture (the scaler). Adjust the fields to your liking. UOscillationRate and OscillationRate determine how fast the texture moves. <b>UOscillationAmplitude</b> and <b>UOscillationAmplitude</b> determine how far it goes. Use small values for the amplitude and even smaller for the rate. Choose <i>OT_Stretch</i> for both <b>UOscillationType</b> and <b>VOscillationType</b> (the other ones are simple panning).</p>
<div class="center">
<div class="floatnone"><span><a href="../../../../articles/l/e/g/Image%7ELegacy_fluidsurfaces-9.jpeg_5e5b.html" class="image" title="an oscillator"><img alt="an oscillator" src="../../../../images/Legacy_fluidsurfaces-9.jpeg" width="334" height="415" border="0" /></a></span></div>
</div>
<p><a name="Reflection" id="Reflection"></a></p>
<h3><span class="mw-headline">Reflection</span></h3>
<p>The water surface will also reflect the world. But because it can't be done in real time, we'll use predefined environment maps. With the texture browser open <i>CubMaps.utx</i>, examine the several groups it contains. We'll create a material that blends the moss texture with a reflective texture.</p>
<p>Choose <i>File</i> -&gt; <i>New</i> one more time, set the package and name correctly and chose <b>Combiner</b> in the list. You will need to set 2 materials and 1 mask. In the first material field put the moss oscillator. In the second, put one of the cube maps in <i>CubeMaps.utx</i> (only pick the textures bordered in blue). <i>Cubemap'CubeMaps.Kretzig.Kretzigcube2'</i> is a good one for what we need.</p>
<p>Choose <i>CO_Alphablend_With_Mask</i> in <b>CombineOperation</b>. The mask will determine how the 2 materials will mix. Because the moss texture has an alpha channel, we will use it. Depending on how You did the mask, you may have to use the <b>InvertMask</b> option.</p>
<div class="center">
<div class="floatnone"><span><a href="../../../../articles/l/e/g/Image%7ELegacy_fluidsurfaces-10.jpeg_6ed9.html" class="image" title="a combiner"><img alt="a combiner" src="../../../../images/Legacy_fluidsurfaces-10.jpeg" width="367" height="381" border="0" /></a></span></div>
</div>
<p><a name="Translucency" id="Translucency"></a></p>
<h2><span class="mw-headline">Translucency</span></h2>
<p>We could use this material for the water surface but it would look strange. Mainly because it would be opaque&#160;;) Therefor we are going to create another masked texture to make it translucent. And to make the things perfect, it will fit the shape of the water zone!</p>
<p>The zone I want want to fill with water is bordered by a terrain and I'll make the water more translucent toward its "shores". I will use the height map of the terrain as to find the shores.</p>
<div class="center">
<div class="floatnone"><span><a href="../../../../articles/l/e/g/Image%7ELegacy_fluidsurfaces-12.jpeg_681f.html" class="image" title="highlighting the shores with PSP"><img alt="highlighting the shores with PSP" src="../../../../images/Legacy_fluidsurfaces-12.jpeg" width="304" height="343" border="0" /></a></span></div>
</div>
<p>Create a new image, the same size as the terrain height map, use the shores map as an alpha channel and save it. Don't use white in your alpha channel as the water has to be a least a little translucent.</p>
<div class="center">
<div class="floatnone"><span><a href="../../../../articles/l/e/g/Image%7ELegacy_fluidsurfaces-11.jpeg_90ef.html" class="image" title="the terrain heightmap and the alpha channel"><img alt="the terrain heightmap and the alpha channel" src="../../../../images/Legacy_fluidsurfaces-11.jpeg" width="224" height="287" border="0" /></a></span></div>
</div>
<p><b>7.</b> Back in UnrealEd, <a href="../../../../articles/i/m/p/Legacy%7EImport_The_Texture_57ec.html" title="Legacy:Import The Texture">import the texture</a> like you did with the moss texture. Now we have to make sure that the shores of this mask will fit with the shores of the terrain. In order to do that, create a <i>TexScaler</i> material for this texture (see above).</p>
<p><b>8.</b> All we have to do now is to apply the mask to the other material. Choose <i>File</i> -&gt; <i>New</i> (for the last time&#160;;)), set everything and choose <b>Shader</b>. A shader is a material containing useful informations. Use the combiner you created as the <b>Diffuse</b> layer and the <i>TexScaler</i> (created in the 7th step) as the <b>Opacity</b> layer. You can set <b>TwoSided</b> to <i>True</i> and the <b>SurfaceType</b> to <i>EST_Water</i> (although I'm not sure whether it's useful or not&#160;:p).</p>
<div class="center">
<div class="floatnone"><span><a href="../../../../articles/l/e/g/Image%7ELegacy_fluidsurfaces-13.jpeg_bdc7.html" class="image" title="the final shader"><img alt="the final shader" src="../../../../images/Legacy_fluidsurfaces-13.jpeg" width="393" height="421" border="0" /></a></span></div>
</div>
<p>Category_Tutorial</p>
<p><a name="Discussion" id="Discussion"></a></p>
<h2><span class="mw-headline">Discussion</span></h2>
<p><b>Bob_The_Beheader:</b> I think I've removed all the references to FluidSurfaces, but I could be wrong...</p>
<p>"Guest" This is very foggy information, i think u should upload previews screenshots.</p>

<!-- 
NewPP limit report
Preprocessor node count: 7/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/c/r/e/Legacy%7ECreating_A_Material_5f1d.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/c/r/e/Legacy_talk%7ECreating_A_Material_f5a3.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:Creating_A_Material">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 23:41, 25 October 2007 by Anonymous user(s) of Unreal Wiki. </li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
