<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:Controller - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:Controller</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <div class="infobox infobox-class infobox-legacy"><a href="../../../../articles/u/t/2/Legacy%7EUT2003_f97b.html" class="mw-redirect" title="Legacy:UT2003">UT2003</a>&#160;:: <a href="../../../../articles/o/b/j/Legacy%7EObject_f294.html" title="Legacy:Object">Object</a> &gt;&gt; <a href="../../../../articles/a/c/t/Legacy%7EActor_5985.html" title="Legacy:Actor">Actor</a> &gt;&gt; Controller (Package: Engine)</div>
<p>This class is a handle to a <a href="../../../../articles/p/a/w/Legacy%7EPawn_d11f.html" title="Legacy:Pawn">pawn</a>. Pawns are the physical player characters, the controller is the, well, controlling entity moving it around. There are two subclasses from this class, both are important: <a href="../../../../articles/a/i/c/Legacy%7EAIController_8307.html" title="Legacy:AIController">AIController</a> and <a href="../../../../articles/p/l/a/Legacy%7EPlayerController_178b.html" title="Legacy:PlayerController">PlayerController</a>. <a href="../../../../articles/c/o/n/Legacy%7EController_Overview_ec80.html" title="Legacy:Controller Overview">Controller Overview</a> covers this in more depth.</p>
<p>From this class, you can control everything from godmode to the pawn that you are focusing on to the adrenaline it has.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Notes"><span class="tocnumber">1</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1"><a href="#Properties"><span class="tocnumber">2</span> <span class="toctext">Properties</span></a>
<ul>
<li class="toclevel-2"><a href="#Main"><span class="tocnumber">2.1</span> <span class="toctext">Main</span></a></li>
<li class="toclevel-2"><a href="#AI"><span class="tocnumber">2.2</span> <span class="toctext">AI</span></a></li>
<li class="toclevel-2"><a href="#Input"><span class="tocnumber">2.3</span> <span class="toctext">Input</span></a></li>
<li class="toclevel-2"><a href="#Navigation"><span class="tocnumber">2.4</span> <span class="toctext">Navigation</span></a></li>
<li class="toclevel-2"><a href="#Enemy_Info"><span class="tocnumber">2.5</span> <span class="toctext">Enemy Info</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Functions"><span class="tocnumber">3</span> <span class="toctext">Functions</span></a></li>
<li class="toclevel-1"><a href="#Events"><span class="tocnumber">4</span> <span class="toctext">Events</span></a></li>
<li class="toclevel-1"><a href="#Controller_Class_Hierarchy"><span class="tocnumber">5</span> <span class="toctext">Controller Class Hierarchy</span></a></li>
<li class="toclevel-1"><a href="#Related_Pages"><span class="tocnumber">6</span> <span class="toctext">Related Pages</span></a></li>
<li class="toclevel-1"><a href="#Discussion"><span class="tocnumber">7</span> <span class="toctext">Discussion</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Notes" id="Notes"></a></p>
<h2><span class="mw-headline">Notes</span></h2>
<ul>
<li><a href="../../../../articles/a/d/r/Legacy%7EAdrenaline_cd3b.html" title="Legacy:Adrenaline">Adrenaline</a> is here, not in the pawn class.</li>
<li>There is a <a href="../../../../articles/l/i/n/Legacy%7ELinked_List_d63f.html" title="Legacy:Linked List">linked list</a> set up of the controllers, allowing you to move to the next controller in the list. The beginning of the list is in <tt>Level.ControllerList</tt>, and the link is the <tt>nextController</tt> field.</li>
</ul>
<p><a name="Properties" id="Properties"></a></p>
<h2><span class="mw-headline">Properties</span></h2>
<p><a name="Main" id="Main"></a></p>
<h3><span class="mw-headline">Main</span></h3>
<dl>
<dt><a href="../../../../articles/p/l/a/Legacy%7EPlayerReplicationInfo_be80.html" title="Legacy:PlayerReplicationInfo">PlayerReplicationInfo</a> PlayerReplicationInfo&#160;</dt>
<dd>The <a href="../../../../articles/p/l/a/Legacy%7EPlayerReplicationInfo_be80.html" title="Legacy:PlayerReplicationInfo">PlayerReplicationInfo</a> for this controller.</dd>
<dt><a href="../../../../articles/p/a/w/Legacy%7EPawn_d11f.html" title="Legacy:Pawn">Pawn</a> Pawn&#160;</dt>
<dd>The Pawn that this entity is controlling.</dd>
<dt>int PlayerNum (const)&#160;</dt>
<dd>The player number - per-match player number.</dd>
<dt>float SightCounter&#160;</dt>
<dd>Used to keep track of when to check player visibility.</dd>
<dt>float FovAngle&#160;</dt>
<dd>X field of view angle in degrees, usually 90.</dd>
<dt>float Handedness (globalconfig)&#160;</dt>
<dd>-1 for left, 0 for center, 1 for right, 2 for hidden</dd>
<dt>bool bIsPlayer&#160;</dt>
<dd>Pawn is a player or a player-bot.</dd>
<dt>bool bGodMode&#160;</dt>
<dd>cheat - when true, can't be killed or hurt</dd>
</dl>
<p><a name="AI" id="AI"></a></p>
<h3><span class="mw-headline">AI</span></h3>
<dl>
<dt>bool bLOSflag (const)&#160;</dt>
<dd>used for alternating LineOfSight traces</dd>
<dt>bool bAdvancedTactics&#160;</dt>
<dd>serpentine movement between pathnodes</dd>
<dt>bool bCanOpenDoors&#160;</dt>
<dd>(maybe used for matinees?)</dd>
<dt>bool bCanDoSpecial&#160;</dt>
<dd>True if this controller can handle doors and triggers that must be shot – checked by <a href="../../../../articles/p/a/w/Legacy%7EPawn_d11f.html" title="Legacy:Pawn">Pawn</a>.ShootSpecial().</dd>
<dt>bool bAdjusting&#160;</dt>
<dd>adjusting around obstacle</dd>
<dt>bool bPreparingMove&#160;</dt>
<dd>set true while pawn sets up for a latent move</dd>
<dt>bool bControlAnimations&#160;</dt>
<dd>take control of animations from pawn (don't let pawn play animations based on notifications)</dd>
<dt>bool bEnemyInfoValid&#160;</dt>
<dd>false when change enemy, true when LastSeenPos etc updated</dd>
<dt>bool bNotifyApex&#160;</dt>
<dd>event NotifyJumpApex() when at apex of jump</dd>
<dt>bool bUsePlayerHearing&#160;</dt>
<dd>No clue</dd>
<dt>bool bJumpOverWall&#160;</dt>
<dd>true when jumping to clear obstacle</dd>
<dt>bool bEnemyAcquired&#160;</dt>
<dd>Used to get notification when a bot sees someone</dd>
<dt>bool bSoaking&#160;</dt>
<dd>Pause and focus the camera on this bot if it encounters a problem</dd>
<dt>bool bHuntPlayer&#160;</dt>
<dd>hunting player</dd>
<dt>bool bAllowedToTranslocate&#160;</dt>
<dt>bool bAllowedToImpactJump&#160;</dt>
<dt>bool bAdrenalineEnabled&#160;</dt>
<dd>Interesting property - may be useful for a couple of mods?</dd>
</dl>
<p><a name="Input" id="Input"></a></p>
<h3><span class="mw-headline">Input</span></h3>
<dl>
<dt>byte bRun, bDuck, bFire, bAltFire (input)&#160;</dt>
<dd>These are input flags which are set in your User.ini. It seems that the engine is also checking bFire to automagically trigger the fire event, see <a href="../../../../articles/f/i/r/Legacy%7EFiring_Projectile_Weapons_390c.html" title="Legacy:Firing Projectile Weapons">Firing Projectile Weapons</a>.</dd>
<dt>vector AdjustLoc&#160;</dt>
<dd>location to move to while adjusting around obstacle</dd>
<dt>Controller nextController (const)&#160;</dt>
<dd>chained Controller list</dd>
<dt>float Stimulus&#160;</dt>
<dd>Strength of stimulus - Set when stimulus happens</dd>
</dl>
<p><a name="Navigation" id="Navigation"></a></p>
<h3><span class="mw-headline">Navigation</span></h3>
<dl>
<dt>float MoveTimer&#160;</dt>
<dd>Used in matinee and in AI pathing</dd>
<dt>Actor MoveTarget&#160;</dt>
<dd>Actor being moved toward</dd>
<dt>vector Destination&#160;</dt>
<dd>Location being moved toward</dd>
<dt>vector FocalPoint&#160;</dt>
<dd>Location being looked at</dd>
<dt>Actor Focus&#160;</dt>
<dd>Actor being looked at</dd>
<dt><a href="../../../../articles/m/o/v/Legacy%7EMover_6aa5.html" title="Legacy:Mover">Mover</a> PendingMover&#160;</dt>
<dd>A Mover the Pawn is waiting for to complete its move</dd>
<dt>Actor GoalList[4]&#160;</dt>
<dd>Used by navigation AI - list of intermediate goals</dd>
<dt><a href="../../../../articles/n/a/v/Legacy%7ENavigationPoint_80ac.html" title="Legacy:NavigationPoint">NavigationPoint</a> home&#160;</dt>
<dd>Set when begin play, used for retreating and attitude checks</dd>
<dt>float MinHitWall&#160;</dt>
<dd>Minimum HitNormal dot Velocity.Normal to get a HitWall event from the physics. Note that this should be greater than -1.f ( ex. -0.5f &gt; -1.f ) to enable HitWall notifications.</dd>
<dd><b>Pingz:</b> Someone double check my facts on MinHitWall and remove this comment.</dd>
<dt>float RespawnPredictionTime&#160;</dt>
<dd>How far ahead to predict respawns when looking for inventory</dd>
<dt>int AcquisitionYawRate&#160;</dt>
<dd>How fast to move on the z axis to aquire a new target (??)</dd>
</dl>
<p><a name="Enemy_Info" id="Enemy_Info"></a></p>
<h3><span class="mw-headline">Enemy Info</span></h3>
<dl>
<dt><a href="../../../../articles/p/a/w/Legacy%7EPawn_d11f.html" title="Legacy:Pawn">Pawn</a> Enemy&#160;</dt>
<dd>Pawn of my enemy</dd>
<dt>Actor Target&#160;</dt>
<dd>Actor being shot at; usually the enemy</dd>
<dt>vector LastSeenPos&#160;</dt>
<dd>enemy position when I last saw enemy (auto updated if EnemyNotVisible() enabled)</dd>
<dt>vector LastSeeingPos&#160;</dt>
<dd>position where I last saw enemy (auto updated if EnemyNotVisible enabled)</dd>
<dt>float LastSeenTime&#160;</dt>
<dd>Time I saw the last enemy (auto updated if EnemyNotVisible enabled)</dd>
<dt>string VoiceType&#160;</dt>
<dd>for speech</dd>
<dt>float OldMessageTime&#160;</dt>
<dd>to limit frequency of voice messages</dd>
</dl>
<p><a name="Functions" id="Functions"></a></p>
<h2><span class="mw-headline">Functions</span></h2>
<p>(incomplete)</p>
<dl>
<dt>FinishRotation() (native, final, latent)&#160;</dt>
<dd>Waits until the controller has finished rotating(?)</dd>
<dt>GetHumanReadableName()&#160;</dt>
<dd>Returns the name of the player associated with this controller.</dd>
</dl>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">529</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> AddController<span class="br0">(</span><span class="br0">)</span>;
</pre></div>
<p>It looks like this native function helps management of a <a href="../../../../articles/l/e/v/Legacy%7ELevelInfo_a2a1.html" title="Legacy:LevelInfo">Level</a>'s <i><b>ControllerList</b></i> - a linked list of all the <strong class="selflink">Controllers</strong> present. The only time it is ever called is in <strong class="selflink">Controller</strong>'s <i><b>PreBeginPlay()</b></i> event. To offer further evidence, <i><b>RemoveController()</b></i> is only ever called in the <i><b>Destroy()</b></i> event.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="co1">//Navigation functions - return the next path toward the goal</span>
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">518</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> <a href="/Actor"><span class="kw10">Actor</span></a> FindPathTo<span class="br0">(</span><span class="kw4">vector</span> aPoint<span class="br0">)</span>;
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">517</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> <a href="/Actor"><span class="kw10">Actor</span></a> FindPathToward<span class="br0">(</span><a href="/Actor"><span class="kw10">actor</span></a> anActor, <span class="kw6">optional</span> <span class="kw4">bool</span> bWeightDetours<span class="br0">)</span>;
 
<span class="kw6">native</span> <span class="kw6">final</span> <span class="kw5">function</span> <a href="/Actor"><span class="kw10">Actor</span></a> FindPathToIntercept<span class="br0">(</span><a href="/Pawn"><span class="kw10">Pawn</span></a> P, <a href="/Actor"><span class="kw10">Actor</span></a> RouteGoal, <span class="kw6">optional</span> <span class="kw4">bool</span> bWeightDetours<span class="br0">)</span>;
 
<span class="kw6">native</span> <span class="kw6">final</span> <span class="kw5">function</span> <a href="/Actor"><span class="kw10">Actor</span></a> FindPathTowardNearest<span class="br0">(</span>class&lt;NavigationPoint&gt; GoalClass, <span class="kw6">optional</span> <span class="kw4">bool</span> bWeightDetours<span class="br0">)</span>;
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">525</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> NavigationPoint FindRandomDest<span class="br0">(</span><span class="br0">)</span>;
</pre></div>
<p>These functions would mainly be useful for AI programming, but pathfinding functions can always be useful in other areas.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="coMULTI">/* PawnDied()
 unpossess a pawn (because pawn was killed)
 */</span>
 
<span class="kw5">function</span> PawnDied<span class="br0">(</span><a href="/Pawn"><span class="kw10">Pawn</span></a> P<span class="br0">)</span>
</pre></div>
<p>Usually invoked by <a href="../../../../articles/p/a/w/Legacy%7EPawn_d11f.html" title="Legacy:Pawn">Pawns</a> in the <i><b>Dying</b></i> state.</p>
<p><b>OlympusMons:</b> Added these here, some of it is duplicated should this be inline with the normal standard or are native functions done differently?? If they are documented the same as the standard functions I'll fix this up. Maybe these should be listed somewhere else, although they arnt globals they do cover all controller subclasses, except maybe <a href="../../../../articles/g/u/i/Legacy%7EGUIController_314e.html" title="Legacy:GUIController">GUIController</a>'s</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="co1">// Latent Movement.</span>
 
<span class="co1">//Note that MoveTo sets the actor's Destination, and MoveToward sets the actor's MoveTarget. </span>
 
<span class="co1">//Actor will rotate towards destination unless the optional ViewFocus is specified.</span>
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">500</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw6">latent</span> <span class="kw5">function</span> MoveTo<span class="br0">(</span> <span class="kw4">vector</span> NewDestination, <span class="kw6">optional</span> <a href="/Actor"><span class="kw10">Actor</span></a> ViewFocus, <span class="kw6">optional</span> <span class="kw4">bool</span> bShouldWalk<span class="br0">)</span>;
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">502</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw6">latent</span> <span class="kw5">function</span> MoveToward<span class="br0">(</span><a href="/Actor"><span class="kw10">actor</span></a> NewTarget, <span class="kw6">optional</span> <a href="/Actor"><span class="kw10">Actor</span></a> ViewFocus, <span class="kw6">optional</span> <span class="kw4">float</span> DestinationOffset, <span class="kw6">optional</span> <span class="kw4">bool</span> bUseStrafing, <span class="kw6">optional</span> <span class="kw4">bool</span> bShouldWalk<span class="br0">)</span>;
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">508</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw6">latent</span> <span class="kw5">function</span> FinishRotation<span class="br0">(</span><span class="br0">)</span>;
</pre></div>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="co1">// native AI functions</span>
 
<span class="co1">// LineOfSightTo() returns true if any of several points of Other is visible (origin, top, bottom)</span>
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">514</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> <span class="kw4">bool</span> LineOfSightTo<span class="br0">(</span><a href="/Actor"><span class="kw10">actor</span></a> Other<span class="br0">)</span>;
 
<span class="co1">// CanSee() similar to line of sight, but also takes into account Pawn's peripheral vision</span>
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">533</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> <span class="kw4">bool</span> CanSee<span class="br0">(</span><a href="/Pawn"><span class="kw10">Pawn</span></a> Other<span class="br0">)</span>;
 
<span class="co1">//Navigation functions - return the next path toward the goal</span>
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">518</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> <a href="/Actor"><span class="kw10">Actor</span></a> FindPathTo<span class="br0">(</span><span class="kw4">vector</span> aPoint<span class="br0">)</span>;
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">517</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> <a href="/Actor"><span class="kw10">Actor</span></a> FindPathToward<span class="br0">(</span><a href="/Actor"><span class="kw10">actor</span></a> anActor, <span class="kw6">optional</span> <span class="kw4">bool</span> bWeightDetours<span class="br0">)</span>;
 
<span class="kw6">native</span> <span class="kw6">final</span> <span class="kw5">function</span> <a href="/Actor"><span class="kw10">Actor</span></a> FindPathToIntercept<span class="br0">(</span><a href="/Pawn"><span class="kw10">Pawn</span></a> P, <a href="/Actor"><span class="kw10">Actor</span></a> RouteGoal, <span class="kw6">optional</span> <span class="kw4">bool</span> bWeightDetours<span class="br0">)</span>;
 
<span class="kw6">native</span> <span class="kw6">final</span> <span class="kw5">function</span> <a href="/Actor"><span class="kw10">Actor</span></a> FindPathTowardNearest<span class="br0">(</span>class&lt;NavigationPoint&gt; GoalClass, <span class="kw6">optional</span> <span class="kw4">bool</span> bWeightDetours<span class="br0">)</span>;
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">525</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> NavigationPoint FindRandomDest<span class="br0">(</span><span class="br0">)</span>;
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">523</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> <span class="kw4">vector</span> EAdjustJump<span class="br0">(</span><span class="kw4">float</span> BaseZ, <span class="kw4">float</span> XYSpeed<span class="br0">)</span>;
 
<span class="co1">//Reachable returns whether direct path from Actor to aPoint is traversable using the current locomotion method</span>
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">521</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> <span class="kw4">bool</span> pointReachable<span class="br0">(</span><span class="kw4">vector</span> aPoint<span class="br0">)</span>;
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">520</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> <span class="kw4">bool</span> actorReachable<span class="br0">(</span><a href="/Actor"><span class="kw10">actor</span></a> anActor<span class="br0">)</span>;
 
<span class="coMULTI">/* PickWallAdjust()
 
Check if could jump up over obstruction (only if there is a knee height obstruction)
 
If so, start jump, and return current destination
 
Else, try to step around - return a destination 90 degrees right or left depending on traces out and floor checks*/</span>
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">526</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> <span class="kw4">bool</span> PickWallAdjust<span class="br0">(</span><span class="kw4">vector</span> HitNormal<span class="br0">)</span>;
 
<span class="coMULTI">/* WaitForLanding()
 
latent function returns when pawn is on ground (no longer falling)*/</span>
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">527</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw6">latent</span> <span class="kw5">function</span> WaitForLanding<span class="br0">(</span><span class="br0">)</span>;
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">540</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> <a href="/Actor"><span class="kw10">actor</span></a> FindBestInventoryPath<span class="br0">(</span><span class="kw6">out</span> <span class="kw4">float</span> MinWeight<span class="br0">)</span>;
 
<span class="kw6">native</span> <span class="kw6">final</span> <span class="kw5">function</span> <a href="/Actor"><span class="kw10">actor</span></a> FindBestSuperPickup<span class="br0">(</span><span class="kw4">float</span> MaxDist<span class="br0">)</span>; <span class="co1">// find nearest super pickup (base has bDelayedSpawn=true)</span>
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">529</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> AddController<span class="br0">(</span><span class="br0">)</span>;
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">530</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> RemoveController<span class="br0">(</span><span class="br0">)</span>;
 
<span class="co1">// Pick best pawn target</span>
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">531</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> <a href="/Pawn"><span class="kw10">pawn</span></a> PickTarget<span class="br0">(</span><span class="kw6">out</span> <span class="kw4">float</span> bestAim, <span class="kw6">out</span> <span class="kw4">float</span> bestDist, <span class="kw4">vector</span> FireDir, <span class="kw4">vector</span> projStart, <span class="kw4">float</span> MaxRange<span class="br0">)</span>;
 
<span class="kw6">native</span><span class="br0">(</span><span class="nu0">534</span><span class="br0">)</span> <span class="kw6">final</span> <span class="kw5">function</span> <a href="/Actor"><span class="kw10">actor</span></a> PickAnyTarget<span class="br0">(</span><span class="kw6">out</span> <span class="kw4">float</span> bestAim, <span class="kw6">out</span> <span class="kw4">float</span> bestDist, <span class="kw4">vector</span> FireDir, <span class="kw4">vector</span> projStart<span class="br0">)</span>;
 
<span class="kw6">native</span> <span class="kw6">final</span> <span class="kw5">function</span> <span class="kw4">bool</span> InLatentExecution<span class="br0">(</span><span class="kw4">int</span> LatentActionNumber<span class="br0">)</span>; <span class="co1">//returns true if controller currently performing latent action specified by LatentActionNumber</span>
 
<span class="co1">// Force end to sleep</span>
 
<span class="kw6">native</span> <span class="kw5">function</span> StopWaiting<span class="br0">(</span><span class="br0">)</span>;
 
<span class="kw6">native</span> <span class="kw5">function</span> EndClimbLadder<span class="br0">(</span><span class="br0">)</span>;
 
<span class="kw6">native</span> <span class="kw6">final</span> <span class="kw5">function</span> <span class="kw4">bool</span> CanMakePathTo<span class="br0">(</span><a href="/Actor"><span class="kw10">Actor</span></a> A<span class="br0">)</span>; <span class="co1">// assumes valid CurrentPath, tries to see if CurrentPath can be combine with path to N</span>
</pre></div>
<p><a name="Events" id="Events"></a></p>
<h2><span class="mw-headline">Events</span></h2>
<p>(incomplete)</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">Event</span> MayFall<span class="br0">(</span><span class="br0">)</span> <span class="co1">//return true if allowed to fall - called by engine when pawn is about to fall</span>
</pre></div>
<p>But this comment seems to be incorrect, after searching more classes I found:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="coMULTI">/* MayFall() called by engine physics if walking and bCanJump, and
 
        is about to go off a ledge.  Pawn has opportunity (by setting 
 
        bCanJump to false) to avoid fall*/</span>
</pre></div>
<p>I'm still unable to findout how to use this for players.</p>
<p><a name="Controller_Class_Hierarchy" id="Controller_Class_Hierarchy"></a></p>
<h2><span class="mw-headline">Controller Class Hierarchy</span></h2>
<pre>
Engine.Controller 
   +- Engine.<a href="../../../../articles/a/i/c/Legacy%7EAIController_8307.html" title="Legacy:AIController">AIController</a>
   |   +- Gameplay.<a href="../../../../articles/s/c/r/Legacy%7EScriptedController_0d73.html" title="Legacy:ScriptedController">ScriptedController</a>
   |   |   +- Unrealgame.<a href="../../../../articles/b/o/t/Legacy%7EBot_1ea2.html" title="Legacy:Bot">Bot</a>
   |   |   |   +- XGame.<a href="../../../../articles/x/b/o/Legacy%7EXBot_f2bb.html" title="Legacy:XBot">xBot</a>
   |   |   |       +- SkarrjPack.InvasionBot (Epic Bonuspack &amp; UT2004)
   |   |   +- SkarrjPack.<a href="../../../../articles/m/o/n/Legacy%7EMonsterController_8938.html" title="Legacy:MonsterController">MonsterController</a> (Epic Bonuspack &amp; UT2004)
   |   |   +- Gameplay.ScriptedTriggerController
   |   +- UnrealGame.TurretController (UT2004)
   |       +- UT2k4AssaultFull.LinkTurretController
   |       +- Onslaught.ONSTurretController
   |       +- UnrealGame.SentinelController
   |           +- UT2k4Assault.ASSentinelController
   +- Engine.<a href="../../../../articles/p/l/a/Legacy%7EPlayerController_178b.html" title="Legacy:PlayerController">PlayerController</a>
       +- Engine.<a href="../../../../articles/c/a/m/Legacy%7ECamera_f391.html" title="Legacy:Camera">Camera</a>
       +- Engine.MessengingSpectator
       |   +- xWebAdmin.UTServerAdminSpectator
       +- UnrealGame.<a href="../../../../articles/u/n/r/Legacy%7EUnrealPlayer_1818.html" title="Legacy:UnrealPlayer">UnrealPlayer</a>
           +- UnrealGame.CinematicPlayer
           +- UnrealGame.DemoRecSpectator
           +- xGame.<a href="../../../../articles/x/p/l/Legacy%7EXPlayer_7578.html" title="Legacy:XPlayer">xPlayer</a>
               +- UT2004s.utvSpectator (UT2004)
</pre>
<p><a name="Related_Pages" id="Related_Pages"></a></p>
<h2><span class="mw-headline">Related Pages</span></h2>
<ul>
<li><a href="../../../../articles/c/o/n/Legacy%7EController_Overview_ec80.html" title="Legacy:Controller Overview">Controller Overview</a></li>
</ul>
<p><a name="Discussion" id="Discussion"></a></p>
<h2><span class="mw-headline">Discussion</span></h2>
<p><b>Chemos:</b> This page really needed to be written, and I am compiling information at the moment. I will finish all this up in a bit. (First page BTW) *phew* Typing that many "controller"s is getting quite annoying.</p>
<p><b>SuperApe:</b> Updated Controller Class heirarchy. Added To Do Category link.</p>
<p><b>OlympusMons:</b> Just wondering if all the classtree's should contain the package names as well, maybe they all shouldnt, either is fine I think.</p>
<p><b>SuperApe:</b> I'm sure it's useful in some instances, but ideally the class pages have the package name. It could be fine without them, IMHO.</p>
<p><b>EricBlade:</b> PickWallAdjust() claims to return a destination, but it returns bool, and it's one parameter is not declared as "out" .. where does it put the destination?</p>
<p><b>Wormbo:</b> How about Controller.AdjustLoc?</p>
<hr />
<p><a href="../../../../articles/l/e/g/Category%7ELegacy_Class_%28UT2003%29_1edb.html" title="Category:Legacy Class (UT2003)">Category:Legacy Class (UT2003)</a></p>
<p><a href="../../../../articles/l/e/g/Category%7ELegacy_Class_%28UT2004%29_5784.html" title="Category:Legacy Class (UT2004)">Category:Legacy Class (UT2004)</a></p>
<p><a href="../../../../articles/l/e/g/Category%7ELegacy_To_Do_47ce.html" title="Category:Legacy To Do">Category:Legacy To Do</a> – Tidy up. Move some concept info from <a href="../../../../articles/p/l/a/Legacy%7EPlayerController_178b.html" title="Legacy:PlayerController">PlayerController</a>. Move overview info to <a href="../../../../articles/c/o/n/Legacy%7EController_Overview_ec80.html" title="Legacy:Controller Overview">Controller Overview</a>.</p>

<!-- 
NewPP limit report
Preprocessor node count: 47/1000000
Post-expand include size: 197/2097152 bytes
Template argument size: 111/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../../articles/c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Categories</a>: <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_Class_%28UT2003%29_1edb.html" title="Category:Legacy Class (UT2003)">Legacy Class (UT2003)</a></span> | <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_Class_%28UT2004%29_5784.html" title="Category:Legacy Class (UT2004)">Legacy Class (UT2004)</a></span> | <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_To_Do_47ce.html" title="Category:Legacy To Do">Legacy To Do</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/c/o/n/Legacy%7EController_ee75.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/c/o/n/Legacy_talk%7EController_e810.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:Controller">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 15:30, 28 March 2007 by Unreal Wiki user <a href="../../../../articles/w/o/r/User%7EWormbo_7d13.html" title="User:Wormbo">Wormbo</a>. Based on work by Anonymous user(s) of Unreal Wiki.</li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
