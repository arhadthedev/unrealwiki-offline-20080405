<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:Vim - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:Vim</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <p>Vim is a <a href="../../../../articles/t/e/x/Legacy%7EText_Editor_a641.html" title="Legacy:Text Editor">text editor</a></p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Editing_with_Vim"><span class="tocnumber">1</span> <span class="toctext">Editing with Vim</span></a></li>
<li class="toclevel-1"><a href="#Useful_Scripts"><span class="tocnumber">2</span> <span class="toctext">Useful Scripts</span></a></li>
<li class="toclevel-1"><a href="#Tags"><span class="tocnumber">3</span> <span class="toctext">Tags</span></a></li>
<li class="toclevel-1"><a href="#_vimrc"><span class="tocnumber">4</span> <span class="toctext">_vimrc</span></a></li>
<li class="toclevel-1"><a href="#Taglist"><span class="tocnumber">5</span> <span class="toctext">Taglist</span></a></li>
<li class="toclevel-1"><a href="#Make"><span class="tocnumber">6</span> <span class="toctext">Make</span></a></li>
<li class="toclevel-1"><a href="#Comments"><span class="tocnumber">7</span> <span class="toctext">Comments</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Editing_with_Vim" id="Editing_with_Vim"></a></p>
<h3><span class="mw-headline">Editing with Vim</span></h3>
<p>So you want to join the legions of masochists that edit files using the archaic VI-style keybindings? Editing using a VI clone may have a massive learning curve, but by and large the speed gains you get when mastering the editor outstrip any need for GUI hand-holding. Using Vim is truly Zen and the Art of Editing Source (IMHO anyway&#160;;)).</p>
<p>This is all you need to know: <a href="http://www.vim.org" class="external free" title="http://www.vim.org" rel="nofollow">http://www.vim.org</a></p>
<p>This page isn't meant to be a tutorial on generic editing but I will point out a few pages that are very helpful:</p>
<ul>
<li>The Best of Vim Tips (<i>very</i> good stuff here) <a href="http://www.rayninfo.co.uk/vimtips.html" class="external free" title="http://www.rayninfo.co.uk/vimtips.html" rel="nofollow">http://www.rayninfo.co.uk/vimtips.html</a></li>
<li>Linux Productivity Magazine article about VI and Vim with lots of good info <a href="http://www.troubleshooters.com/lpm/200212/200212.htm" class="external free" title="http://www.troubleshooters.com/lpm/200212/200212.htm" rel="nofollow">http://www.troubleshooters.com/lpm/200212/200212.htm</a></li>
<li>The Vim Cookbook with some neat stuff to do <a href="http://www.oualline.com/vim-cook.html" class="external free" title="http://www.oualline.com/vim-cook.html" rel="nofollow">http://www.oualline.com/vim-cook.html</a></li>
</ul>
<p>Vim has built-in UnrealScript syntax highlighting!</p>
<p><a name="Useful_Scripts" id="Useful_Scripts"></a></p>
<h3><span class="mw-headline">Useful Scripts</span></h3>
<ul>
<li>BufExplorer for switching between multiple files at the same time: <a href="http://www.vim.org/scripts/script.php?script_id=42" class="external free" title="http://www.vim.org/scripts/script.php?script_id=42" rel="nofollow">http://www.vim.org/scripts/script.php?script_id=42</a></li>
<li>TagList source code browser (uses Tags discussed below): <a href="http://www.vim.org/scripts/script.php?script_id=273" class="external free" title="http://www.vim.org/scripts/script.php?script_id=273" rel="nofollow">http://www.vim.org/scripts/script.php?script_id=273</a></li>
</ul>
<p><a name="Tags" id="Tags"></a></p>
<h3><span class="mw-headline">Tags</span></h3>
<p>One of the more useful things you can do in Vim is the build in Tags support. Implemented correctly navigating around the UnrealScript source is as easy as moving your cursor over a class or function name and pressing <tt>CTRL-]</tt>. This will open the associated file in a new buffer. Pressing <tt>CTRL-t</tt> will pop you back into the previously viewed file.</p>
<p>Getting all this to work correctly is a bit tricky, however. I suggest you take a look at the <a href="../../../../articles/u/l/t/Legacy%7EUltraEdit_feff.html" title="Legacy:UltraEdit">UltraEdit</a> page which has thorough explanation of setting up the ctags file. Here are a couple of caveats:</p>
<ul>
<li>I use the default name 'tags' for all of my tag files since I'm editing different types of source and it's easier to use one filename than have to specify different filenames for every source I use tags with.
<ul>
<li>Because of this my command for running ctags is
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
ctags --options=ctags.<span class="me1">cfg</span> -V -f <span class="st0">"C:<span class="es0">\U</span>T2003<span class="es0">\t</span>ags"</span> <span class="st0">"C:<span class="es0">\U</span>T2003"</span>
</pre></div>
<ul>
<li><tt>-V-</tt> is for verbose</li>
<li><tt>--options=ctags.cfg--</tt> sets a file that holds command-line options (next caveat)</li>
</ul>
</li>
</ul>
</li>
<li>I've updated the ctags config file from the <a href="../../../../articles/u/l/t/Legacy%7EUltraEdit_feff.html" title="Legacy:UltraEdit">UltraEdit</a> page because I was getting odd results. This one works for UT2k3 (<b>ctags.cfg</b>):
<ul>
<li>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
--langdef=INI
</pre></div>
</li>
</ul>
</li>
</ul>
<p>--langmap=INI:.<span class="me1">ini</span> --regex-INI=/^<span class="br0">[</span> \t<span class="br0">]</span>*\<span class="br0">[</span><span class="br0">(</span>.<span class="me1">*</span><span class="br0">)</span>\<span class="br0">]</span>/\<span class="nu0">1</span>/b,block/ --regex-INI=/^<span class="br0">[</span> \t<span class="br0">]</span>*<span class="br0">(</span><span class="br0">[</span>^\<span class="br0">[</span>=<span class="br0">]</span>+<span class="br0">)</span>=<span class="br0">(</span>.<span class="me1">*</span><span class="br0">)</span>/\<span class="nu0">1</span>/k,key/ --langdef=unrealscript --langmap=unrealscript:.<span class="me1">uc</span> --regex-unrealscript=/^<span class="br0">[</span> \t<span class="br0">]</span>*<span class="br0">[</span>cC<span class="br0">]</span>lass<span class="br0">[</span> \t<span class="br0">]</span>*<span class="br0">(</span><span class="br0">[</span>a-zA-Z0-9_<span class="br0">]</span>+<span class="br0">)</span>/\<span class="nu0">1</span>/c,<span class="kw5">class</span>/ --regex-unrealscript=/^<span class="br0">[</span> \t<span class="br0">]</span>*<span class="br0">[</span>sS<span class="br0">]</span>tate<span class="br0">[</span><span class="br0">(</span><span class="br0">)</span> \t<span class="br0">]</span>*<span class="br0">(</span><span class="br0">[</span>a-zA-Z0<span class="nu0">-9</span><span class="br0">]</span>+<span class="br0">)</span>/\<span class="nu0">1</span>/s,<span class="kw5">state</span>/ --regex-unrealscript=/^<span class="br0">[</span> \t<span class="br0">]</span>*<span class="br0">[</span>sS<span class="br0">]</span>imulated<span class="br0">[</span> \t<span class="br0">]</span>*<span class="br0">(</span>.<span class="me1">*</span><span class="br0">)</span><span class="br0">[</span> \t<span class="br0">]</span>+<span class="br0">(</span><span class="br0">[</span>a-zA-Z0-9_<span class="br0">]</span>+<span class="br0">)</span>\<span class="br0">(</span>/\<span class="nu0">2</span>/i,<span class="kw6">simulated</span>/ --regex-unrealscript=/^<span class="br0">[</span> \t<span class="br0">]</span>*<span class="br0">[</span>eE<span class="br0">]</span>vent<span class="br0">[</span> \t<span class="br0">]</span>*<span class="br0">[</span>^ \t<span class="br0">]</span>*<span class="br0">[</span> \t<span class="br0">]</span>+<span class="br0">(</span><span class="br0">[</span>a-zA-Z0-9_<span class="br0">]</span>+<span class="br0">)</span>\<span class="br0">(</span>/\<span class="nu0">1</span>/e,<span class="kw5">event</span>/ --regex-unrealscript=/^<span class="br0">[</span> \t<span class="br0">]</span>*<span class="br0">[</span>fF<span class="br0">]</span>unction<span class="br0">[</span> \t<span class="br0">]</span>*<span class="br0">(</span>.<span class="me1">*</span><span class="br0">)</span><span class="br0">[</span> \t<span class="br0">]</span>+<span class="br0">(</span><span class="br0">[</span>a-zA-Z0-9_<span class="br0">]</span>+<span class="br0">)</span>\<span class="br0">(</span>/\<span class="nu0">2</span>/f,<span class="kw5">function</span>/</p>
<p>--recurse</p>
<ul>
<li>
<ul>
<li>Basically this tells the ctags utility what regular expressions to use to get points of interest. The one above tells ctags to take into account class, state, simulated, event and function declarations. You can use these five types declarations to browse the source tree after we're done.</li>
</ul>
</li>
</ul>
<p><a name="_vimrc"></a></p>
<h3><span class="mw-headline">_vimrc</span></h3>
<p>The _vimrc file holds a user's settings and commands Vim will run on startup. This is where configuration commands should go get get this stuff to work. Here's is what will need to go into this file as well as some added helpful/useful items:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="st0">" search for tags file in parent directories
set tags=tags;/
 
"</span> <span class="kw1">For</span> Taglist
nnoremap &lt;silent&gt; &lt;F8&gt; :Tlist&lt;CR&gt; 
nnoremap &lt;silent&gt; &lt;F9&gt; :TlistSync&lt;CR&gt;
let Tlist_Use_Right_Window = <span class="nu0">1</span>
 
<span class="st0">" to make Taglist work with UnrealScript
au FileType uc let Tlist_Ctags_Cmd = 'ctags.exe --options="</span>C:\UT2003\ctags.<span class="me1">cfg</span><span class="st0">"'
let tlist_uc_settings = 'unrealscript;c:class;f:function;i:simulated;e:event;s:state'
 
"</span> <span class="kw1">For</span> File Browser
nnoremap &lt;silent&gt; &lt;F12&gt; :Exp&lt;CR&gt;
 
<span class="st0">" auto-change the directory to the current buffer
autocmd BufEnter * :cd %:p:h
 
"</span> BufExplorer
nnoremap &lt;silent&gt; &lt;F11&gt; :BufExplorer&lt;CR&gt;
</pre></div>
<p>These will require some explanation. So in order:</p>
<dl>
<dt><code>set tags=tags;/</code>&#160;</dt>
<dd>This tells Vim to search for the tags file named 'tags' starting with the directory of the open file and moving up the directory tree until it's found.</dd>
<dt><code>nnoremap &lt;silent&gt; &lt;F8&gt;&#160;:Tlist&lt;CR&gt;</code>&#160;</dt>
<dd>This is for opening and closing the Taglist script (<a href="http://www.vim.org/scripts/script.php?script_id=273" class="external free" title="http://www.vim.org/scripts/script.php?script_id=273" rel="nofollow">http://www.vim.org/scripts/script.php?script_id=273</a>)</dd>
<dt><code>nnoremap &lt;silent&gt; &lt;F9&gt;&#160;:TlistSync&lt;CR&gt;</code>&#160;</dt>
<dd>This is to force immediate syncing of the Taglist window with the current cursor position</dd>
<dt><code>let Tlist_Use_Right_Window = 1</code>&#160;</dt>
<dd>Makes the TagList appear on the right side</dd>
<dt><code>au FileType uc let Tlist_Ctags_Cmd = 'ctags.exe â€“options="C:\UT2003\ctags.cfg"'</code>&#160;</dt>
<dd>Specifies the ctags command the TagList should use. Since we must use a custom config file to specify the unrealscript file type that needs to be in the command.</dd>
<dt><code>let tlist_uc_settings = 'unrealscript;c:class;f:function;i:simulated;e:event;s:state'</code>&#160;</dt>
<dd>Specifies how the TagList should be displayed for unrealscript files.</dd>
<dt><code>nnoremap &lt;silent&gt; &lt;F12&gt;&#160;:Exp&lt;CR&gt;</code>&#160;</dt>
<dd>Opens a file explorer. Useful for opening files in the same directory as the current file.</dd>
<dt><code>autocmd BufEnter *&#160;:cd&#160;%:p:h</code>&#160;</dt>
<dd>This makes the Vim working directory move to the directory of the file is currently being edited</dd>
<dt><code>nnoremap &lt;silent&gt; &lt;F11&gt;&#160;:BufExplorer&lt;CR&gt;</code>&#160;</dt>
<dd>Opens the BufferExplorer (<a href="http://www.vim.org/scripts/script.php?script_id=42" class="external free" title="http://www.vim.org/scripts/script.php?script_id=42" rel="nofollow">http://www.vim.org/scripts/script.php?script_id=42</a>)</dd>
</dl>
<p><a name="Taglist" id="Taglist"></a></p>
<h3><span class="mw-headline">Taglist</span></h3>
<p>The Taglist script is an information window that mimics many IDEs which show a birds-eye-view of the code. All landmarks can be seen, function declarations and other things. The _vimrc file declared above should be adequate to get this to work. The <code>let tlist_uc_settings = 'unrealscript;c:class;f:function;i:simulated;e:event;s:state'</code> line can be edited to change the order that the sections appear or be removed all together. just change the order of the s:state or e:event bits.</p>
<p><a name="Make" id="Make"></a></p>
<h3><span class="mw-headline">Make</span></h3>
<p>Vim's Make functionality can be changed to use <a href="../../../../articles/u/c/c/Legacy%7EUcc_e245.html" title="Legacy:Ucc">ucc</a>. On a compile-time error, Vim will move the cursor to the buffer and line number an error occured on.</p>
<p>Here's some more additions to your <b>_vimrc</b> file:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
autocmd FileType uc set makeprg=C:\\UT2003\\system\\ucc\ make
autocmd FileType uc set efm=%f<span class="br0">(</span>%l<span class="br0">)</span>\ :\ %m
</pre></div>
<p>Change your pathnames as appropiate of course. This will allow the command <code>:make</code> to use ucc and it will recognize the error format correctly. Vim will automatically jump to the uc file and line number with the error even if it isn't open. <code>:cn</code> will go to the next error, <code>:cp</code> to the previous. <code>:cl</code> will list all errors.</p>
<p>So far it will only recognize errors within code. Any warnings or problems with default properties it will not recognize. You will get a "shell returned 1" message however. In the future I want to modify the efm line above to recognize more errors and warnings from ucc to make it more streamlined. Omitting the line altogether actually works, Vim seems to get the general gist of ucc's error format.</p>
<p>Type <code>:help quickfix</code> within Vim for more commands and information on how to use this functionality.</p>
<p><a name="Comments" id="Comments"></a></p>
<h3><span class="mw-headline">Comments</span></h3>
<p><b>SocratesJohnson:</b> Well here's my first stab at how to get the Vim editor to work well with UnrealScript. Any questions/comments/rants please let me know!</p>
<p><b>Erik:</b> vim comes with the appropriate fu, automagic on all my unix systems and even my winderz box...&#160;:) syntax/uc.vim notes that it was last modified "2001 May 10"</p>

<!-- 
NewPP limit report
Preprocessor node count: 59/1000000
Post-expand include size: 3/2097152 bytes
Template argument size: 0/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../../articles/c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Category</a>: <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_Application_99db.html" title="Category:Legacy Application">Legacy Application</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/v/i/m/Legacy%7EVim_c092.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/v/i/m/Legacy_talk%7EVim_1e21.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:Vim">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 20:14, 26 October 2004 by Anonymous user(s) of Unreal Wiki. Based on work by <a href="../../../../articles/t/a/r/User%7ETarquin_cdb6.html" title="User:Tarquin">tarquin</a>.</li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
