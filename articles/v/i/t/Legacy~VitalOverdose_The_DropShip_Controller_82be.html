<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:VitalOverdose/The DropShip Controller - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:VitalOverdose/The DropShip Controller</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"><span class="subpages">&lt; <a href="../../../../articles/v/i/t/Legacy%7EVitalOverdose_8095.html" title="Legacy:VitalOverdose">Legacy:VitalOverdose</a></span></div>
	    	    	    <!-- start content -->
	    <table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Vehicle_Dropship"><span class="tocnumber">1</span> <span class="toctext">Vehicle Dropship</span></a>
<ul>
<li class="toclevel-2"><a href="#By_Darknet_.26_vitaloverdose"><span class="tocnumber">1.1</span> <span class="toctext">By Darknet &amp; vitaloverdose</span></a>
<ul>
<li class="toclevel-3"><a href="#Works_online"><span class="tocnumber">1.1.1</span> <span class="toctext">Works online</span></a></li>
<li class="toclevel-3"><a href="#Darknets_Dropship."><span class="tocnumber">1.1.2</span> <span class="toctext">Darknets Dropship.</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Vitals_DropShipSystem"><span class="tocnumber">1.2</span> <span class="toctext">Vitals DropShipSystem</span></a></li>
<li class="toclevel-2"><a href="#Discussion"><span class="tocnumber">1.3</span> <span class="toctext">Discussion</span></a></li>
</ul>
</li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Vehicle_Dropship" id="Vehicle_Dropship"></a></p>
<h1><span class="mw-headline">Vehicle Dropship</span></h1>
<p><a name="By_Darknet_.26_vitaloverdose" id="By_Darknet_.26_vitaloverdose"></a></p>
<h2><span class="mw-headline">By Darknet &amp; vitaloverdose</span></h2>
<p><a name="Works_online" id="Works_online"></a></p>
<h3><span class="mw-headline">Works online</span></h3>
<p>this is my solution to a long standing problem with creating a dropship that can carry vehicles. I spent quite a long time on this script.The ship was built and made flyable by darknet and i then subclassed the ship and added the dropship system. Theres no reason this cant be a single class its just splitting it up this way allows 2 people to work on the same project at the same time. This system if in the alpha test stage, it had been tested online by a few people as well as myself and so far all the reports have been good. We did have a moving hatch for the back door but because you cant animate collision on meshes online the idea had to be scraped.Though i think ive worked out a way around it .</p>
<p><a name="Darknets_Dropship." id="Darknets_Dropship."></a></p>
<h3><span class="mw-headline">Darknets Dropship.</span></h3>
<p>[[Image:Legacy_Shot00002.jpeg|]]</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="co1">//-----------------------------------------------------------</span>
<span class="co1">//</span>
<span class="co1">//-----------------------------------------------------------</span>
<span class="kw5">class</span> DarkDropShip <span class="kw5">extends</span> ONSattackCraft
    <span class="kw6">placeable</span>;
 
<span class="kw2">#exec</span> OBJ LOAD FILE=..\animations\darkdropship_an.<span class="me1">ukx</span>
 
<span class="kw5">var</span>     <span class="kw4">int</span>                             CurrentIndex;
<span class="kw5">var</span>     <span class="kw4">bool</span>                            bDoorIsOpen;
 
<span class="co1">// AI hint</span>
<span class="kw5">Function</span> <span class="kw4">Bool</span> FastVehicle<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
        <span class="kw1">return</span> <span class="kw9">true</span>;
<span class="br0">}</span>
 
<span class="kw5">Function</span> <span class="kw4">Bool</span> Dodge<span class="br0">(</span>eDoubleClickDir DoubleClickMove<span class="br0">)</span>
<span class="br0">{</span>
        <span class="kw1">if</span> <span class="br0">(</span> <span class="kw7">FRand</span><span class="br0">(</span><span class="br0">)</span> &lt; <span class="nu0">0.7</span> <span class="br0">)</span>
        <span class="br0">{</span>
                VehicleMovingTime = <span class="kw8">Level</span>.<span class="me1">TimeSeconds</span> + <span class="nu0">1</span>;
                Rise = <span class="nu0">1</span>;
        <span class="br0">}</span>
        <span class="kw1">return</span> <span class="kw9">False</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">Function</span> SpecialCalcBehindView<span class="br0">(</span>PlayerController PC, <span class="kw6">out</span> <a href="/Actor"><span class="kw10">actor</span></a> ViewActor, <span class="kw6">out</span> <span class="kw4">Vector</span> CameraLocation, <span class="kw6">out</span> <span class="kw4">Rotator</span> CameraRotation <span class="br0">)</span>
<span class="br0">{</span>
        <span class="kw5">Local</span> <span class="kw4">Vector</span> CamLookAt, HitLocation, HitNormal, OffseTarget_Vector;
        <span class="kw5">Local</span> <a href="/Actor"><span class="kw10">Actor</span></a> HitActor;
    <span class="kw5">Local</span> <span class="kw4">Vector</span> x, y, z;
 
        <span class="kw1">if</span> <span class="br0">(</span>DesiredTPCamDistance &lt; TPCamDistance<span class="br0">)</span>
                TPCamDistance = <span class="kw7">FMax</span><span class="br0">(</span>DesiredTPCamDistance, TPCamDistance - CameraSpeed * <span class="br0">(</span><span class="kw8">Level</span>.<span class="me1">TimeSeconds</span> - LastCameraCalcTime<span class="br0">)</span><span class="br0">)</span>;
        <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">(</span>DesiredTPCamDistance &gt; TPCamDistance<span class="br0">)</span>
                TPCamDistance = <span class="kw7">FMin</span><span class="br0">(</span>DesiredTPCamDistance, TPCamDistance + CameraSpeed * <span class="br0">(</span><span class="kw8">Level</span>.<span class="me1">TimeSeconds</span> - LastCameraCalcTime<span class="br0">)</span><span class="br0">)</span>;
 
    GetAxes<span class="br0">(</span>PC.<span class="me1">Rotation</span>, x, y, z<span class="br0">)</span>;
        ViewActor = <span class="kw8">self</span>;
        CamLookAt = GetCameraLocationStart<span class="br0">(</span><span class="br0">)</span> + <span class="br0">(</span>TPCamLookat &gt;&gt; Rotation<span class="br0">)</span> + TPCamWorldOffset;
 
        OffseTarget_Vector = <span class="kw4">Vect</span><span class="br0">(</span><span class="nu0">0</span>, <span class="nu0">0</span>, <span class="nu0">0</span><span class="br0">)</span>;
        OffseTarget_Vector.<span class="me1">X</span> = <span class="nu0">-1.0</span> * TPCamDistance;
 
        CameraLocation = CamLookAt + <span class="br0">(</span>OffseTarget_Vector &gt;&gt; PC.<span class="me1">Rotation</span><span class="br0">)</span>;
 
        HitActor = Trace<span class="br0">(</span>HitLocation, HitNormal, CameraLocation, Location, <span class="kw9">true</span>, <span class="kw4">Vect</span><span class="br0">(</span><span class="nu0">40</span>, <span class="nu0">40</span>, <span class="nu0">40</span><span class="br0">)</span><span class="br0">)</span>;
        <span class="kw1">if</span> <span class="br0">(</span> HitActor != <span class="kw9">None</span>
             &amp;&amp; <span class="br0">(</span>HitActor.<span class="me1">bWorldGeometry</span> || HitActor == GetVehicleBase<span class="br0">(</span><span class="br0">)</span> || Trace<span class="br0">(</span>HitLocation, HitNormal, CameraLocation, Location, <span class="kw9">False</span>, <span class="kw4">Vect</span><span class="br0">(</span><span class="nu0">40</span>, <span class="nu0">40</span>, <span class="nu0">40</span><span class="br0">)</span><span class="br0">)</span> != <span class="kw9">None</span> <span class="br0">)</span> <span class="br0">)</span>
                        CameraLocation = HitLocation;
 
    CameraRotation = Normalize<span class="br0">(</span>PC.<span class="me1">Rotation</span> + PC.<span class="me1">ShakeRot</span><span class="br0">)</span>;
    CameraLocation = CameraLocation + PC.<span class="me1">ShakeOffset</span>.<span class="me1">X</span> * x + PC.<span class="me1">ShakeOffset</span>.<span class="me1">Y</span> * y + PC.<span class="me1">ShakeOffset</span>.<span class="me1">Z</span> * z;
<span class="br0">}</span>
 
<span class="kw5">Function</span> Died<span class="br0">(</span>Controller Killer, class&lt;DamageType&gt; <a href="/DamageType"><span class="kw10">damageType</span></a>, <span class="kw4">Vector</span> HitLocation<span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw5">Local</span> <span class="kw4">Int</span> I;
 
    <span class="kw1">if</span><span class="br0">(</span><span class="kw8">Level</span>.<span class="kw8">NetMode</span> != <span class="kw9">NM_DedicatedServer</span><span class="br0">)</span>
        <span class="br0">{</span>
        <span class="kw1">for</span><span class="br0">(</span>i=<span class="nu0">0</span>;i&lt;TrailEffects.<span class="kw6">Length</span>;I++<span class="br0">)</span>
                TrailEffects<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">Destroy</span><span class="br0">(</span><span class="br0">)</span>;
        TrailEffects.<span class="kw6">Length</span> = <span class="nu0">0</span>;
 
                <span class="kw1">for</span><span class="br0">(</span>i=<span class="nu0">0</span>; i&lt;StreamerEffect.<span class="kw6">Length</span>; I++<span class="br0">)</span>
                        StreamerEffect<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">Destroy</span><span class="br0">(</span><span class="br0">)</span>;
                StreamerEffect.<span class="kw6">Length</span> = <span class="nu0">0</span>;
    <span class="br0">}</span>
 
        <span class="kw6">Super</span>.<span class="me1">Died</span><span class="br0">(</span>Killer, <a href="/DamageType"><span class="kw10">damageType</span></a>, HitLocation<span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">Function</span> Destroyed<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw5">Local</span> <span class="kw4">Int</span> I;
 
    <span class="kw1">if</span><span class="br0">(</span><span class="kw8">Level</span>.<span class="kw8">NetMode</span> != <span class="kw9">NM_DedicatedServer</span><span class="br0">)</span>
        <span class="br0">{</span>
        <span class="kw1">for</span><span class="br0">(</span>i=<span class="nu0">0</span>;i&lt;TrailEffects.<span class="kw6">Length</span>;I++<span class="br0">)</span>
                TrailEffects<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">Destroy</span><span class="br0">(</span><span class="br0">)</span>;
        TrailEffects.<span class="kw6">Length</span> = <span class="nu0">0</span>;
 
                <span class="kw1">for</span><span class="br0">(</span>i=<span class="nu0">0</span>; i&lt;StreamerEffect.<span class="kw6">Length</span>; I++<span class="br0">)</span>
                        StreamerEffect<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">Destroy</span><span class="br0">(</span><span class="br0">)</span>;
                StreamerEffect.<span class="kw6">Length</span> = <span class="nu0">0</span>;
    <span class="br0">}</span>
 
    <span class="kw6">Super</span>.<span class="me1">Destroyed</span><span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">event</span> DrivingStatusChanged<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
        <span class="kw5">Local</span> <span class="kw4">Vector</span> RotX, RotY, RotZ;
 <span class="kw5">Local</span> <span class="kw4">Int</span> I;
 
        <span class="kw6">Super</span>.<span class="me1">DrivingStatusChanged</span><span class="br0">(</span><span class="br0">)</span>;
 
    <span class="kw1">if</span> <span class="br0">(</span>bDriving &amp;&amp; <span class="kw8">Level</span>.<span class="kw8">NetMode</span> != <span class="kw9">NM_DedicatedServer</span> &amp;&amp; !bDropDetail<span class="br0">)</span>
        <span class="br0">{</span>
        GetAxes<span class="br0">(</span>Rotation,RotX,RotY,RotZ<span class="br0">)</span>;
 
        <span class="kw1">if</span> <span class="br0">(</span>TrailEffects.<span class="kw6">Length</span> == <span class="nu0">0</span><span class="br0">)</span>
        <span class="br0">{</span>
            TrailEffects.<span class="kw6">Length</span> = TrailEffectPositions.<span class="kw6">Length</span>;
 
                <span class="kw1">for</span><span class="br0">(</span>i=<span class="nu0">0</span>;i&lt;TrailEffects.<span class="kw6">Length</span>;I++<span class="br0">)</span>
                <span class="kw1">if</span> <span class="br0">(</span>TrailEffects<span class="br0">[</span>i<span class="br0">]</span> == <span class="kw9">None</span> <span class="br0">)</span>
                <span class="br0">{</span>
                        TrailEffects<span class="br0">[</span>i<span class="br0">]</span> = Spawn<span class="br0">(</span>TrailEffectClass, <span class="kw8">self</span>,, Location + <span class="br0">(</span>TrailEffectPositions<span class="br0">[</span>i<span class="br0">]</span> &gt;&gt; Rotation<span class="br0">)</span> <span class="br0">)</span>;
                        TrailEffects<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">SetBase</span><span class="br0">(</span><span class="kw8">self</span><span class="br0">)</span>;
                    TrailEffects<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">SetRelativeRotation</span><span class="br0">(</span> rot<span class="br0">(</span><span class="nu0">0</span>,<span class="nu0">32768</span>,<span class="nu0">0</span><span class="br0">)</span> <span class="br0">)</span>;
                <span class="br0">}</span>
        <span class="br0">}</span>
 
        <span class="kw1">if</span> <span class="br0">(</span>StreamerEffect.<span class="kw6">Length</span> == <span class="nu0">0</span><span class="br0">)</span>
        <span class="br0">{</span>
                StreamerEffect.<span class="kw6">Length</span> = StreamerEffectOffset.<span class="kw6">Length</span>;
 
                <span class="kw1">for</span><span class="br0">(</span>i=<span class="nu0">0</span>; i&lt;StreamerEffect.<span class="kw6">Length</span>; I++<span class="br0">)</span>
                        <span class="kw1">if</span> <span class="br0">(</span>StreamerEffect<span class="br0">[</span>i<span class="br0">]</span> == <span class="kw9">None</span> <span class="br0">)</span>
                        <span class="br0">{</span>
                                StreamerEffect<span class="br0">[</span>i<span class="br0">]</span> = Spawn<span class="br0">(</span>StreamerEffectClass, <span class="kw8">self</span>,, Location + <span class="br0">(</span>StreamerEffectOffset<span class="br0">[</span>i<span class="br0">]</span> &gt;&gt; Rotation<span class="br0">)</span> <span class="br0">)</span>;
                                StreamerEffect<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">SetBase</span><span class="br0">(</span><span class="kw8">self</span><span class="br0">)</span>;
                        <span class="br0">}</span>
        <span class="br0">}</span>
    <span class="br0">}</span>
    <span class="kw1">else</span>
    <span class="br0">{</span>
        <span class="kw1">if</span> <span class="br0">(</span><span class="kw8">Level</span>.<span class="kw8">NetMode</span> != <span class="kw9">NM_DedicatedServer</span><span class="br0">)</span>
        <span class="br0">{</span>
                <span class="kw1">for</span><span class="br0">(</span>i=<span class="nu0">0</span>;i&lt;TrailEffects.<span class="kw6">Length</span>;I++<span class="br0">)</span>
                   TrailEffects<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">Destroy</span><span class="br0">(</span><span class="br0">)</span>;
 
                TrailEffects.<span class="kw6">Length</span> = <span class="nu0">0</span>;
 
                <span class="kw1">for</span><span class="br0">(</span>i=<span class="nu0">0</span>; i&lt;StreamerEffect.<span class="kw6">Length</span>; I++<span class="br0">)</span>
                StreamerEffect<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">Destroy</span><span class="br0">(</span><span class="br0">)</span>;
 
            StreamerEffect.<span class="kw6">Length</span> = <span class="nu0">0</span>;
        <span class="br0">}</span>
    <span class="br0">}</span>
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">Function</span> <span class="kw8">Tick</span><span class="br0">(</span><span class="kw4">float</span> DeltaTime<span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw5">Local</span> <span class="kw4">float</span> EnginePitch, DesiredOpacity, DeltaOpacity, MaxOpacityChange, ThrustAmount;
        <span class="kw5">Local</span> TrailEmitter T;
    <span class="kw5">Local</span> <span class="kw4">int</span> I;
        <span class="kw5">Local</span> <span class="kw4">Vector</span> RelVel;
        <span class="kw5">Local</span> <span class="kw4">Bool</span> NewStreamerActive, bIsBehindView;
        <span class="kw5">Local</span> PlayerController PC;
 
    <span class="kw1">if</span><span class="br0">(</span><span class="kw8">Level</span>.<span class="kw8">NetMode</span> != <span class="kw9">NM_DedicatedServer</span><span class="br0">)</span>
        <span class="br0">{</span>
        EnginePitch = <span class="nu0">64.0</span> + VSize<span class="br0">(</span>Velocity<span class="br0">)</span>/MaxPitchSpeed * <span class="nu0">32.0</span>;
        SoundPitch = <span class="kw7">FClamp</span><span class="br0">(</span>EnginePitch, <span class="nu0">64</span>, <span class="nu0">96</span><span class="br0">)</span>;
 
        RelVel = Velocity &lt;&lt; Rotation;
 
        PC = <span class="kw8">Level</span>.<span class="me1">GetLocalPlayerController</span><span class="br0">(</span><span class="br0">)</span>;
                <span class="kw1">if</span> <span class="br0">(</span>PC != <span class="kw9">None</span> &amp;&amp; PC.<span class="me1">ViewTarget</span> == <span class="kw8">self</span><span class="br0">)</span>
                        bIsBehindView = PC.<span class="me1">bBehindView</span>;
                <span class="kw1">else</span>
            bIsBehindView = <span class="kw9">True</span>;
 
        <span class="co1">// Adjust Engine FX depending on being drive/velocity</span>
                <span class="kw1">if</span> <span class="br0">(</span>!bIsBehindView<span class="br0">)</span>
                <span class="br0">{</span>
                        <span class="kw1">for</span><span class="br0">(</span>i=<span class="nu0">0</span>; i&lt;TrailEffects.<span class="kw6">Length</span>; I++<span class="br0">)</span>
                                TrailEffects<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">SetThrustEnabled</span><span class="br0">(</span><span class="kw9">False</span><span class="br0">)</span>;
                <span class="br0">}</span>
        <span class="kw1">else</span>
        <span class="br0">{</span>
                        ThrustAmount = <span class="kw7">FClamp</span><span class="br0">(</span>OutputThrust, <span class="nu0">0.0</span>, <span class="nu0">1.0</span><span class="br0">)</span>;
 
                        <span class="kw1">for</span><span class="br0">(</span>i=<span class="nu0">0</span>; i&lt;TrailEffects.<span class="kw6">Length</span>; I++<span class="br0">)</span>
                        <span class="br0">{</span>
                                TrailEffects<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">SetThrustEnabled</span><span class="br0">(</span><span class="kw9">true</span><span class="br0">)</span>;
                                TrailEffects<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">SetThrust</span><span class="br0">(</span>ThrustAmount<span class="br0">)</span>;
                        <span class="br0">}</span>
                <span class="br0">}</span>
 
                <span class="co1">// Update streamer opacity (limit max change speed)</span>
                DesiredOpacity = <span class="br0">(</span>RelVel.<span class="me1">X</span> - StreamerOpacityRamp.<span class="kw7">Min</span><span class="br0">)</span>/<span class="br0">(</span>StreamerOpacityRamp.<span class="kw7">Max</span> - StreamerOpacityRamp.<span class="kw7">Min</span><span class="br0">)</span>;
                DesiredOpacity = <span class="kw7">FClamp</span><span class="br0">(</span>DesiredOpacity, <span class="nu0">0.0</span>, StreamerOpacityMax<span class="br0">)</span>;
 
                MaxOpacityChange = DeltaTime * StreamerOpacityChangeRate;
 
                DeltaOpacity = DesiredOpacity - StreamerCurrentOpacity;
                DeltaOpacity = <span class="kw7">FClamp</span><span class="br0">(</span>DeltaOpacity, -MaxOpacityChange, MaxOpacityChange<span class="br0">)</span>;
 
                <span class="kw1">if</span><span class="br0">(</span>!bIsBehindView<span class="br0">)</span>
            StreamerCurrentOpacity = <span class="nu0">0.0</span>;
        <span class="kw1">else</span>
                StreamerCurrentOpacity += DeltaOpacity;
 
                <span class="kw1">if</span><span class="br0">(</span>StreamerCurrentOpacity &lt; <span class="nu0">0.01</span><span class="br0">)</span>
                        NewStreamerActive = <span class="kw9">False</span>;
                <span class="kw1">else</span>
                        NewStreamerActive = <span class="kw9">true</span>;
 
                <span class="kw1">for</span><span class="br0">(</span>i=<span class="nu0">0</span>; i&lt;StreamerEffect.<span class="kw6">Length</span>; I++<span class="br0">)</span>
                <span class="br0">{</span>
                        <span class="kw1">if</span><span class="br0">(</span>NewStreamerActive<span class="br0">)</span>
                        <span class="br0">{</span>
                                <span class="kw1">if</span><span class="br0">(</span>!StreamerActive<span class="br0">)</span>
                                <span class="br0">{</span>
                                        T = TrailEmitter<span class="br0">(</span>StreamerEffect<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">Emitters</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="br0">)</span>;
                                        T.<span class="me1">ResetTrail</span><span class="br0">(</span><span class="br0">)</span>;
                                <span class="br0">}</span>
                                StreamerEffect<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">Emitters</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">Disabled</span> = <span class="kw9">False</span>;
                                StreamerEffect<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">Emitters</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">Opacity</span> = StreamerCurrentOpacity;
                            <span class="br0">}</span>
 
            <span class="kw1">else</span>
                           <span class="br0">{</span>
                                StreamerEffect<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">Emitters</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">Disabled</span> = <span class="kw9">true</span>;
                                StreamerEffect<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">Emitters</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">Opacity</span> = <span class="nu0">0.0</span>;
                           <span class="br0">}</span>
                <span class="br0">}</span>
 
                StreamerActive = NewStreamerActive;
    <span class="br0">}</span>
 
    <span class="kw6">Super</span>.<span class="kw8">Tick</span><span class="br0">(</span>DeltaTime<span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw5">Function</span> <span class="kw4">float</span> ImpactDamageModifier<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw5">Local</span> <span class="kw4">float</span> Multiplier;
    <span class="kw5">Local</span> <span class="kw4">Vector</span> X, Y, Z;
 
    GetAxes<span class="br0">(</span>Rotation, X, Y, Z<span class="br0">)</span>;
    <span class="kw1">if</span> <span class="br0">(</span>ImpactInfo.<span class="me1">ImpactNorm</span> <span class="kw3">Dot</span> Z &gt; <span class="nu0">0</span><span class="br0">)</span>
        Multiplier = <span class="nu0">0.75</span>-<span class="br0">(</span>ImpactInfo.<span class="me1">ImpactNorm</span> <span class="kw3">dot</span> Z<span class="br0">)</span>;
    <span class="kw1">else</span>
        Multiplier = <span class="nu0">1.0</span>;
 
    <span class="kw1">return</span> <span class="kw6">Super</span>.<span class="me1">ImpactDamageModifier</span><span class="br0">(</span><span class="br0">)</span> * Multiplier;
<span class="br0">}</span>
 
<span class="kw5">Function</span> <span class="kw4">Bool</span> RecommendLongRangedAttack<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> <span class="kw1">Return</span> <span class="kw9">true</span>; <span class="br0">}</span>
 
 
<span class="kw5">Function</span> <span class="kw4">Bool</span> PlaceExitingDriver<span class="br0">(</span><span class="br0">)</span>                       <span class="co1">// &lt;&lt;&lt;&lt;&lt;&lt; FIXME Fix to not be specific to this class after demo</span>
<span class="br0">{</span>
 <span class="kw5">Local</span> <span class="kw4">Int</span> I;
        <span class="kw5">Local</span> <span class="kw4">Vector</span> tryPlace, Extent, HitLocation, HitNormal, ZOffset;
 
        Extent = Driver.<span class="kw1">default</span>.<span class="me1">CollisionRadius</span> * <span class="kw4">Vect</span><span class="br0">(</span><span class="nu0">1</span>,<span class="nu0">1</span>,<span class="nu0">0</span><span class="br0">)</span>;
        Extent *= <span class="nu0">2</span>;
        Extent.<span class="me1">Z</span> = Driver.<span class="kw1">default</span>.<span class="me1">CollisionHeight</span>;
        ZOffset = Driver.<span class="kw1">default</span>.<span class="me1">CollisionHeight</span> * <span class="kw4">Vect</span><span class="br0">(</span><span class="nu0">0</span>,<span class="nu0">0</span>,<span class="nu0">1</span><span class="br0">)</span>;
        <span class="kw1">if</span> <span class="br0">(</span>Trace<span class="br0">(</span>HitLocation, HitNormal, Location + <span class="br0">(</span>ZOffset * <span class="nu0">6</span><span class="br0">)</span>, Location, <span class="kw9">False</span>, Extent<span class="br0">)</span> != <span class="kw9">None</span> <span class="br0">)</span>
                <span class="kw1">return</span> <span class="kw9">False</span>;
 
        <span class="co1">//avoid running Driver over by placing in direction perpendicular to velocity</span>
        <span class="kw1">if</span> <span class="br0">(</span> VSize<span class="br0">(</span>Velocity<span class="br0">)</span> &gt; <span class="nu0">100</span> <span class="br0">)</span>
        <span class="br0">{</span>
                tryPlace = Normal<span class="br0">(</span>Velocity <span class="kw3">cross</span> <span class="kw4">Vect</span><span class="br0">(</span><span class="nu0">0</span>,<span class="nu0">0</span>,<span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span> * <span class="br0">(</span>CollisionRadius + Driver.<span class="kw1">default</span>.<span class="me1">CollisionRadius</span> <span class="br0">)</span> * <span class="nu0">1.25</span> ;
                <span class="kw1">if</span> <span class="br0">(</span> <span class="kw7">FRand</span><span class="br0">(</span><span class="br0">)</span> &lt; <span class="nu0">0.5</span> <span class="br0">)</span>
                        tryPlace *= <span class="nu0">-1</span>; <span class="co1">//randomly prefer other side</span>
                <span class="kw1">if</span> <span class="br0">(</span> <span class="br0">(</span>Trace<span class="br0">(</span>HitLocation, HitNormal, Location + tryPlace + ZOffset, Location + ZOffset, <span class="kw9">False</span>, Extent<span class="br0">)</span> == <span class="kw9">None</span> &amp;&amp; Driver.<span class="me1">SetLocation</span><span class="br0">(</span>Location + tryPlace + ZOffset<span class="br0">)</span><span class="br0">)</span>
                     || <span class="br0">(</span>Trace<span class="br0">(</span>HitLocation, HitNormal, Location - tryPlace + ZOffset, Location + ZOffset, <span class="kw9">False</span>, Extent<span class="br0">)</span> == <span class="kw9">None</span> &amp;&amp; Driver.<span class="me1">SetLocation</span><span class="br0">(</span>Location - tryPlace + ZOffset<span class="br0">)</span><span class="br0">)</span> <span class="br0">)</span>
                        <span class="kw1">return</span> <span class="kw9">true</span>;
        <span class="br0">}</span>
 
        <span class="kw1">for</span><span class="br0">(</span> i=<span class="nu0">0</span>; i&lt;ExitPositions.<span class="kw6">Length</span>; I++<span class="br0">)</span>
        <span class="br0">{</span>
                <span class="kw1">if</span> <span class="br0">(</span> ExitPositions<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">Z</span> != <span class="nu0">0</span> <span class="br0">)</span>
                        ZOffset = <span class="kw4">Vect</span><span class="br0">(</span><span class="nu0">0</span>,<span class="nu0">0</span>,<span class="nu0">1</span><span class="br0">)</span> * ExitPositions<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">Z</span>;
                <span class="kw1">else</span>
                        ZOffset = Driver.<span class="kw1">default</span>.<span class="me1">CollisionHeight</span> * <span class="kw4">Vect</span><span class="br0">(</span><span class="nu0">0</span>,<span class="nu0">0</span>,<span class="nu0">2</span><span class="br0">)</span>;
 
                <span class="kw1">if</span> <span class="br0">(</span> bRelativeExitPos <span class="br0">)</span>
                        tryPlace = Location + <span class="br0">(</span> <span class="br0">(</span>ExitPositions<span class="br0">[</span>i<span class="br0">]</span>-ZOffset<span class="br0">)</span> &gt;&gt; Rotation<span class="br0">)</span> + ZOffset;
                <span class="kw1">else</span>
                        tryPlace = ExitPositions<span class="br0">[</span>i<span class="br0">]</span>;
 
                <span class="co1">// First, do a line check (stops us passing through things on exit).</span>
                <span class="kw1">if</span> <span class="br0">(</span> bRelativeExitPos &amp;&amp; Trace<span class="br0">(</span>HitLocation, HitNormal, tryPlace, Location + ZOffset, <span class="kw9">False</span>, Extent<span class="br0">)</span> != <span class="kw9">None</span> <span class="br0">)</span>
                        <span class="kw1">continue</span>;
 
                <span class="co1">// Then see if we can place the player there.</span>
                <span class="kw1">if</span> <span class="br0">(</span> !Driver.<span class="me1">SetLocation</span><span class="br0">(</span>tryPlace<span class="br0">)</span> <span class="br0">)</span>
                        <span class="kw1">continue</span>;
 
                <span class="kw1">return</span> <span class="kw9">true</span>;
        <span class="br0">}</span>
        <span class="kw1">return</span> <span class="kw9">False</span>;
<span class="br0">}</span>
 
 
<span class="co1">//==================Mod off From ONSPR=====================================</span>
 
<span class="kw5">Function</span> AltFire<span class="br0">(</span><span class="kw6">optional</span> <span class="kw4">float</span> F<span class="br0">)</span>            <span class="co1">//avoid sending altfire to weapon</span>
<span class="br0">{</span>
 <span class="kw6">Super</span><span class="br0">(</span>Vehicle<span class="br0">)</span>.<span class="me1">AltFire</span><span class="br0">(</span>F<span class="br0">)</span>;
<span class="br0">}</span>
 
 
<span class="kw6">static</span> <span class="kw5">function</span> StaticPrecache<span class="br0">(</span>LevelInfo L<span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw6">Super</span>.<span class="me1">StaticPrecache</span><span class="br0">(</span>L<span class="br0">)</span>;
 
        L.<span class="me1">AddPrecacheStaticMesh</span><span class="br0">(</span>StaticMesh<span class="st0">'ONSDeadVehicles-SM.RAPTORexploded.RaptorWing'</span><span class="br0">)</span>;
        L.<span class="me1">AddPrecacheStaticMesh</span><span class="br0">(</span>StaticMesh<span class="st0">'ONSDeadVehicles-SM.RAPTORexploded.RaptorTailWing'</span><span class="br0">)</span>;
        L.<span class="me1">AddPrecacheStaticMesh</span><span class="br0">(</span>StaticMesh<span class="st0">'ONSDeadVehicles-SM.RAPTORexploded.RaptorGun'</span><span class="br0">)</span>;
        L.<span class="me1">AddPrecacheStaticMesh</span><span class="br0">(</span>StaticMesh<span class="st0">'AW-2004Particles.Debris.Veh_Debris2'</span><span class="br0">)</span>;
        L.<span class="me1">AddPrecacheStaticMesh</span><span class="br0">(</span>StaticMesh<span class="st0">'AW-2004Particles.Debris.Veh_Debris1'</span><span class="br0">)</span>;
        L.<span class="me1">AddPrecacheStaticMesh</span><span class="br0">(</span>StaticMesh<span class="st0">'WeaponStaticMesh.RocketProj'</span><span class="br0">)</span>;
 
    L.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'AW-2004Particles.Energy.SparkHead'</span><span class="br0">)</span>;
    L.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'ExplosionTex.Framed.exp2_frames'</span><span class="br0">)</span>;
    L.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'ExplosionTex.Framed.exp1_frames'</span><span class="br0">)</span>;
    L.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'ExplosionTex.Framed.we1_frames'</span><span class="br0">)</span>;
    L.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'AW-2004Particles.Weapons.SmokePanels2'</span><span class="br0">)</span>;
    L.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'AW-2004Particles.Fire.NapalmSpot'</span><span class="br0">)</span>;
    L.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'EpicParticles.Fire.SprayFire1'</span><span class="br0">)</span>;
    L.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'VMVehicles-TX.AttackCraftGroup.RaptorColorRed'</span><span class="br0">)</span>;
    L.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'VMVehicles-TX.AttackCraftGroup.RaptorColorBlue'</span><span class="br0">)</span>;
    L.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'VMVehicles-TX.AttackCraftGroup.AttackCraftNoColor'</span><span class="br0">)</span>;
        L.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'AW-2004Particles.Weapons.TrailBlura'</span><span class="br0">)</span>;
    L.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'Engine.GRADIENT_Fade'</span><span class="br0">)</span>;
    L.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'VMVehicles-TX.AttackCraftGroup.raptorCOLORtest'</span><span class="br0">)</span>;
    L.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'AW-2004Particles.Fire.SmokeFragment'</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">Function</span> UpdatePrecacheStaticMeshes<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
        <span class="kw8">Level</span>.<span class="me1">AddPrecacheStaticMesh</span><span class="br0">(</span>StaticMesh<span class="st0">'ONSDeadVehicles-SM.RAPTORexploded.RaptorWing'</span><span class="br0">)</span>;
        <span class="kw8">Level</span>.<span class="me1">AddPrecacheStaticMesh</span><span class="br0">(</span>StaticMesh<span class="st0">'ONSDeadVehicles-SM.RAPTORexploded.RaptorTailWing'</span><span class="br0">)</span>;
        <span class="kw8">Level</span>.<span class="me1">AddPrecacheStaticMesh</span><span class="br0">(</span>StaticMesh<span class="st0">'ONSDeadVehicles-SM.RAPTORexploded.RaptorGun'</span><span class="br0">)</span>;
        <span class="kw8">Level</span>.<span class="me1">AddPrecacheStaticMesh</span><span class="br0">(</span>StaticMesh<span class="st0">'AW-2004Particles.Debris.Veh_Debris2'</span><span class="br0">)</span>;
        <span class="kw8">Level</span>.<span class="me1">AddPrecacheStaticMesh</span><span class="br0">(</span>StaticMesh<span class="st0">'AW-2004Particles.Debris.Veh_Debris1'</span><span class="br0">)</span>;
        <span class="kw8">Level</span>.<span class="me1">AddPrecacheStaticMesh</span><span class="br0">(</span>StaticMesh<span class="st0">'WeaponStaticMesh.RocketProj'</span><span class="br0">)</span>;
 
        <span class="kw6">Super</span>.<span class="me1">UpdatePrecacheStaticMeshes</span><span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">Function</span> UpdatePrecacheMaterials<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw8">Level</span>.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'AW-2004Particles.Energy.SparkHead'</span><span class="br0">)</span>;
    <span class="kw8">Level</span>.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'ExplosionTex.Framed.exp2_frames'</span><span class="br0">)</span>;
    <span class="kw8">Level</span>.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'ExplosionTex.Framed.exp1_frames'</span><span class="br0">)</span>;
    <span class="kw8">Level</span>.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'ExplosionTex.Framed.we1_frames'</span><span class="br0">)</span>;
    <span class="kw8">Level</span>.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'AW-2004Particles.Weapons.SmokePanels2'</span><span class="br0">)</span>;
    <span class="kw8">Level</span>.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'AW-2004Particles.Fire.NapalmSpot'</span><span class="br0">)</span>;
    <span class="kw8">Level</span>.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'EpicParticles.Fire.SprayFire1'</span><span class="br0">)</span>;
    <span class="kw8">Level</span>.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'VMVehicles-TX.AttackCraftGroup.RaptorColorRed'</span><span class="br0">)</span>;
    <span class="kw8">Level</span>.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'VMVehicles-TX.AttackCraftGroup.RaptorColorBlue'</span><span class="br0">)</span>;
    <span class="kw8">Level</span>.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'VMVehicles-TX.AttackCraftGroup.AttackCraftNoColor'</span><span class="br0">)</span>;
        <span class="kw8">Level</span>.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'AW-2004Particles.Weapons.TrailBlura'</span><span class="br0">)</span>;
    <span class="kw8">Level</span>.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'Engine.GRADIENT_Fade'</span><span class="br0">)</span>;
    <span class="kw8">Level</span>.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'VMVehicles-TX.AttackCraftGroup.raptorCOLORtest'</span><span class="br0">)</span>;
    <span class="kw8">Level</span>.<span class="me1">AddPrecacheMaterial</span><span class="br0">(</span><a href="/Material"><span class="kw10">Material</span></a><span class="st0">'AW-2004Particles.Fire.SmokeFragment'</span><span class="br0">)</span>;
 
        <span class="kw6">Super</span>.<span class="me1">UpdatePrecacheMaterials</span><span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
     MaxPitchSpeed=<span class="nu0">600.000000</span>
     TrailEffectPositions<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span>=<span class="br0">(</span>X=<span class="nu0">-672.000000</span>,Y=<span class="nu0">-480.000000</span>,Z=<span class="nu0">-20.000000</span><span class="br0">)</span>
     TrailEffectPositions<span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span>=<span class="br0">(</span>X=<span class="nu0">-672.000000</span>,Y=<span class="nu0">480.000000</span>,Z=<span class="nu0">-20.000000</span><span class="br0">)</span>
     MaxThrustForce=<span class="nu0">256.000000</span>
     TurnDamping=<span class="nu0">500.000000</span>
     PitchTorqueMax=<span class="nu0">15.000000</span>
     PitchDamping=<span class="nu0">50.000000</span>
     RollDamping=<span class="nu0">60.000000</span>
     RedSkin=<a href="/Texture"><span class="kw10">Texture</span></a><span class="st0">'darkhoverskin.hoverskin.vehicletranportskin'</span>
     BlueSkin=<a href="/Texture"><span class="kw10">Texture</span></a><span class="st0">'darkhoverskin.hoverskin.vehicletranportskin'</span>
     VehicleMass=<span class="nu0">10.000000</span>
     VehiclePositionString=<span class="st0">"in a Dark DropShip"</span>
     VehicleNameString=<span class="st0">"Dark DropShip"</span>
     bCanBeBaseForPawns=<span class="kw9">True</span>
     GroundSpeed=<span class="nu0">1500.000000</span>
     HealthMax=<span class="nu0">800.000000</span>
     Health=<span class="nu0">800</span>
     Mesh=SkeletalMesh<span class="st0">'darkdropship_an.DropshipV5_3'</span>
<span class="br0">}</span>
</pre></div>
<p><a name="Vitals_DropShipSystem" id="Vitals_DropShipSystem"></a></p>
<h2><span class="mw-headline">Vitals DropShipSystem</span></h2>
<p>Ive left the logs i used for testing in the code.</p>
<p>The ship has 7 weapons on it , mainly to give the bots something to do while the craft is in flight although im not 100% sure this function is working correctly but it wont effect the way the ship works in anyway if it dosent.</p>
<ul>
<li>The ship has to land on reletivly flat ground before it will release the vecs.</li>
<li>The ship can carry as meny vehicles as you can fit on or in it but each vehicle adds weight to the dropship making it harder to fly.</li>
<li>The system uses 3 simulated states to get the job done gravitysucks,VehicleParked VehicleFlying.</li>
<li>The system can tell altitude of the craft as well as tilt.</li>
<li>You have to land on relativly flat ground.</li>
</ul>
<p>[[Image:Legacy_DropShip.jpeg|]]</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">Class</span> DropShipSystem <span class="kw5">extends</span> DarkDropShip;
 
<span class="kw5">var</span> <span class="br0">(</span><span class="br0">)</span> <span class="kw4">Bool</span>                               bEject_If_Inverted;                 <span class="co1">// (could be fun..)</span>
<span class="kw5">var</span> <span class="br0">(</span><span class="br0">)</span> <span class="kw4">float</span>                              fMaxDistanceDownToCheck;           <span class="co1">// set at level stalz</span>
<span class="kw5">var</span> <span class="br0">(</span><span class="br0">)</span> <span class="kw4">float</span>                              MinGroundClearance; <span class="co1">// a numb slightly &gt; than the distance of</span>
                                                              <span class="co1">// center point of the vec to the ground           </span>
<span class="kw5">var</span> <span class="br0">(</span><span class="br0">)</span> <span class="kw4">float</span>                              scanrange;          <span class="co1">// the size of the cargobay</span>
<span class="kw5">var</span> <span class="br0">(</span><span class="br0">)</span> <span class="kw6">Array</span> &lt; <span class="kw4">vector</span> &gt;                        TraceOffsets;       <span class="co1">// the craft fires trace lines to the </span>
                                                              <span class="co1">// ground to measure altitude and Tilt </span>
                                                              <span class="co1">// during the gravitySucks state</span>
<span class="kw5">var</span>    <span class="kw6">array</span> &lt; onsvehicle &gt;               cargorec;
<span class="kw5">var</span> <span class="br0">(</span><span class="br0">)</span> <span class="kw4">bool</span>                               bSeekFlyingEscorts;
<span class="kw5">var</span> <span class="br0">(</span><span class="br0">)</span> <span class="kw4">Bool</span>                               bSeekEscorts;
<span class="kw5">var</span> <span class="br0">(</span><span class="br0">)</span> <span class="kw4">bool</span>                               bontheground;
<span class="kw5">var</span> <span class="br0">(</span><span class="br0">)</span> <a href="/sound"><span class="kw10">sound</span></a>                              LandedSound;
<span class="kw5">var</span> <span class="br0">(</span><span class="br0">)</span> <a href="/sound"><span class="kw10">sound</span></a>                              Takeoffsound;
<span class="kw5">var</span> <span class="br0">(</span><span class="br0">)</span> ephysics                           BackUpphysics;
 
 <span class="kw1">replication</span> <span class="br0">{</span>
             <span class="kw6">reliable</span>
             <span class="kw1">if</span> <span class="br0">(</span>bNetDirty  &amp;&amp;  <span class="kw8">role</span> == <span class="kw9">role_authority</span><span class="br0">)</span>
                 bontheground;
             <span class="br0">}</span>
 
 <span class="kw6">simulated</span> <span class="kw5">function</span> PostBeginPlay<span class="br0">(</span><span class="br0">)</span>
 <span class="br0">{</span>
  <span class="kw5">local</span> <span class="kw4">rotator</span> bonerot;
 
  <span class="kw7">log</span><span class="br0">(</span><span class="kw8">self</span>$<span class="st0">"postbeginplay has been called"</span><span class="br0">)</span>;
  Ksetactorgravscale<span class="br0">(</span><span class="nu0">0.1</span><span class="br0">)</span>;
 
  bonerot=getbonerotation<span class="br0">(</span> <span class="st0">'middle_middle_weapon'</span><span class="br0">)</span>;
  <span class="co1">//bonerot.yaw += rotation.yaw+32768;</span>
  SetBoneRotation<span class="br0">(</span> <span class="st0">'middle_middle_weapon'</span>, bonerot <span class="br0">)</span>;
  SetBoneRotation<span class="br0">(</span> <span class="st0">'Left_Front_weapon'</span>, bonerot <span class="br0">)</span>;
  SetBoneRotation<span class="br0">(</span> <span class="st0">'Right_Front_weapon'</span>, bonerot <span class="br0">)</span>;
  SetBoneRotation<span class="br0">(</span> <span class="st0">'left_middle_weapon'</span>, bonerot <span class="br0">)</span>;
  SetBoneRotation<span class="br0">(</span> <span class="st0">'right_middle_weapon'</span>, bonerot <span class="br0">)</span>;
  SetBoneRotation<span class="br0">(</span> <span class="st0">'Right_rear_weapon'</span>, bonerot <span class="br0">)</span>;
  SetBoneRotation<span class="br0">(</span> <span class="st0">'Left_rear_weapon'</span>, bonerot <span class="br0">)</span>;
 <span class="br0">}</span>
 
 <span class="kw6">simulated</span> <span class="kw5">function</span> capturevecs <span class="br0">(</span><span class="br0">)</span>
 <span class="br0">{</span>
  <span class="kw5">local</span> onsvehicle foundvec;
                                                                              <span class="co1">// log(self$"capturevecs was called");</span>
  cargorec.<span class="kw6">length</span>=<span class="nu0">0</span>;
  <span class="kw1">foreach</span> visiblecollidingactors<span class="br0">(</span><span class="kw5">class</span><span class="st0">'OnsVehicle'</span>,foundvec,Scanrange<span class="br0">)</span>
         <span class="br0">{</span>
                                                                              <span class="co1">// log("capturevecs:found a vec"$foundvec$". so thats "$cargorec.length$"found so far");</span>
          <span class="kw1">if</span> <span class="br0">(</span><span class="br0">(</span> foundvec != <span class="kw8">self</span> <span class="br0">)</span> &amp;&amp; <span class="br0">(</span>foundvec.<span class="me1">bVehicleOnGround</span><span class="br0">)</span> &amp;&amp; <span class="br0">(</span> vsize<span class="br0">(</span> foundvec.<span class="me1">velocity</span> <span class="br0">)</span> &lt; <span class="nu0">20</span><span class="br0">)</span><span class="br0">)</span>
             <span class="br0">{</span>
                                                                              <span class="co1">// log(foundvec$"will be made cargo");</span>
              Addweight<span class="br0">(</span><span class="br0">)</span>;
              cargorec.<span class="kw6">insert</span><span class="br0">(</span><span class="nu0">0</span>,<span class="nu0">1</span><span class="br0">)</span>;
              cargorec<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>                           = foundvec;
              BackUpphysics                         = foundvec.<span class="me1">physics</span>;
              cargorec<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">bhardattach</span>               = <span class="kw9">True</span>;
              cargorec<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">SetPhysics</span><span class="br0">(</span>PHYS_None <span class="br0">)</span>;                             <span class="co1">// Remove the Physics from the Target Vehicle</span>
              cargorec<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">Setbase</span><span class="br0">(</span><span class="kw8">self</span> <span class="br0">)</span>;
              cargorec<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">bAllowViewChange</span>          = bEject_If_Inverted;     <span class="co1">// Sets inverted optiOns on the Vec</span>
              cargorec<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">bDriverCannotLeaveVehicle</span> = <span class="kw9">true</span>;                   <span class="co1">// Locks the vehicles until the flight is over</span>
              cargorec<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me1">setcollision</span><span class="br0">(</span> <span class="kw9">False</span> , <span class="kw9">False</span> , <span class="kw9">true</span> <span class="br0">)</span>;               <span class="co1">// Switch off the collision on the Vehicle</span>
             <span class="br0">}</span>
        <span class="br0">}</span>
  <span class="br0">}</span>
 
  <span class="kw6">simulated</span> <span class="kw5">function</span> EnlistEscorts<span class="br0">(</span><span class="br0">)</span>
  <span class="br0">{</span>
  <span class="kw5">local</span> <a href="/Pawn"><span class="kw10">pawn</span></a> foundpawn;
                                                                              <span class="co1">// log("EnlistEscorts() has started");</span>
  <span class="kw1">foreach</span> visiblecollidingactors<span class="br0">(</span><span class="kw5">class</span><span class="st0">'pawn'</span>,foundpawn,Scanrange*<span class="nu0">2</span><span class="br0">)</span>
         <span class="br0">{</span>
                                                                              <span class="co1">// log("EnlistEscorts(): found a pawn = "$foundpawn);</span>
          <span class="kw1">if</span> <span class="br0">(</span><span class="br0">(</span>foundpawn.<span class="kw7">isa</span><span class="br0">(</span><span class="st0">'xbot'</span><span class="br0">)</span>&amp;&amp;<span class="br0">(</span>!foundpawn.<span class="me1">IsHumanControlled</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span> &amp;&amp;
             <span class="br0">(</span>driver.<span class="me1">controller</span>.<span class="me1">SameTeamAs</span><span class="br0">(</span>foundpawn.<span class="me1">controller</span><span class="br0">)</span><span class="br0">)</span> <span class="br0">)</span><span class="br0">)</span>
             <span class="br0">{</span>
                                                                              <span class="co1">// log("EnlistEscorts(): found It was an xbot +not human controlled = ");</span>
             <span class="kw1">if</span> <span class="br0">(</span><span class="br0">(</span><span class="br0">(</span>bSeekFlyingEscorts<span class="br0">)</span> &amp;&amp; foundpawn.<span class="kw7">IsA</span><span class="br0">(</span><span class="st0">'onsraptor'</span><span class="br0">)</span><span class="br0">)</span> ||
                <span class="br0">(</span><span class="br0">(</span>bSeekEscorts <span class="br0">)</span> &amp;&amp; <span class="br0">(</span>foundpawn.<span class="kw7">isa</span><span class="br0">(</span><span class="st0">'onsattackcraft'</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>
                <span class="br0">{</span>
                                                                              <span class="co1">// log("EnlistEscorts(): it wa a bot controlled vec = ");</span>
                  bot<span class="br0">(</span>foundpawn.<span class="me1">controller</span><span class="br0">)</span>.<span class="me1">SetOrders</span><span class="br0">(</span><span class="st0">'follow'</span>,Driver.<span class="me1">Controller</span><span class="br0">)</span>;
                <span class="br0">}</span>
             <span class="br0">}</span>
        <span class="br0">}</span>
 <span class="br0">}</span>
 
 <span class="kw6">simulated</span> <span class="kw5">function</span> releasevecs<span class="br0">(</span><span class="br0">)</span>
 <span class="br0">{</span>
  <span class="kw5">local</span> <span class="kw4">int</span> I;
                                                                              <span class="co1">//    log("Time to release the cargo"$cargorec.length);</span>
  <span class="kw1">if</span> <span class="br0">(</span>cargorec.<span class="kw6">length</span> &gt; <span class="nu0">0</span><span class="br0">)</span>
     <span class="br0">{</span>
                                                                              <span class="co1">//   log("releasevecs():releasing"$cargorec[i]);</span>
      <span class="kw1">for</span> <span class="br0">(</span> i=<span class="nu0">0</span> ; I&lt; cargorec.<span class="kw6">length</span> ; I++ <span class="br0">)</span>
          <span class="br0">{</span>
           cargorec<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">bHardattach</span>              = <span class="kw9">false</span>;
           cargorec<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">SetBase</span><span class="br0">(</span><span class="kw9">None</span><span class="br0">)</span>;                                         <span class="co1">// Releasing Target Vec</span>
           cargorec<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">SetPhysics</span><span class="br0">(</span>BackUpphysics<span class="br0">)</span>;                             <span class="co1">// Returns old physics</span>
           cargorec<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">setcollision</span><span class="br0">(</span><span class="kw9">true</span> , <span class="kw9">True</span> , <span class="kw9">true</span><span class="br0">)</span>;                      <span class="co1">// Switches the collision back on.</span>
           cargorec<span class="br0">[</span>i<span class="br0">]</span>.<span class="me1">bDriverCannotLeaveVehicle</span> = <span class="kw9">False</span>;                     <span class="co1">// Unlocks the Vehicle</span>
          <span class="br0">}</span>
      cargorec.<span class="kw6">length</span>=<span class="nu0">0</span>;
     <span class="br0">}</span>
  <span class="br0">}</span>
 
 <span class="kw6">simulated</span> <span class="kw5">function</span> TakeDamage<span class="br0">(</span><span class="kw4">int</span> Damage, <a href="/Pawn"><span class="kw10">Pawn</span></a> instigatedBy, <span class="kw4">Vector</span> Hitlocation, <span class="kw4">Vector</span> Momentum, class&lt;DamageType&gt; <a href="/DamageType"><span class="kw10">DamageType</span></a><span class="br0">)</span>
 <span class="br0">{</span>
  momentum = momentum*<span class="nu0">0.01</span>;
  <span class="kw1">if</span> <span class="br0">(</span>damage&gt;Health<span class="br0">)</span>
      Releasevecs<span class="br0">(</span><span class="br0">)</span>;
  <span class="kw6">super</span>.<span class="me1">takedamage</span><span class="br0">(</span> Damage,  instigatedBy,  Hitlocation,  Momentum,  <a href="/DamageType"><span class="kw10">DamageType</span></a><span class="br0">)</span>;
 <span class="br0">}</span>
 
 <span class="kw6">simulated</span> <span class="kw5">function</span> subweight<span class="br0">(</span><span class="br0">)</span>
 <span class="br0">{</span>
  <span class="kw5">local</span> <span class="kw4">float</span> Thegrav;                                                        <span class="co1">// log("subweight()");</span>
  thegrav=kgetactorgravscale<span class="br0">(</span><span class="br0">)</span> - <span class="br0">(</span><span class="nu0">0.02</span>*cargorec.<span class="kw6">length</span><span class="br0">)</span>;
  ksetactorgravscale<span class="br0">(</span>thegrav<span class="br0">)</span>;                                                <span class="co1">// log("subweight:new weight is "$thegrav);</span>
 <span class="br0">}</span>
 
 <span class="kw6">simulated</span> <span class="kw5">function</span> Addweight<span class="br0">(</span><span class="br0">)</span>
 <span class="br0">{</span>                                                                            <span class="co1">//log("Addweight()");</span>
  <span class="kw5">local</span> <span class="kw4">float</span> Thegrav;
  thegrav=kgetactorgravscale<span class="br0">(</span><span class="br0">)</span>+ <span class="nu0">0.02</span>;
  ksetactorgravscale<span class="br0">(</span>thegrav<span class="br0">)</span>;
 <span class="br0">}</span>
 
 <span class="kw6">simulated</span> <span class="kw5">function</span> loudnoise<span class="br0">(</span><a href="/sound"><span class="kw10">sound</span></a> sfx<span class="br0">)</span>
 <span class="br0">{</span>
                                                                              <span class="co1">// log("loudnoise()");</span>
  makenoise<span class="br0">(</span><span class="nu0">1.0</span><span class="br0">)</span>;
  playsound<span class="br0">(</span>sfx<span class="br0">)</span>;
 <span class="br0">}</span>
 
 
 <span class="kw6">simulated</span> <span class="kw5">function</span> Destroyed<span class="br0">(</span><span class="br0">)</span>
 <span class="br0">{</span>
                                                                              <span class="co1">// log("Destroyed()");</span>
  ReleaseVecs<span class="br0">(</span><span class="br0">)</span>;                                                              <span class="co1">// log("Destroyed:ReleaseVecs()");</span>
  DarkhoverSpawner<span class="br0">(</span>owner<span class="br0">)</span>.<span class="me1">Destroyed</span><span class="br0">(</span><span class="br0">)</span>;                                        <span class="co1">// log("informed "$owner$" im about to die");</span>
  <span class="kw6">super</span>.<span class="me1">Destroyed</span><span class="br0">(</span><span class="br0">)</span>;
 <span class="br0">}</span>
 
 <span class="kw6">simulated</span>  <span class="kw5">function</span> <span class="kw4">bool</span> CheckbOnTheGround<span class="br0">(</span><span class="br0">)</span>
 <span class="br0">{</span>
  <span class="kw5">local</span> <span class="kw4">Vector</span> TraceStart, TraceEnd,    HitLocation,HitNormal;
  <span class="kw5">Local</span> <span class="kw4">float</span>  Dist,       MarkerDist,  Total_DistanceDiff;
  <span class="kw5">Local</span> <span class="kw4">int</span>    I;
  <span class="kw5">local</span> <a href="/Actor"><span class="kw10">actor</span></a>  HitActor;
                                                                              <span class="co1">// log("CheckbOnTheGround()");</span>
  <span class="kw1">if</span> <span class="br0">(</span>traceoffsets<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span> != <span class="kw4">vect</span><span class="br0">(</span><span class="nu0">0</span>,<span class="nu0">0</span>,<span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span>
      TraceOffsets  .<span class="kw6">insert</span> <span class="br0">(</span><span class="nu0">0</span>,<span class="nu0">1</span><span class="br0">)</span>;                                            <span class="co1">// making blank space for first 'marker' trace</span>
  <span class="kw1">for</span> <span class="br0">(</span> I = <span class="nu0">0</span> ; I &lt; TraceOffsets.<span class="kw6">length</span>; I++<span class="br0">)</span>
      <span class="br0">{</span>
      TraceStart = Location + TraceOffsets<span class="br0">[</span>i<span class="br0">]</span>;
      TraceEnd   = TraceStart - <span class="br0">(</span> fMaxDistanceDownToCheck * <span class="kw4">Vect</span><span class="br0">(</span><span class="nu0">0</span>,<span class="nu0">0</span>,<span class="nu0">1</span><span class="br0">)</span> <span class="br0">)</span>;
      HitActor   = Trace<span class="br0">(</span>HitLocation , HitNormal , TraceEnd , TraceStart , <span class="kw9">true</span><span class="br0">)</span>;
      Dist       = VSize<span class="br0">(</span>TraceStart-HitLocation<span class="br0">)</span>;
      <span class="kw1">if</span> <span class="br0">(</span> I == <span class="nu0">0</span> <span class="br0">)</span>
           MarkerDist = dist;
      <span class="kw1">else</span>
      <span class="kw1">if</span> <span class="br0">(</span> HitActor != <span class="kw9">none</span> <span class="br0">)</span>
           Total_DistanceDiff = MarkerDist - Dist;
      <span class="br0">}</span>
 
  <span class="kw1">if</span> <span class="br0">(</span> MarkerDist &lt;= MinGroundClearance<span class="br0">)</span>
     <span class="br0">{</span>
                                                                              <span class="co1">// log('CheckbOnTheGround:Ground clearence is good');</span>
     <span class="kw1">if</span>  <span class="br0">(</span>Total_DistanceDiff &lt; <span class="nu0">100</span><span class="br0">)</span>
         <span class="br0">{</span>
                                                                              <span class="co1">// log(Self$"CheckbOnTheGround:Total diff on ground clearence was less than 100 - returning true");</span>
          <span class="kw1">if</span> <span class="br0">(</span> vsize<span class="br0">(</span>velocity<span class="br0">)</span> &lt; <span class="nu0">10</span> <span class="br0">)</span>
             <span class="br0">{</span>
                                                                              <span class="co1">// log ("CheckbOnTheGround():velocity is now correct to im  - returning true");</span>
              <span class="kw1">return</span> <span class="kw9">true</span>;
             <span class="br0">}</span>
         <span class="br0">}</span>
     <span class="br0">}</span>
 <span class="kw1">else</span>                                                                         <span class="co1">// log ("CheckbOnTheGround:returning false");</span>
 <span class="kw1">return</span> <span class="kw9">false</span>;
 <span class="br0">}</span>
 
<span class="co1">///////////////////////////////////////////////////////////////////////////////////////////////</span>
<span class="co1">///////////////////////////////////////////////////////////auto simulated state GravitySucks</span>
<span class="kw6">auto</span> <span class="kw6">simulated</span> <span class="kw5">state</span> GravitySucks
<span class="br0">{</span>
 
 <span class="kw6">simulated</span> <span class="kw5">function</span> Timer<span class="br0">(</span><span class="br0">)</span>                                                   <span class="co1">// perform a scan</span>
  <span class="br0">{</span>                                                                           <span class="co1">// log("=========state () GravitySucks:Timer() started");</span>
   bOnTheGround=CheckbOnTheGround<span class="br0">(</span><span class="br0">)</span>;
   <span class="kw1">if</span>  <span class="br0">(</span> bOnTheGround == <span class="kw9">true</span> <span class="br0">)</span>
       <span class="br0">{</span>
                                                                              <span class="co1">// log("GravitySucks:Timer:I am on the ground as bOnTheGround ="$bOnTheGround);</span>
        <span class="kw1">if</span> <span class="br0">(</span>landedsound!=<span class="kw9">None</span><span class="br0">)</span>
            Loudnoise<span class="br0">(</span>landedsound<span class="br0">)</span>;
        <span class="kw7">GotoState</span><span class="br0">(</span><span class="st0">'VehicleParked'</span><span class="br0">)</span>;                                           <span class="co1">// log("GravitySucks:Timer():GotoState('VehicleParked') was just called'");</span>
        <span class="kw1">return</span>;
       <span class="br0">}</span>                                                                      <span class="co1">// log("GravitySucks:Timer():Im NOT on the ground this time'");</span>
 SetTimer<span class="br0">(</span><span class="nu0">0.1</span> , <span class="kw9">False</span><span class="br0">)</span>;
 <span class="kw6">super</span>.<span class="me1">timer</span><span class="br0">(</span><span class="br0">)</span>;
 <span class="br0">}</span>
 
Begin:
                                                                              <span class="co1">// log("==========state GravitySucks:state code has been called");</span>
SetTimer<span class="br0">(</span><span class="nu0">0.1</span>  , <span class="kw9">False</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="co1">////////////////////////////////////////////////////////////////////////////////////////////////</span>
<span class="co1">//////////////////////////////////////////// simulated state VehicleParked /</span>
 
<span class="kw6">simulated</span> <span class="kw5">state</span> VehicleParked
<span class="br0">{</span>
 
 <span class="kw6">simulated</span> <span class="kw5">function</span> <span class="kw4">bool</span> TryToDrive<span class="br0">(</span><a href="/Pawn"><span class="kw10">Pawn</span></a> P<span class="br0">)</span>
 <span class="br0">{</span>
                                                                              <span class="co1">// log(" TryToDrive():an attempt to drive was made by"$p);</span>
  <span class="kw6">super</span>.<span class="me1">TryToDrive</span><span class="br0">(</span>P<span class="br0">)</span>;
 <span class="br0">}</span>
 
 <span class="kw6">simulated</span> <span class="kw5">function</span> ClientKDriverEnter<span class="br0">(</span>PlayerController PC<span class="br0">)</span>
 <span class="br0">{</span>
                                                                              <span class="co1">// log("VehicleParked:ClientKDriverenter START");</span>
  Capturevecs <span class="br0">(</span><span class="br0">)</span>;                                                             <span class="co1">// log("VehicleParked:ClientKDriverenter enlistescorts() - has been called and returned");</span>
  enlistescorts<span class="br0">(</span><span class="br0">)</span>;                                                            <span class="co1">// log("VehicleParked:ClientKDriverenter enlistescorts() - has been called and returned");</span>
  <span class="kw7">GotoState</span> <span class="br0">(</span> <span class="st0">'VehicleFlying'</span> <span class="br0">)</span>;                                              <span class="co1">// log("VehicleParked:ClientKDriverenter gotostate 'VehicleFlying' has been called");</span>
  <span class="kw6">super</span>.<span class="me1">ClientKDriverEnter</span><span class="br0">(</span> PC <span class="br0">)</span>;
 <span class="br0">}</span>
 
  <span class="kw6">simulated</span> <span class="kw5">function</span> KDriverEnter<span class="br0">(</span><a href="/Pawn"><span class="kw10">pawn</span></a> p<span class="br0">)</span>
 <span class="br0">{</span>
                                                                              <span class="co1">// log("VehicleParked:KDriverenter                              START");</span>
  Capturevecs <span class="br0">(</span><span class="br0">)</span>;                                                             <span class="co1">// log("VehicleParked:KDriverenter Capturevecs ()               has been called and returned");</span>
  enlistescorts<span class="br0">(</span><span class="br0">)</span>;                                                            <span class="co1">// log("VehicleParked:KDriverenter enlistescorts ()             has been called and returned");</span>
  <span class="kw7">GotoState</span> <span class="br0">(</span> <span class="st0">'VehicleFlying'</span> <span class="br0">)</span>;                                              <span class="co1">// log("VehicleParked:KDriverenterGotoState ( 'VehicleFlying' ) has been called and returned");</span>
  <span class="kw6">super</span>.<span class="me1">KDriverEnter</span><span class="br0">(</span> P <span class="br0">)</span>;
 <span class="br0">}</span>
 
Begin:
                                                                              <span class="co1">// log("now in state () VehicleParked start of state code");</span>
<span class="br0">}</span>
<span class="co1">////////////////////////////////////////////////////////////////////////////////////////////////////</span>
<span class="co1">////////////////////////////////////////////////////////////////////////////////////////////////////</span>
<span class="co1">//////////////////////////////////////////////////////////////// state VehicleFlying</span>
 
<span class="kw5">state</span> VehicleFlying
<span class="br0">{</span>
 <span class="kw6">simulated</span> <span class="kw5">function</span> ClientKDriverLeave<span class="br0">(</span>PlayerController PC<span class="br0">)</span>
 <span class="br0">{</span>                                                                            <span class="co1">// log("VehicleFlying:ClientKDriverLeave releasevecs() has been called and returned ");</span>
                                                                              <span class="co1">// log("VehicleFlying:ClientKDriverLeave releasevecs() has been called and returned");</span>
  releasevecs<span class="br0">(</span><span class="br0">)</span>;                                                              <span class="co1">// log("VehicleFlying:ClientKDriverLeave subweight()   has been called and returned");</span>
  subweight<span class="br0">(</span><span class="br0">)</span>;                                                                <span class="co1">// log("VehicleFlying:ClientKDriverLeave goto state GravitySucks has been called ");</span>
  <span class="kw7">GotoState</span><span class="br0">(</span><span class="st0">'GravitySucks'</span><span class="br0">)</span>;
  <span class="kw6">super</span>.<span class="me1">clientkDriverleave</span><span class="br0">(</span>PC<span class="br0">)</span>;
 <span class="br0">}</span>
 
 <span class="kw6">simulated</span> <span class="kw5">event</span> <span class="kw4">bool</span> KDriverLeave<span class="br0">(</span> <span class="kw4">bool</span> bForceLeave <span class="br0">)</span>
 <span class="br0">{</span>
                                                                              <span class="co1">// log("VehicleFlying:KDriverLeave              * Started *");</span>
  releasevecs<span class="br0">(</span><span class="br0">)</span>;                                                              <span class="co1">// log("VehicleFlying:KDriverLeave:releasevecs()              has been called and returned");</span>
  subweight<span class="br0">(</span><span class="br0">)</span>;                                                                <span class="co1">// log("VehicleFlying:KDriverLeave:subweight()                has been called and returned");</span>
  <span class="kw7">GotoState</span><span class="br0">(</span><span class="st0">'GravitySucks'</span><span class="br0">)</span>;                                                  <span class="co1">// log("VehicleFlying:KDriverLeave :GotoState('GravitySucks') has been called and returned");</span>
  <span class="kw6">super</span>.<span class="me1">kDriverleave</span><span class="br0">(</span>bForceLeave<span class="br0">)</span>;
 <span class="br0">}</span>
 
begin:
<span class="kw1">if</span> <span class="br0">(</span>takeoffsound!=<span class="kw9">None</span><span class="br0">)</span>
    loudnoise<span class="br0">(</span>takeoffsound<span class="br0">)</span>;
                                                                              <span class="co1">// log("now in state VehicleFlying");</span>
<span class="br0">}</span>
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
     fMaxDistanceDownToCheck=<span class="nu0">5000.000000</span>
     MinGroundClearance=<span class="nu0">260.000000</span>
     scanrange=<span class="nu0">1024.000000</span>
     TraceOffsets<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span>=<span class="br0">(</span>X=<span class="nu0">100.000000</span><span class="br0">)</span>
     TraceOffsets<span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span>=<span class="br0">(</span>X=<span class="nu0">-100.000000</span><span class="br0">)</span>
     TraceOffsets<span class="br0">(</span><span class="nu0">2</span><span class="br0">)</span>=<span class="br0">(</span>Y=<span class="nu0">100.000000</span><span class="br0">)</span>
     TraceOffsets<span class="br0">(</span><span class="nu0">3</span><span class="br0">)</span>=<span class="br0">(</span>Y=<span class="nu0">-100.000000</span><span class="br0">)</span>
     bSeekFlyingEscorts=<span class="kw9">True</span>
     bSeekEscorts=<span class="kw9">True</span>
     DriverWeapons<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span>=<span class="br0">(</span>WeaponClass=<span class="kw5">Class</span><span class="st0">'darkhover.Mortician_Head'</span>,WeaponBone=<span class="st0">"middle_front_weapon"</span><span class="br0">)</span>
     PassengerWeapons<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span>=<span class="br0">(</span>WeaponPawnClass=<span class="kw5">Class</span><span class="st0">'OnslaughtFull.ONSMASSideGunPawn'</span>,WeaponBone=<span class="st0">"right_front_weapon"</span><span class="br0">)</span>
     PassengerWeapons<span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span>=<span class="br0">(</span>WeaponPawnClass=<span class="kw5">Class</span><span class="st0">'OnslaughtFull.ONSMASSideGunPawn'</span>,WeaponBone=<span class="st0">"left_front_weapon"</span><span class="br0">)</span>
     PassengerWeapons<span class="br0">(</span><span class="nu0">2</span><span class="br0">)</span>=<span class="br0">(</span>WeaponPawnClass=<span class="kw5">Class</span><span class="st0">'OnslaughtFull.ONSMASSideGunPawn'</span>,WeaponBone=<span class="st0">"right_middle_weapon"</span><span class="br0">)</span>
     PassengerWeapons<span class="br0">(</span><span class="nu0">3</span><span class="br0">)</span>=<span class="br0">(</span>WeaponPawnClass=<span class="kw5">Class</span><span class="st0">'OnslaughtFull.ONSMASSideGunPawn'</span>,WeaponBone=<span class="st0">"left_middle_weapon"</span><span class="br0">)</span>
     PassengerWeapons<span class="br0">(</span><span class="nu0">4</span><span class="br0">)</span>=<span class="br0">(</span>WeaponPawnClass=<span class="kw5">Class</span><span class="st0">'OnslaughtFull.ONSMASSideGunPawn'</span>,WeaponBone=<span class="st0">"left_rear_weapon"</span><span class="br0">)</span>
     PassengerWeapons<span class="br0">(</span><span class="nu0">6</span><span class="br0">)</span>=<span class="br0">(</span>WeaponPawnClass=<span class="kw5">Class</span><span class="st0">'OnslaughtFull.ONSMASSideGunPawn'</span>,WeaponBone=<span class="st0">"right_rear_weapon"</span><span class="br0">)</span>
     VehicleMass=<span class="nu0">12.000000</span>
     TPCamDistance=<span class="nu0">1400.000000</span>
     bPathColliding=<span class="kw9">True</span>
<span class="br0">}</span>
</pre></div>
<p>Heres a link to a smal vid showing the dropship in action&#160;: - <a href="http://www.fataloverdose.copperstream.co.uk/vids/Dropship.html" class="external text" title="http://www.fataloverdose.copperstream.co.uk/vids/Dropship.html" rel="nofollow">DropshipVid</a>(you might get an error until the video has finished buffering/downloading).</p>
<p><a name="Discussion" id="Discussion"></a></p>
<h2><span class="mw-headline">Discussion</span></h2>
<p><b>Vitaloverdose</b> im trested in taking this script further if anyone has a decent static mesh for a dropship.</p>
<p><b>Ambershee:</b> Take a look at the Leviathan. That deploys into a static weapon using animation and has the collision intact.</p>

<!-- 
NewPP limit report
Preprocessor node count: 14/1000000
Post-expand include size: 37/2097152 bytes
Template argument size: 0/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../../articles/c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Category</a>: <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_Custom_Class_%28UT2004%29_0b8c.html" title="Category:Legacy Custom Class (UT2004)">Legacy Custom Class (UT2004)</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/v/i/t/Legacy%7EVitalOverdose_The_DropShip_Controller_82be.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/v/i/t/Legacy_talk%7EVitalOverdose_The_DropShip_Controller_47ad.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:VitalOverdose/The_DropShip_Controller">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 23:14, 19 November 2007 by Anonymous user(s) of Unreal Wiki. </li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
