<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:UMake/Discuss - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:UMake/Discuss</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"><span class="subpages">&lt; <a href="../../../../articles/u/m/a/Legacy%7EUMake_c884.html" title="Legacy:UMake">Legacy:UMake</a></span></div>
	    	    	    <!-- start content -->
	    <table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Suggestions"><span class="tocnumber">1</span> <span class="toctext">Suggestions</span></a>
<ul>
<li class="toclevel-2"><a href="#Restart_Button"><span class="tocnumber">1.1</span> <span class="toctext">Restart Button</span></a></li>
<li class="toclevel-2"><a href="#Compiling_Multiple_Packages"><span class="tocnumber">1.2</span> <span class="toctext">Compiling Multiple Packages</span></a></li>
<li class="toclevel-2"><a href="#Dependency_List_Management"><span class="tocnumber">1.3</span> <span class="toctext">Dependency List Management</span></a></li>
<li class="toclevel-2"><a href="#Succes.2FFailed.2C_but_where_is_the_warning.3F"><span class="tocnumber">1.4</span> <span class="toctext">Succes/Failed, but where is the warning?</span></a></li>
<li class="toclevel-2"><a href="#Extra_command_line_option"><span class="tocnumber">1.5</span> <span class="toctext">Extra command line option</span></a></li>
<li class="toclevel-2"><a href="#Support_for_UT2004.27s_-mod-_feature"><span class="tocnumber">1.6</span> <span class="toctext">Support for UT2004's -mod- feature</span></a></li>
<li class="toclevel-2"><a href="#Support_for_UT3"><span class="tocnumber">1.7</span> <span class="toctext">Support for UT3</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Bugs"><span class="tocnumber">2</span> <span class="toctext">Bugs</span></a>
<ul>
<li class="toclevel-2"><a href="#Cache_export_seems_to_break_something_here"><span class="tocnumber">2.1</span> <span class="toctext">Cache export seems to break something here</span></a></li>
<li class="toclevel-2"><a href="#Project_Tab_and_Long_Package_Names"><span class="tocnumber">2.2</span> <span class="toctext">Project Tab and Long Package Names</span></a></li>
<li class="toclevel-2"><a href="#Errors_Outside_the_Compiled_Package"><span class="tocnumber">2.3</span> <span class="toctext">Errors Outside the Compiled Package</span></a></li>
<li class="toclevel-2"><a href="#Warnings_About_Missing_Import_Files"><span class="tocnumber">2.4</span> <span class="toctext">Warnings About Missing Import Files</span></a></li>
<li class="toclevel-2"><a href="#GPF_after_successfull_compilation_with_UT2004_v3197_.28and_later.29"><span class="tocnumber">2.5</span> <span class="toctext">GPF after successfull compilation with UT2004 v3197 (and later)</span></a></li>
<li class="toclevel-2"><a href="#Warnings_about_unused_or_obscured_variables.2C_structs_and_enums"><span class="tocnumber">2.6</span> <span class="toctext">Warnings about unused or obscured variables, structs and enums</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Questions_and_Problems"><span class="tocnumber">3</span> <span class="toctext">Questions and Problems</span></a>
<ul>
<li class="toclevel-2"><a href="#Aborting_UCC"><span class="tocnumber">3.1</span> <span class="toctext">Aborting UCC</span></a></li>
<li class="toclevel-2"><a href="#UCC_User_Interaction"><span class="tocnumber">3.2</span> <span class="toctext">UCC User Interaction</span></a></li>
<li class="toclevel-2"><a href="#Code"><span class="tocnumber">3.3</span> <span class="toctext">Code</span></a></li>
</ul>
</li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Suggestions" id="Suggestions"></a></p>
<h2><span class="mw-headline">Suggestions</span></h2>
<p><a name="Restart_Button" id="Restart_Button"></a></p>
<h3><span class="mw-headline">Restart Button</span></h3>
<p><b>Tarquin:</b> It would be nice for the "compile failed" window to have a "start again" button – avoids having to restart the program or go back via options.</p>
<p><a name="Compiling_Multiple_Packages" id="Compiling_Multiple_Packages"></a></p>
<h3><span class="mw-headline">Compiling Multiple Packages</span></h3>
<p><b>DJPaul:</b> Can this thing re-compile multiple packages AT ONCE?</p>
<p><b>Mychaeel:</b> It's not designed to, or at least the frontend isn't. I think compiling multiple packages at once is not a very common task though.</p>
<p><b>Wormbo:</b> You'd have to add the additional packages to the project in UMake, but if you want to recompile them then you'll have to delete them manually. I recommend creating multiple projects for that though.</p>
<p><a name="Dependency_List_Management" id="Dependency_List_Management"></a></p>
<h3><span class="mw-headline">Dependency List Management</span></h3>
<p><b>Unknown:</b> Would it be possible for the Dependencies list in the Project tab to have some way of "uncheck all below this" and "check all above this"?</p>
<p><a name="Succes.2FFailed.2C_but_where_is_the_warning.3F" id="Succes.2FFailed.2C_but_where_is_the_warning.3F"></a></p>
<h3><span class="mw-headline">Succes/Failed, but where is the warning?</span></h3>
<p><b>Daid303:</b> How about an option that does something (something else then succes) on a succesfull compile with warnings, because most of the time you do want to fix your warnings. And the UCC with the runtime engine nevers shows up 'X errors' it thinks all errors are warnings for some reason.</p>
<p><a name="Extra_command_line_option" id="Extra_command_line_option"></a></p>
<h3><span class="mw-headline">Extra command line option</span></h3>
<p><b>Daid303:</b> wouldn't it be nice to have an option to give extra commands to UCC, like -Debug.</p>
<p><a name="Support_for_UT2004.27s_-mod-_feature" id="Support_for_UT2004.27s_-mod-_feature"></a></p>
<h3><span class="mw-headline">Support for UT2004's <tt>-mod-</tt> feature</span></h3>
<p><b>Wormbo:</b> This is somewhat related to the "Extra command line option" suggestion above, but may be worth mentioning on its own. The <code>-mod-</code> parameter implies certain changes in the directory structure of the source code (as opposed to compiling without <code>-mod-</code>) UMake doesn't handle yet, I think.</p>
<p><a name="Support_for_UT3" id="Support_for_UT3"></a></p>
<h3><span class="mw-headline">Support for UT3</span></h3>
<p><b>Medic:</b> Any plans to support UT3?</p>
<p><a name="Bugs" id="Bugs"></a></p>
<h2><span class="mw-headline">Bugs</span></h2>
<p><a name="Cache_export_seems_to_break_something_here" id="Cache_export_seems_to_break_something_here"></a></p>
<h3><span class="mw-headline">Cache export seems to break something here</span></h3>
<p>The new UT2004 version (3270) seems to have problems with UCC. Because of the automatic cache export.</p>
<p>WORKAROUND:</p>
<p>Open the make.ini in your project directory and add the line</p>
<pre>
CacheRecordPath=*.ucl
</pre>
<p>in the [Core.System] section.</p>
<p><a name="Project_Tab_and_Long_Package_Names" id="Project_Tab_and_Long_Package_Names"></a></p>
<h3><span class="mw-headline">Project Tab and Long Package Names</span></h3>
<p><b>Tarquin:</b> Project tab: "The options on this tab only affect the ..." text runs off the screen with long package names.</p>
<p><a name="Errors_Outside_the_Compiled_Package" id="Errors_Outside_the_Compiled_Package"></a></p>
<h3><span class="mw-headline">Errors Outside the Compiled Package</span></h3>
<p><b>El Muerte TDS:</b> somewhat of a bug, when you make a mistake in a other package, on what the current package depends the edit button will try open that file from the current package (which mostlikely won't exist)</p>
<p><b>Mychaeel:</b> Normally UMake will extract the full file name from the "ucc make" log and simply use that. In a few cases the compiler doesn't provide a full file name but only a class name; in those cases UMake tries to guess the name of the .uc file using the class name and the current package name. I could improve that algorithm though by using the name of the last package the compiler started to process (I simply didn't think of the possibility that there could be an error in a different package than the one that's being compiled).</p>
<p><b>El Muerte TDS:</b> you could also check if the file event exists in the current package</p>
<p><b>Mychaeel:</b> That's right. I'll keep that in mind for the next version.</p>
<p><a name="Warnings_About_Missing_Import_Files" id="Warnings_About_Missing_Import_Files"></a></p>
<h3><span class="mw-headline">Warnings About Missing Import Files</span></h3>
<p><b>Wormbo:</b> When compiling a UT project I got a compiler warning about a texture that couldn't be imported. UMake correctly displayed that warning and the corresponding script file, but the Edit button opens the next script file parsed.</p>
<p><a name="GPF_after_successfull_compilation_with_UT2004_v3197_.28and_later.29" id="GPF_after_successfull_compilation_with_UT2004_v3197_.28and_later.29"></a></p>
<h3><span class="mw-headline">GPF after successfull compilation with UT2004 v3197 (and later)</span></h3>
<p><b>Wormbo:</b> From beta patch v3197 and onward, the Make <a href="../../../../articles/c/o/m/Legacy%7ECommandlet_d39f.html" title="Legacy:Commandlet">commandlet</a> automatically runs the ExportCache commandlet as well. When compiling with UMake, this part causes a General Protection Fault because the [Core.System] section of the UMake project ini file entry is missing the line</p>
<pre>
CacheRecordPath=../System/*.ucl
</pre>
<p>The compiled U file is saved correctly, though.</p>
<p>And while I'm at it, adding Suppress=DevLoad and Suppress=DevSave to the [Core.System] section as well wouldn't hurt in UT2004.</p>
<p><a name="Warnings_about_unused_or_obscured_variables.2C_structs_and_enums" id="Warnings_about_unused_or_obscured_variables.2C_structs_and_enums"></a></p>
<h3><span class="mw-headline">Warnings about unused or obscured variables, structs and enums</span></h3>
<p><b>Wormbo:</b> The warnings UCC displays about unused or obscured variables or obscured structs or enums aren't displayed in the Warnings tab.<br />
Now when they are the cause of a compiler error (e.g. "type mismatch in =" on a line with "A = B;", where A is of type thisClass.SomeStruct and B is of type parentClass.SomeStruct) it's pure luck to find them because UMake switches to the "Errors" tab without showing the warnings.</p>
<p><a name="Questions_and_Problems" id="Questions_and_Problems"></a></p>
<h2><span class="mw-headline">Questions and Problems</span></h2>
<p><a name="Aborting_UCC" id="Aborting_UCC"></a></p>
<h3><span class="mw-headline">Aborting UCC</span></h3>
<p><b>El Muerte TDS:</b> Mychaeel, how did you implement the "abort" feature of umake&#160;? I'm working on a `ucc server` wrapper to make my debugging a bit easier. But I can't get to shutdown the server proberly, I've tried that winapi method to send a ^C but it doesn't work for some reason.</p>
<p><b>Mychaeel:</b> Under Windows NT/2000/XP, UMake simply closes the console window. Under Windows 9x/ME, it uses keybd_event to send VK_CONTROL and VK_CANCEL key press and release events. – But even though that works, there's another pitfall with "ucc": It doesn't abort cleanly. A Visual C++ error dialog appears when the program is aborted (happens when you do it manually too), so I wrapped the "ucc make" process in a pseudo-debugging environment which handles the program abortion exception in ucc's stead.</p>
<p><a name="UCC_User_Interaction" id="UCC_User_Interaction"></a></p>
<h3><span class="mw-headline">UCC User Interaction</span></h3>
<p><b>AlphaOne:</b> I have a problem with UMake (probably due to my code). When umake starts compiling my subclass of Tab_InstantActionBaseRules (myRulesTab) UMake stops responding as if it was in an infinite loop. When I try the same code with UCC I get the following:</p>
<pre>
 Importing Defaults for myRulesTab
 The file '..\mypackage\Inc\myPackageClasses.h' needs to be updated.
 Do you want to overwrite the existing version? (Y/N):
</pre>
<p>If I say Y then it gives me:</p>
<pre>
 Error exporting Class Core.Object: couldn't open file '..\mypackage\Inc\myPackageClasses.h'
 Failure - 1 error(s), 0 warning(s)
</pre>
<p>If I say N then it compiles without errors. Other than that the code runs fine (I think). – So, what should I do? What is the problem? I don't think my class has any probles. I could post the code.</p>
<p><b>Mychaeel:</b> Sounds like you're having a superfluous "native" somewhere (otherwise the compiler would not ask for updating a .h file). By the way, you should see the same message when clicking "Details," and by clicking "Abort" you should always be able to close UMake when that happens.</p>
<p><b>AlphaOne:</b> What does superfluous native mean? The problem with UMake is that in MY case clicking Abort does NOT abort. In fact the only way to close UMake is to kill it! That's the reason why I went to UCC. Anyways, Someone else gave me that code and it compiles fine for that person. Moreover, if I choose the "N" option in UCC then the code compiles perfectly and works fine as well. I just want UMake not to hang on me like this.</p>
<p><b>Mychaeel:</b> The problem is that "ucc" asks for user interaction, and UMake doesn't support that. (There's a switch in UT2003's "ucc" to suppress any user interaction. UMake doesn't use it, but could in a possible future version – just to be sure.)</p>
<p>The <i>actual</i> problem is in the code you're compiling though. Normally the compiler doesn't require any user interaction, and that request about creating "myPackageClasses.h" is a strong indication that something is in that UnrealScript code that shouldn't be there – namely a reference to native code via the "native" keyword. Since mod makers have no means to actually create native code to work with UnrealScript code, any "native" in the UnrealScript code is bound to be out of place. I can only guess, but maybe your coder just copied some of Epic's code without really understanding it and thus got a superfluous "native" into what actually should be pure UnrealScript code.</p>
<p>If that's not it, send me your .uc file to mychaeel@beyondunreal.com and I'll look into the problem more closely.</p>
<p><b>AlphaOne:</b> Thanks a bunch! Some of the code did have a native class declaration. I didn't realise that someonelse's file was in the package, so I didn't bother to look there until I searched for the word "native" in ALL of my classes! Anyways, UMake is a wonderful program!</p>
<p><b>Ferazel2001:</b> Wow... im so glad theres an alternitave to UDE... I thought I was stuck with either that or UnrealEd, Now that I have gotten EditPlus and UMake set up, life is really looking up! Thanks for the great app!</p>
<p><a name="Code" id="Code"></a></p>
<h3><span class="mw-headline">Code</span></h3>
<p><b>Blip2:</b> Was this written in VB5/6/ or .net?</p>
<p><b>Wormbo:</b> It was written in Delphi. No idea about the version, though.</p>

<!-- 
NewPP limit report
Preprocessor node count: 27/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/u/m/a/Legacy%7EUMake_Discuss_2b92.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/u/m/a/Legacy_talk%7EUMake_Discuss_0d58.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:UMake/Discuss">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 13:26, 26 November 2007 by Anonymous user(s) of Unreal Wiki. Based on work by Unreal Wiki user(s) <a href="../../../../articles/w/o/r/User%7EWormbo_7d13.html" title="User:Wormbo">Wormbo</a>.</li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
