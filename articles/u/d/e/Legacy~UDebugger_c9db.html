<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:UDebugger - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:UDebugger</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Before_you_start"><span class="tocnumber">1</span> <span class="toctext">Before you start</span></a></li>
<li class="toclevel-1"><a href="#To_start_a_normal_debugging_session"><span class="tocnumber">2</span> <span class="toctext">To start a normal debugging session</span></a></li>
<li class="toclevel-1"><a href="#To_start_a_UDebugger_server_session"><span class="tocnumber">3</span> <span class="toctext">To start a UDebugger server session</span></a></li>
<li class="toclevel-1"><a href="#Bugs_and_Quirks"><span class="tocnumber">4</span> <span class="toctext">Bugs and Quirks</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Before_you_start" id="Before_you_start"></a></p>
<h2><span class="mw-headline">Before you start</span></h2>
<ol>
<li>Make sure you have the debug packages installed (See <a href="../../../../articles/u/n/r/Legacy%7EUnrealScript_Source_bd96.html" title="Legacy:UnrealScript Source">UnrealScript Source</a>).</li>
<li>Make sure you have the latest version of the debugger from Epic. In UT2004 Udebugger comes with the game.</li>
<li>Make sure you build your own packages using the -debug option before starting the debugger</li>
</ol>
<p><a name="To_start_a_normal_debugging_session" id="To_start_a_normal_debugging_session"></a></p>
<h2><span class="mw-headline">To start a normal debugging session</span></h2>
<ol>
<li>Optionally set StartupFullScreen=false in the [WinDrv.WindowsClient] section of the UT2003.ini or UT2004.ini file. (Alternatively you can hit ALT-ENTER to toggle fullscreen anyway).</li>
<li>Start UDebugger.exe</li>
<li>Set breakpoints, watches, etc. you'd like to debug during your session.</li>
<li>If debugging 'Access None' errors, make sure to select "Break On Access None" in the debugger options menu.</li>
<li>To close the debugger, exit the game normally.</li>
</ol>
<p><a name="To_start_a_UDebugger_server_session" id="To_start_a_UDebugger_server_session"></a></p>
<h2><span class="mw-headline">To start a UDebugger server session</span></h2>
<ol>
<li>From the command line, start UDebugger using the following command line: UDebugger MapName?Game=GameType -server</li>
<li>Set breakpoints, watches, etc. you'd like for your mod</li>
<li>Start up a client UT2003 by double clicking the UT2003.exe file, and join your own dedicated server. Depending on where you set your breakpoints, you may need to play the game a little before you hit a breakpoint, but you get the idea.</li>
<li>To close UDebugger.exe and its associated instance of UT2003.exe (the dedicated server that you started), I've found the only reliable way is to issue an admin quit command either from console logged in as admin, or from webadmin. Closing it any other way causes udebugger to hang (i.e. closing udebugger itself, task manager, etc.). However, if you issue an admin quit to the dedicated server, it will close and bring udebugger with it.</li>
</ol>
<p><a name="Bugs_and_Quirks" id="Bugs_and_Quirks"></a></p>
<h2><span class="mw-headline">Bugs and Quirks</span></h2>
<ul>
<li>UDebugger does not log to the main log file, but to the UDebugger.log instead. Be aware of this when checking your log after a debugging session.</li>
</ul>
<ul>
<li>Haven't been able to get watches to work for UT2003.</li>
</ul>
<ul>
<li>You can manually add breakpoints without having the UDebugger open by editing the UDebugger.ini file, in the [DEBUGGER.BREAKPOINTS] section. The format of this section is as follows:</li>
</ul>
<pre>
       Breakpoint0line=50
       Breakpoint0Class=ENGINE.ACTOR
       Breakpoint1line=100
</pre>
<pre>
       Breakpoint1Class=ENGINE.GAMEINFO
</pre>
<pre>
       etc.
</pre>
<p><br />
UDebugger does not correctly handle invalid breakpoints. This means if you quit without removing breakpoints then recompile the code where the breakpoints were set, udebugger crashes with many Access Violation errors. On clearing these errors, breakpoints will not work properly in udebugger. To prevent this, remove lines from the [UDEBUGGER.BREAKPOINTS] section of udebugger.ini that pertain to changed code.</p>
<p><br /></p>
<ul>
<li>Setting a breakpoint by right-clicking often sets the breakpoint much earlier in the code. More accurate control is possible by setting breakpoints by left-clicking in the empty column where UDebugger places the red dots for breakpoints.</li>
</ul>
<ul>
<li>You can't see the interal values of structs or arrays, so you need to change your code to write the member value to a simple variable.</li>
</ul>
<p><br />
UDebugger will list the values of simple local variables, but will not display the values of expressions, array members, struct members, nor the return values of functions. When debugging, get in the habit of separating your steps more and using local variables more. For example, instead of a compact piece of code like this:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw4">struct</span> WeaponItem 
<span class="br0">{</span>
        <span class="kw5">var</span> class&lt;Weapon&gt; WeaponClass;
        <span class="kw5">var</span> <span class="kw4">string</span> WeaponName;
        <span class="kw5">var</span> class&lt;UTWeaponPickup&gt; PickupClass;
        <span class="kw5">var</span> class&lt;Ammunition&gt; AmmoClass;
        <span class="kw5">var</span> class&lt;Pickup&gt; AmmoPickupClass;
        <span class="kw5">var</span> <span class="kw4">bool</span> bEnabled;
<span class="br0">}</span>;
 
<span class="kw5">var</span> array&lt;WeaponItem&gt; Weapons;
 
<span class="kw5">function</span> FillWeapons<span class="br0">(</span>array&lt;class&lt;Weapon&gt; &gt; WeaponClass<span class="br0">)</span>
<span class="br0">{</span>
        <span class="kw5">local</span> <span class="kw4">int</span> i, j;
 
        <span class="kw1">for</span> <span class="br0">(</span>i=<span class="nu0">0</span>;i&lt;WeaponClass.<span class="kw6">Length</span>;i++<span class="br0">)</span>
        <span class="br0">{</span>
                <span class="kw1">if</span> <span class="br0">(</span>WeaponClass<span class="br0">[</span>i<span class="br0">]</span> == <span class="kw5">class</span><span class="st0">'BallLauncher'</span><span class="br0">)</span>
                <span class="br0">{</span>
                        CannotBeDisabled<span class="br0">[</span>CannotBeDisabled.<span class="kw6">Length</span><span class="br0">]</span> = WeaponClass<span class="br0">[</span>i<span class="br0">]</span>;
                        <span class="kw1">return</span>;
                <span class="br0">}</span>
                <span class="kw1">for</span> <span class="br0">(</span>j=<span class="nu0">0</span>;j&lt;Weapons.<span class="kw6">Length</span>;j++<span class="br0">)</span>
                <span class="br0">{</span>
                        <span class="kw1">if</span> <span class="br0">(</span>Weapons<span class="br0">[</span>j<span class="br0">]</span>.<span class="me1">WeaponClass</span> == WeaponClass<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span>
                        <span class="kw1">return</span>;
                <span class="br0">}</span>
                AddWeaponClass<span class="br0">(</span>WeaponClass<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span>;
        <span class="br0">}</span>
        <span class="kw1">default</span>.<span class="me1">Weapons</span>.<span class="kw6">Length</span> = Weapons.<span class="kw6">Length</span>;
<span class="br0">}</span>
</pre></div>
<p>You might need to expand it out a little:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">function</span> FillWeapons<span class="br0">(</span>array&lt;class&lt;Weapon&gt; &gt; WeaponClass<span class="br0">)</span>
<span class="br0">{</span>
        <span class="kw5">local</span> <span class="kw4">int</span> i, j, WeaponClassArrayLength, WeaponsArrayLength;
        <span class="kw5">local</span> class&lt;Weapon&gt; WC, TempWC;
 
        WeaponClassArrayLength = WeaponClass.<span class="kw6">Length</span>;
        WeaponsArrayLength = Weapons.<span class="kw6">Length</span>;
 
        <span class="kw1">for</span> <span class="br0">(</span>i=<span class="nu0">0</span>;i&lt;WeaponClassArrayLength;i++<span class="br0">)</span>
        <span class="br0">{</span>
                TempWC = WeaponClass<span class="br0">[</span>i<span class="br0">]</span>;
                <span class="kw1">if</span> <span class="br0">(</span>TempWC == <span class="kw5">class</span><span class="st0">'BallLauncher'</span><span class="br0">)</span>
                <span class="br0">{</span>
                        CannotBeDisabled<span class="br0">[</span>CannotBeDisabled.<span class="kw6">Length</span><span class="br0">]</span> = TempWC;
                        <span class="kw1">return</span>;
                <span class="br0">}</span>
                <span class="kw1">for</span> <span class="br0">(</span>j=<span class="nu0">0</span>;j&lt;WeaponsArrayLength;j++<span class="br0">)</span>
                <span class="br0">{</span>
                        WC = Weapons<span class="br0">[</span>j<span class="br0">]</span>.<span class="me1">WeaponClass</span>;
                        <span class="kw1">if</span> <span class="br0">(</span>WC == TempWC<span class="br0">)</span>
                        <span class="kw1">return</span>;
                <span class="br0">}</span>
                AddWeaponClass<span class="br0">(</span>WeaponClass<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span>;
        <span class="br0">}</span>
        <span class="kw1">default</span>.<span class="me1">Weapons</span>.<span class="kw6">Length</span> = Weapons.<span class="kw6">Length</span>;
<span class="br0">}</span>
</pre></div>
<p><br /></p>
<hr />
<p><b>Mychaeel:</b> Is it <i>necessary</i> to run the game on a local dedicated server or is it possible to run botmatches too with the debugger? (Especially launching the server from within UT2003 strikes me as cumbersome.)</p>
<p><b>Evolution:</b> Not at all. I simply do it this way because of the nature of the mods that I have been debugging. Most of the stuff I'm working with is related to admin / webadmin / advanced admin, and really isn't necessary to have a client instance at all, so a dedicated server is the best way so that I can focus on the debugger's screen.</p>
<p>Unfortunately, although the debugger is supposed to work as a loader for ut2003.exe, (which would mean you could pass the debugger any parameters you could pass the ut2003.exe) I haven't noticed any command line arguments have any effect.</p>
<p><b>Jon K:</b> I've had some problems with udebugger that have limited its usefulness. Actually, they've made it useless. I was wondering if anyone had similar problems and found a way around them.</p>
<p>The first is that with patch 2225, the debugger hangs just as it's trying to launch the UT2003 splash screen video. I've tried it with numerous options from WOTgreal, with no luck.</p>
<p>I had better results with only patches 2136 or 2166 installed. It would run, but usually (though not always) when I would set a breakpoint or try to break into a running game, I would get a GPF with a stack trace that generally ended in a call to "UObject::GetFullName" from "UObject:: ProcessEvent" (for example "General protection fault! History: UObject::GetFullName &lt;- UObject:: ProcessEvent &lt;- (xPlayer DM-Antalus.xPlayer, Function XGame.xPlayer.PlayerTick) &lt;- APlayerController::Tick &lt;- TickAllActors &lt;- ULevel::Tick &lt;- (NetMode=0) &lt;- TickLevel &lt;- UGameEngine::Tick &lt;- UpdateWorld &lt;- MainLoop").</p>
<p>I really like debuggers, and am a bit dismayed at my lack of ability to use this one. I've followed all the instructions mentioned about about upgrading the debugger and putting in source and debug .u files. Any ideas?</p>
<p><b>Vishvananda:</b> I have the same hanging problem as Jon K with 2225. Has anyone gotten this to work?</p>
<p><b>Harmeister:</b> I could not get it to work with 2225. I got it to run sucessfully with 2136's UDebugger.exe and 2166's debug .u files. However I finally got WOTgreal up and running to be the controller of the debugger session with a new dinterface.dll. How to get the debugger working with WOTgreal, and the pain I had to go through (beyond the basic stuff described here) just to get the dumb thing up and running is documented at <a href="http://www.wotgreal.com" class="external free" title="http://www.wotgreal.com" rel="nofollow">http://www.wotgreal.com</a> . There's a link near the top called "WOTgreal and the UDebugger."</p>

<!-- 
NewPP limit report
Preprocessor node count: 12/1000000
Post-expand include size: 9/2097152 bytes
Template argument size: 0/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../../articles/c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Category</a>: <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_Application_99db.html" title="Category:Legacy Application">Legacy Application</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/u/d/e/Legacy%7EUDebugger_c9db.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/u/d/e/Legacy_talk%7EUDebugger_b9f7.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:UDebugger">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 09:42, 7 August 2005 by Anonymous user(s) of Unreal Wiki. </li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
