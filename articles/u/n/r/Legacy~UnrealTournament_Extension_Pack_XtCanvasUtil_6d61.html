<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:UnrealTournament Extension Pack/XtCanvasUtil - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:UnrealTournament Extension Pack/XtCanvasUtil</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"><span class="subpages">&lt; <a href="../../../../articles/u/n/r/Legacy%7EUnrealTournament_Extension_Pack_a577.html" title="Legacy:UnrealTournament Extension Pack">Legacy:UnrealTournament Extension Pack</a></span></div>
	    	    	    <!-- start content -->
	    <div class="infobox infobox-class infobox-legacy"><a href="../../../../articles/o/b/j/Legacy%7EObject_%28UT%29_9c27.html" title="Legacy:Object (UT)">Object_(UT)</a> &gt;&gt; <a href="../../../../articles/u/n/r/Legacy%7EUnrealTournament_Extension_Pack_XtMainUtil_64b7.html" title="Legacy:UnrealTournament Extension Pack/XtMainUtil">xtMainUtil</a> &gt;&gt; xtCanvasUtil (Package: xtCore.u)</div>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#About.2FDescription"><span class="tocnumber">1</span> <span class="toctext">About/Description</span></a></li>
<li class="toclevel-1"><a href="#Functions"><span class="tocnumber">2</span> <span class="toctext">Functions</span></a>
<ul>
<li class="toclevel-2"><a href="#Advanced_Canvas_Functions_.2812_Functions.29"><span class="tocnumber">2.1</span> <span class="toctext">Advanced Canvas Functions (12 Functions)</span></a></li>
<li class="toclevel-2"><a href="#New_Drawing_Functions_.284_Textures.29"><span class="tocnumber">2.2</span> <span class="toctext">New Drawing Functions (4 Textures)</span></a></li>
</ul>
</li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="About.2FDescription" id="About.2FDescription"></a></p>
<h2><span class="mw-headline">About/Description</span></h2>
<p>This advanced Util provides complex canvas related functions. They either extend common canvas functions or are completely new.</p>
<p><br /></p>
<table>
<tr>
<td>Class Name</td>
<td>xtCanvasUtil.uc</td>
</tr>
<tr>
<td>Type/Perpose</td>
<td>Global Canvas Functions providing class</td>
</tr>
<tr>
<td>Topics</td>
<td>Canvas, HUD, Drawing, Simulated Post Processing</td>
</tr>
<tr>
<td>Superclass</td>
<td>[[UnrealTournament_Extension_Pack/xtMainUtil</td>
<td>xtMainUtil]]</td>
</tr>
<tr>
<td>Subclasses</td>
</tr>
<tr>
<td>Current Version</td>
<td>v1.15</td>
</tr>
<tr>
<td>Current Function Count</td>
<td>16</td>
</tr>
<tr>
<td>Author</td>
<td><a href="../../../../articles/s/h/a/Legacy%7EShadow_56de.html" title="Legacy:Shadow">Shadow</a></td>
</tr>
</table>
<p><a name="Functions" id="Functions"></a></p>
<h2><span class="mw-headline">Functions</span></h2>
<p><a name="Advanced_Canvas_Functions_.2812_Functions.29" id="Advanced_Canvas_Functions_.2812_Functions.29"></a></p>
<h3><span class="mw-headline">Advanced Canvas Functions (12 Functions)</span></h3>
<dl>
<dt>static final function DrawRLSTexture(Canvas C,texture T, float Scale)</dt>
<dd>Draws a relatively scaled texture T by Scale using DrawTile.</dd>
</dl>
<dl>
<dt>static final function DrawBox(Canvas C,texture T, float Height, float Width)</dt>
<dd>Draws a 2D Canvas Box based on texture T, the Height and Width.</dd>
</dl>
<dl>
<dt>static final function Color SetColor(byte R, byte G, byte B, optional byte A)</dt>
<dd>Sets a custom color by the 4 components. Similar to Vect2, Rot2 etc.</dd>
</dl>
<dl>
<dt>static function Color SetColorPercentage(color Source,color Final,float Percentage)</dt>
<dd>Returns a new custom color between the range of Source and Final determined by Percentage in percent.</dd>
</dl>
<dl>
<dt>static final function bool ColorRGBIsZero(byte R,byte G,byte B,bool bAlpha,optional byte A)</dt>
<dd>Returns whether the input components of some color would build up a zero-color value (true) or not (false).</dd>
</dl>
<dl>
<dt>static final function bool GetBounding2DBox(float pX,float pY,float X,float Y,float Width,float Height)</dt>
<dd>Builds up an abstract 2D Canvas Box based on Width and Height positioned by the Center X and Y. Returns whether pX/pY are within the box (true) or not (false).</dd>
</dl>
<dl>
<dt>static final function bool MapToHud(canvas C,out vector Result,rotator ViewRotation,float FOV,vector TargetDir)</dt>
<dd>Source: <a href="http://wiki.beyondunreal.com/wiki/MapToHUD#0.3" class="external text" title="http://wiki.beyondunreal.com/wiki/MapToHUD#0.3" rel="nofollow">MapToHUD</a></dd>
</dl>
<dl>
<dt>static final function vector WorldToScreen(canvas C,vector WorldVector)</dt>
<dd>Source: <a href="http://wiki.beyondunreal.com/wiki/MapToHUD#0.5" class="external text" title="http://wiki.beyondunreal.com/wiki/MapToHUD#0.5" rel="nofollow">WorldToScreen</a></dd>
</dl>
<dl>
<dt>static simulated function bool WorldToScreen2(vector Worldvector,pawn Dude,vector Eyes,rotator Rot,float width,float Height,out float X,out float Y)</dt>
<dd>Source: <a href="http://wiki.beyondunreal.com/wiki/MapToHUD#0.6" class="external text" title="http://wiki.beyondunreal.com/wiki/MapToHUD#0.6" rel="nofollow">WorldToScreen Alternate Version</a></dd>
</dl>
<dl>
<dt>static final function vector ScreenToWorld(canvas C,actor Owner,float X,float Y,float Width,float Height,int FOV,rotator R,float EyeHeight,vector Location)</dt>
<dd>Converts X/Y Canvas Coordinates into 3D Vector Positions (just the inversion of WorldToScreen).</dd>
</dl>
<dl>
<dt>static final function SetVectPos(canvas C,texture T,float MainScale,float UScale,float VScale,float X,float Y,float Length,bool bSeperated,bool bRealMode,optional actor A,optional actor B)</dt>
<dd>Complex canvas positioning function. Sets SetPos relative to a world vector with auto correction of the position. The new Coronas make heavy use of it while allowing seperated tiling and scaling without loosing exact position on screen relative to the location. Texture T is the texture to be drawn (needs the USize/VSize values written in the texture) and placed. MainScale is the relative scale that scales both UScale and VScale relatively. U- and VScale are the seperated scales if bSeperated = True (U/VScale in Pixels). X/Y are the converted canvas positions. Length is the size of the converted vector. bRealMode determines whether the "Canvas Sprite" is scaled down or not either simulating a corona or a sprite. Actors A and B are needed for distance calculations for bRealMode = true.</dd>
</dl>
<dl>
<dt>static final function DrawAdvTile(canvas C,texture T,float MainScale,float UScale,float VScale,float UPan,float VPan,int MainTile,int UTile,int VTile,bool bSeperatedScaling,bool bSeperatedTiling,bool bRealMode,optional actor A,optional actor B)</dt>
<dd>Very extended DrawTile Function. Draws a Canvas Texture on the screen to simulate the effect of a 3D Object (3D Sprite, 3D Corona ..) by working together with SetVectPos. It's absolutely essential for such effects like SoftwareShaderCoronas or -Sprites. Texture T is the dynamicly placed, scaled, colored (...) texture to be drawn. MainScale is the relative scale that scales both U- and VScale, if bSeperatedScaling = False. UScale and VScale are the seperated scales of the texture T if bSeperatedScaling = True (U/VScale in Pixels). UPan and VPan are the panning values of the texture T. MainTile is the relative tile for U- and VTile, if bSeperatedTiling = False. For example MainTile = 2, U/VTile are both 2, thus a 2/2 tiled texture. U- and VTile are the seperated tiling values if bSeperatedTiling = True. bRealMode determines whether the "Canvas Sprite" is scaled down or not either simulating a corona or a sprite. Actors A and B are needed for distance calculations for bRealMode = true.</dd>
</dl>
<p><a name="New_Drawing_Functions_.284_Textures.29" id="New_Drawing_Functions_.284_Textures.29"></a></p>
<h3><span class="mw-headline">New Drawing Functions (4 Textures)</span></h3>
<dl>
<dt>static final function DrawCorona(canvas C,xtShaderCorona xS)</dt>
<dd>Draws a fully dynamic Corona controlled by any xtShaderCorona xS. These Coronas can be moved, attached, triggered, flickering, blinking, changing color dynamicly, being scaled by U/VScale, being tiled by U/V Tile, being panned by U/VPan and much more. Also Combiners (up to max. 3, thus 4 combined Textures: Corona + 3 Combiners) are supported distorting the Diffuse Corona Map and producing a combined Corona Texture for even more effects.</dd>
</dl>
<dl>
<dt>static final function DrawSprite(canvas C,xtShaderSprite xS)</dt>
<dd>Draws a fully dynamic Sprite controlled by any xtShaderSprite xS. These Sprites can be moved, attached, triggered, flickering, blinking (as already common) but also changing color dynamicly, being scaled by U/VScale, being tiled by U/V Tile, being panned by U/VPan and much more. Also Combiners (up to max. 3, thus 4 combined Textures: Sprite + 3 Combiners) are supported distorting the Diffuse Sprite Map and producing a combined Sprite for even more effects.</dd>
</dl>
<dl>
<dt>static final function DrawLensflares(canvas C,xtLensflare xL)</dt>
<dd>Draws fully dynamic 8-color-lens-based Lensflares controlled by any xtLensflare xL. They've the same properties like the new Coronas.</dd>
</dl>
<dl>
<dt>static final function RenderToTexture(canvas C,xtPortalManager xR,int Mode)</dt>
<dd>Complex Canvas Function. Introduces Partial RenderToTexture. Is able to build up a dynamic Portal on the Screen (Mode = 0), as Corona (Mode = 1) or as Sprite (Mode = 2). Working on a native version for this to make it fully texture-based rather then Canvas-based.</dd>
</dl>
<hr />
<p><a href="../../../../articles/l/e/g/Category%7ELegacy_Custom_Class_%28UT%29_64d2.html" title="Category:Legacy Custom Class (UT)">Category:Legacy Custom Class (UT)</a> \\</p>

<!-- 
NewPP limit report
Preprocessor node count: 12/1000000
Post-expand include size: 239/2097152 bytes
Template argument size: 139/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../../articles/c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Category</a>: <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_Custom_Class_%28UT%29_64d2.html" title="Category:Legacy Custom Class (UT)">Legacy Custom Class (UT)</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/u/n/r/Legacy%7EUnrealTournament_Extension_Pack_XtCanvasUtil_6d61.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/u/n/r/Legacy_talk%7EUnrealTournament_Extension_Pack_XtCanvasUtil_3fec.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:UnrealTournament_Extension_Pack/XtCanvasUtil">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 18:16, 19 January 2008 by Anonymous user(s) of Unreal Wiki. </li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
