<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:UnrealScript Language Reference/Expressions - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:UnrealScript Language Reference/Expressions</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"><span class="subpages">&lt; <a href="../../../../articles/u/n/r/Legacy%7EUnrealScript_Language_Reference_cee2.html" title="Legacy:UnrealScript Language Reference">Legacy:UnrealScript Language Reference</a></span></div>
	    	    	    <!-- start content -->
	    <table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#UnrealScript_Language_Reference"><span class="tocnumber">1</span> <span class="toctext">UnrealScript Language Reference</span></a></li>
<li class="toclevel-1"><a href="#Expressions"><span class="tocnumber">2</span> <span class="toctext">Expressions</span></a>
<ul>
<li class="toclevel-2"><a href="#Constants"><span class="tocnumber">2.1</span> <span class="toctext">Constants</span></a></li>
<li class="toclevel-2"><a href="#Expressions_2"><span class="tocnumber">2.2</span> <span class="toctext">Expressions</span></a></li>
<li class="toclevel-2"><a href="#Converting_Object_References_Among_Classes"><span class="tocnumber">2.3</span> <span class="toctext">Converting Object References Among Classes</span></a></li>
</ul>
</li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="UnrealScript_Language_Reference" id="UnrealScript_Language_Reference"></a></p>
<h2><span class="mw-headline">UnrealScript Language Reference</span></h2>
<p><i>This subpage is part of a document by Tim Sweeney. The Unreal Wiki has been granted permission to host it. Please don't make any edits to these pages other than basic formatting of the text. If you have more to say on a topic here, please start a new Wiki page on it, for example from <a href="../../../../articles/u/n/r/Legacy%7EUnrealScript_a9c5.html" title="Legacy:UnrealScript">UnrealScript</a> or <a href="../../../../articles/u/n/r/Legacy%7EUnreal_Engine_4409.html" title="Legacy:Unreal Engine">Unreal Engine</a>, and then add a "related topics" section to the very end of a page here.</i></p>
<blockquote class="legacyquote">
<p>Tim Sweeney<br />
Epic MegaGames, Inc.<br />
tim@epicgames.com<br />
<a href="http://www.epicgames.com" class="external free" title="http://www.epicgames.com" rel="nofollow">http://www.epicgames.com</a></p>
</blockquote>
<p><a name="Expressions" id="Expressions"></a></p>
<h2><span class="mw-headline">Expressions</span></h2>
<p><a name="Constants" id="Constants"></a></p>
<h3><span class="mw-headline">Constants</span></h3>
<p>In UnrealScript, you can specify constant values of nearly all data types:</p>
<ul>
<li>Integer and byte constants are specified with simple numbers, for example: 123</li>
<li>If you must specify an integer or byte constant in hexidecimal format, use i.e.: 0x123</li>
<li>Floating point constants are specified with decimal numbers like: 456.789</li>
<li>String constants must be enclosed in double quotes, for example: "MyString"</li>
<li>Name constants must be enclosed in single quotes, for example 'MyName'</li>
<li>Vector constants contain X, Y, and Z values like this: Vect(1.0,2.0,4.0)</li>
<li>Rotator constants contain Pitch, Yaw, and Roll values like this: Rot(0x8000,0x4000,0)</li>
<li>The "None" constant refers to "no object" (or equivalantly, "no actor").</li>
<li>The "Self" constant refers to "this object" (or equivalantly, "this actor"), i.e. the object whose script is executing.</li>
<li>General object constants are specified by the object type followed by the object name in single quotes, for example: texture ‘Default’</li>
<li>EnumCount gives you the number of elements in an enumeration, for example: EnumCount(ELightType)</li>
<li>ArrayCount gives you the number of elements in an array, for example: ArrayCount(Touching)</li>
</ul>
<p>You can use the "const" keyword to declare constants which you can later refer to by name.&#160; For example:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">const</span> LargeNumber=<span class="nu0">123456</span>;
<span class="kw5">const</span> PI=<span class="nu0">3.14159</span>;
<span class="kw5">const</span> MyName=<span class="st0">"Tim"</span>;
<span class="kw5">const</span> Northeast=<span class="kw4">Vect</span><span class="br0">(</span><span class="nu0">1.0</span>,<span class="nu0">1.0</span>,<span class="nu0">0.0</span><span class="br0">)</span>;
</pre></div>
<p>Constants can be defined within classes or within structs.</p>
<p>To access a constant which was declared in another class, use the "classname.constname" syntax, for example: Pawn.LargeNumber</p>
<p><a name="Expressions_2" id="Expressions_2"></a></p>
<h3><span class="mw-headline">Expressions</span></h3>
<p>To assign a value to a variable, use "=" like this:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">function</span> Test<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
       <span class="kw5">local</span> <span class="kw4">int</span> i;
       <span class="kw5">local</span> <span class="kw4">string</span><span class="br0">[</span><span class="nu0">80</span><span class="br0">]</span> s;
       <span class="kw5">local</span> <span class="kw4">vector</span> v, q;
 
       i = <span class="nu0">10</span>; <span class="co1">// Assign a value to integer variable i.</span>
       s = <span class="st0">"Hello!"</span>; <span class="co1">// Assign a value to string variable s.</span>
       v = q; <span class="co1">// Copy value of vector q to v.</span>
<span class="br0">}</span>
</pre></div>
<p>In UnrealScript, whenever a function or other expression requires a certain type of data (for example, an "float"), and you specify a different type of data (for example, an "int), the compiler will try to convert the value you give to the proper type. Conversions among all the numerical data types (byte, int, and float) happen automatically, without any work on your part.</p>
<p>UnrealScript is also able to many other built-in data types to other types, if you explicitly convert them in code. The syntax for this is:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">function</span> Test<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
       <span class="kw5">local</span> <span class="kw4">int</span> i;
       <span class="kw5">local</span> <span class="kw4">string</span><span class="br0">[</span><span class="nu0">80</span><span class="br0">]</span> s;
       <span class="kw5">local</span> <span class="kw4">vector</span> v, q;
       <span class="kw5">local</span> <span class="kw4">rotator</span> r;
 
       s = <span class="kw4">string</span><span class="br0">(</span>i<span class="br0">)</span>; <span class="co1">// Convert integer i to a string, and assign it to s.</span>
       s = <span class="kw4">string</span><span class="br0">(</span>v<span class="br0">)</span>; <span class="co1">// Convert vector v to a string, and assign it to s.</span>
       v = q + <span class="kw4">vector</span><span class="br0">(</span>r<span class="br0">)</span>; <span class="co1">// Convert rotation r to a vector, and add q.</span>
<span class="br0">}</span>
</pre></div>
<p>Here is the complete set of non-automatic conversions you can use in UnrealScript:</p>
<dl>
<dt>String to Byte, Int, Float&#160;</dt>
<dd>Tries to convert a string like "123" to a value like 123. If the string doesn’t represent a value, the result is 0.</dd>
<dt>Byte, Int, Float, Vector, Rotation to String&#160;</dt>
<dd>Converts the number to its textual representation.</dd>
<dt>String to Vector, Rotation&#160;</dt>
<dd>Tries to parse the vector or rotation’s textual representation.</dd>
<dt>String to Bool&#160;</dt>
<dd>Converts the case-insensitive words "True" or "False" to True and False; converts any non-zero value to True; everything else is False.</dd>
<dt>Bool to String&#160;</dt>
<dd>Result is either "True" or "False".</dd>
<dt>Byte, Int, Float, Vector, Rotation to Bool&#160;</dt>
<dd>Converts nonzero values to True; zero values to False.</dd>
<dt>Bool to Byte, Int, Float&#160;</dt>
<dd>Converts True to 1; False to 0.</dd>
<dt>Name to String&#160;</dt>
<dd>Converts the name to the text equivalant.</dd>
<dt>Rotator to Vector&#160;</dt>
<dd>Returns a vector facing "forward" according to the rotation.</dd>
<dt>Vector to Rotator&#160;</dt>
<dd>Returns a rotator pitching and yawing in the direction of the vector; roll is zero.</dd>
<dt>Object (or Actor) to Int&#160;</dt>
<dd>Returns an integer that is guaranteed unique for that object.</dd>
<dt>Object (or Actor) to Bool&#160;</dt>
<dd>Returns False if the object is None; True otherwise.</dd>
<dt>Object (or Actor) to String&#160;</dt>
<dd>Returns a textual representation of the object.</dd>
</dl>
<p><a name="Converting_Object_References_Among_Classes" id="Converting_Object_References_Among_Classes"></a></p>
<h3><span class="mw-headline">Converting Object References Among Classes</span></h3>
<p>Just like the conversion functions above, which convert among simple datatypes, in UnrealScript you can convert actor and object references among various types. For example, all actors have a variable named "Target", which is a reference to another actor. Say you are writing a script where you need to check and see if your Target belongs to the "Pawn" actor class, and you need to do something special with your target that only makes sense when it’s a pawn – for example, you need to call one of the Pawn functions. The actor cast operators let you do this. Here’s an example:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">var</span> <a href="/Actor"><span class="kw10">actor</span></a> Target;
<span class="co1">//...</span>
 
<span class="kw5">function</span> TestActorConversions<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
       <span class="kw5">local</span> <a href="/Pawn"><span class="kw10">Pawn</span></a> P;
 
       <span class="co1">// See if my target is a Pawn.</span>
       P = <a href="/Pawn"><span class="kw10">Pawn</span></a><span class="br0">(</span>Target<span class="br0">)</span>;
       <span class="kw1">if</span><span class="br0">(</span> P != <span class="kw9">None</span> <span class="br0">)</span>
       <span class="br0">{</span>
               <span class="co1">// Target is a pawn, so set its Enemy to Self.</span>
               P.<span class="me1">Enemy</span> = <span class="kw8">Self</span>;
       <span class="br0">}</span>
       <span class="kw1">else</span>
       <span class="br0">{</span>
              <span class="co1">// Target is not a pawn.</span>
       <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
<p>To perform an actor conversion, type the class name followed by the actor expression you wish to convert, in parenthesis. Such a conversion will either succeed or fail based on whether the conversion is sensible. In the above example, if your Target is referencing a Trigger object rather than a pawn, the expression Pawn(Target) will return "None", since a Trigger can’t be converted to a Pawn. However, if your Target is referencing a Brute object, the conversion will successfully return the Brute, because Brute is a subclass of Pawn.</p>
<p>Thus, actor conversions have two purposes: First, you can use them to see if a certain actor reference belongs to a certain class. Second, you can use them to convert an actor reference from one class to a more specific class. Note that these conversions don’t affect the actor you’re converting at all – they just enable UnrealScript to treat the actor reference as if it were a more specific type.</p>
<p>Another example of conversions lies in the Inventory script. Each Inventory actor is owned by a Pawn, even though its Owner variable can refer to any Actor. So a common theme in the Inventory code is to cast Owner to a Pawn, for example:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="co1">// Called by engine when destroyed.</span>
<span class="kw5">function</span> Destroyed<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
       <span class="co1">// Remove from owner's inventory.</span>
       <span class="kw1">if</span><span class="br0">(</span> <a href="/Pawn"><span class="kw10">Pawn</span></a><span class="br0">(</span>Owner<span class="br0">)</span>!=<span class="kw9">None</span> <span class="br0">)</span>
               <a href="/Pawn"><span class="kw10">Pawn</span></a><span class="br0">(</span>Owner<span class="br0">)</span>.<span class="me1">DeleteInventory</span><span class="br0">(</span> <span class="kw8">Self</span> <span class="br0">)</span>;
<span class="br0">}</span>;
</pre></div>
<table>
<tr>
<td><i>see also <a href="../../../../articles/t/y/p/Legacy%7ETypecasting_7c5f.html" title="Legacy:Typecasting">Typecasting</a> on the Wiki</i></td>
</tr>
</table>
<hr />
<p>Prev Page: <a href="../../../../articles/u/n/r/Legacy%7EUnrealScript_Language_Reference_Variables_67bc.html" title="Legacy:UnrealScript Language Reference/Variables">Legacy:UnrealScript Language Reference/Variables</a> – <b>Section 3 of 9</b> – Next Page: <a href="../../../../articles/u/n/r/Legacy%7EUnrealScript_Language_Reference_Functions_d7f7.html" title="Legacy:UnrealScript Language Reference/Functions">Legacy:UnrealScript Language Reference/Functions</a></p>

<!-- 
NewPP limit report
Preprocessor node count: 34/1000000
Post-expand include size: 215/2097152 bytes
Template argument size: 96/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/u/n/r/Legacy%7EUnrealScript_Language_Reference_Expressions_23ca.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/u/n/r/Legacy_talk%7EUnrealScript_Language_Reference_Expressions_72fb.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:UnrealScript_Language_Reference/Expressions">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 21:40, 20 June 2006 by Unreal Wiki user <a href="../../../../articles/w/o/r/User%7EWormbo_7d13.html" title="User:Wormbo">Wormbo</a>. Based on work by Anonymous user(s) of Unreal Wiki.</li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
