<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:Exec Directive (UT) - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:Exec Directive (UT)</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <p>For UT2003 Imports see&#160;: <a href="../../../../articles/e/x/e/Legacy%7EExec_Directive_577d.html" title="Legacy:Exec Directive">Exec Directive</a></p>
<p>"#exec" directives execute console commands at compile time. Every "#exec" directive can be executed in UnrealEd's <a href="../../../../articles/c/o/n/Legacy%7EConsole_Bar_fd55.html" title="Legacy:Console Bar">console bar</a>. (without the "#exec") Currently in the newer engine builds, they are the only method of importing vertex meshes (think .3ds). They are also useful for keeping content closely coupled with the code that uses it (textures/sounds), or for referenced seperate content packages for organizational purposes.</p>
<p>Look for lines in Editor.log that start with "Cmd:" to find out about more possibly interesing exec directives.</p>
<p>See <a href="../../../../articles/u/n/r/Legacy%7EUnrealEd_Console_a1ec.html" title="Legacy:UnrealEd Console">UnrealEd Console</a> for more information on this fun stuff!</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Textures"><span class="tocnumber">1</span> <span class="toctext">Textures</span></a>
<ul>
<li class="toclevel-2"><a href="#Import"><span class="tocnumber">1.1</span> <span class="toctext">Import</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Sounds"><span class="tocnumber">2</span> <span class="toctext">Sounds</span></a>
<ul>
<li class="toclevel-2"><a href="#Import_2"><span class="tocnumber">2.1</span> <span class="toctext">Import</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Packages"><span class="tocnumber">3</span> <span class="toctext">Packages</span></a>
<ul>
<li class="toclevel-2"><a href="#Loading_Other_Packages"><span class="tocnumber">3.1</span> <span class="toctext">Loading Other Packages</span></a></li>
<li class="toclevel-2"><a href="#Position.2C_Rotation_and_Scale"><span class="tocnumber">3.2</span> <span class="toctext">Position, Rotation and Scale</span></a></li>
<li class="toclevel-2"><a href="#Assign_Animations_and_Textures"><span class="tocnumber">3.3</span> <span class="toctext">Assign Animations and Textures</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Animations"><span class="tocnumber">4</span> <span class="toctext">Animations</span></a>
<ul>
<li class="toclevel-2"><a href="#Import_3"><span class="tocnumber">4.1</span> <span class="toctext">Import</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Fonts"><span class="tocnumber">5</span> <span class="toctext">Fonts</span></a>
<ul>
<li class="toclevel-2"><a href="#Import_4"><span class="tocnumber">5.1</span> <span class="toctext">Import</span></a></li>
</ul>
</li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Textures" id="Textures"></a></p>
<h2><span class="mw-headline">Textures</span></h2>
<p><a name="Import" id="Import"></a></p>
<h3><span class="mw-headline">Import</span></h3>
<p>Textures may also be imported upon compilation of a class or series of classes into a .u package. This is done using the #exec preprocessing directive.</p>
<p>Syntax:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw2">#exec</span> <a href="/Texture"><span class="kw10">TEXTURE</span></a> <span class="kw6">IMPORT</span> <span class="kw4">NAME</span>=NameForTextureToImportAs FILE=PATH\TO\SomeTexture.<span class="me1">pcx</span> GROUP=SomeGroup MIPS=OFF FLAGS=<span class="nu0">2</span> PALETTE=SomeTexPalette LODSET=<span class="nu0">2</span>
</pre></div>
<dl>
<dt>NAME&#160;</dt>
<dd>Name the texture is imported as.</dd>
<dt>FILE&#160;</dt>
<dd>Path to the texture being imported. Paths are local to the root of the package directory.</dd>
<dt>GROUP&#160;</dt>
<dd>(optional) Name of the group the texture is classified under (used in, for example, the UEd Texture browser.)</dd>
<dt>MIPS&#160;</dt>
<dd>(optional) OFF or ON. Generate <a href="../../../../articles/m/i/p/Legacy%7EMipMap_3fbc.html" title="Legacy:MipMap">MipMaps</a>.</dd>
<dt>FLAGS&#160;</dt>
<dd>(optional) Numerical value. Assigns the texture rendering style. Valid styles are:</dd>
</dl>
<dl>
<dt>1</dt>
<dd>
<ul>
<li>Normal</li>
<li>2: 2-sided (Use this if importing for use as a sprite)</li>
<li>3: Translucent 2-sided</li>
<li>4: Masked 2-sided</li>
<li>5: Modulated 2-sided</li>
</ul>
</dd>
</dl>
<dl>
<dt>PALETTE&#160;</dt>
<dd>(optional) Color palette to use if not default.</dd>
<dt>LODSET&#160;</dt>
<dd>(optional) Numerical value. Level of detail. Homologous to the LODSet Texture property in UEd. Affects texture clarity as dictated by the user's settings.</dd>
</dl>
<dl>
<dt>0</dt>
<dd>
<ul>
<li>no detail settings applied.</li>
<li>1: LODSET_World – affected by user's World Texture Detail setting.</li>
<li>2: LODSET_Skin</li>
</ul>
</dd>
</dl>
<p>Context:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">class</span> SomeClass <span class="kw5">extends</span> SomeActor;
 
<span class="kw2">#exec</span> <a href="/Texture"><span class="kw10">TEXTURE</span></a> <span class="kw6">IMPORT</span> <span class="kw4">NAME</span>=SomeTex1 FILE=Textures\SomeTexture.<span class="me1">pcx</span> GROUP=Skins FLAGS=<span class="nu0">2</span>
<span class="kw2">#exec</span> <a href="/Texture"><span class="kw10">TEXTURE</span></a> <span class="kw6">IMPORT</span> <span class="kw4">NAME</span>=SomeTex2 FILE=Textures\AnotherTexture.<span class="me1">pcx</span> GROUP=Skins FLAGS=<span class="nu0">2</span>
<span class="kw2">#exec</span> <a href="/Texture"><span class="kw10">TEXTURE</span></a> <span class="kw6">IMPORT</span> <span class="kw4">NAME</span>=SomeTex3 FILE=Textures\StillAnotherTexture.<span class="me1">pcx</span> GROUP=Skins FLAGS=<span class="nu0">2</span>
</pre></div>
<p>Imported textures are addressed as PackageName.Texturename, and available via UnrealEd after PackageName is loaded in the Actor browser.</p>
<p>See also <a href="../../../../articles/t/e/x/Legacy%7ETexture_Import_And_Export_cd4f.html" title="Legacy:Texture Import And Export">Texture Import And Export</a></p>
<p><a name="Sounds" id="Sounds"></a></p>
<h2><span class="mw-headline">Sounds</span></h2>
<p><a name="Import_2" id="Import_2"></a></p>
<h3><span class="mw-headline">Import</span></h3>
<p>Sounds can be imported in a similar way to textures. Imported sounds must be no higher quality than 22,050 Hz, 16 bit mono, and must be uncompressed PCM WAV.</p>
<p>Syntax:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw2">#exec</span> AUDIO <span class="kw6">IMPORT</span> <span class="kw4">NAME</span>=NameForSoundToImportAs FILE=PATH\TO\SomeSound.<span class="me1">wav</span> GROUP=SomeGroup
</pre></div>
<dl>
<dt>NAME&#160;</dt>
<dd>Name the sound is imported as.</dd>
<dt>FILE&#160;</dt>
<dd>Path to the sound being imported. Paths are local to the root of the package directory.</dd>
<dt>GROUP&#160;</dt>
<dd>(optional) Name of the group the sound is classified under (used in, for example, the UEd Sound browser.)</dd>
</dl>
<p>Imported sounds are addressed as PackageName.GroupName.SoundName, and are available via UnrealEd after PackageName is loaded in the Actor browser.</p>
<p>See also <a href="../../../../articles/i/m/p/Legacy%7EImporting_Sounds_df5e.html" title="Legacy:Importing Sounds">Importing_Sounds</a></p>
<p><a name="Packages" id="Packages"></a></p>
<h2><span class="mw-headline">Packages</span></h2>
<p><a name="Loading_Other_Packages" id="Loading_Other_Packages"></a></p>
<h3><span class="mw-headline">Loading Other Packages</span></h3>
<p>You can use the OBJ LOAD parameters to load a specific package at compile time to allow specific objects in that package to be referenced if they're not already loaded in the compilation sequence (via prior inclusion or EditPackages listing).</p>
<p>For example, say you have a bunch of textures in a seperate .utx so that you don't necessarily have to re-compile a .u package everytime you want to update/change/add/remove textures; to insure a class accessing the .utx package compiles, you could do something like:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw2">#exec</span> OBJ LOAD FILE=<span class="st0">"..<span class="es0">\T</span>extures<span class="es0">\M</span>yTextures.utx"</span>
 
<span class="kw5">var</span> <a href="/Texture"><span class="kw10">Texture</span></a> SomeTexture;
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
    SomeTexture=<a href="/Texture"><span class="kw10">Texture</span></a><span class="st0">'MyTextures.SomeCoolTexture_A'</span>
<span class="br0">}</span>
</pre></div>
<p>You can use OBJ LOAD to load any sort of Unreal package, be it for textures, sounds, animations, or even other script packages. Useful sometimes for bypassing annoying dependency issues as well (although you should probably just design your code not to have these in the first place).</p>
<p>The PACKAGE flag specifies the package which the referenced FILE is compiled into. Setting it equal to the package in which the calling class resides will compile the loaded package <b>into</b> the compiled package. For example, with a texture package called MyTextures.utx and a script MyScript.uc in package MyPackage:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw2">#exec</span> OBJ LOAD FILE=<span class="st0">"..<span class="es0">\T</span>extures<span class="es0">\M</span>yTextures.utx"</span> PACKAGE=MyPackage
 
<span class="kw5">var</span> <a href="/Texture"><span class="kw10">Texture</span></a> SomeTexture;
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
    SomeTexture=<a href="/Texture"><span class="kw10">Texture</span></a><span class="st0">'MyPackage.SomeCoolTexture_A'</span>
<span class="br0">}</span>
</pre></div>
<p>SomeCoolTexture can then be referenced through MyPackage instead of MyTextures, eliminating the need for a separate texture package when MyPackage is distributed.</p>
<p>If you want to EXEC OBJ LOAD files, make certain they have different names (i.e., it doesn't like having MyModWeapons.utx and MyModWeapons.uax – it's a circular reference and the compiler will hang as it tries to load a package into itself). Simple work-around is to just name them like MyModWeaponsSkins.utx and MyModWeaponsSounds.uax.</p>
<p><a name="Position.2C_Rotation_and_Scale" id="Position.2C_Rotation_and_Scale"></a></p>
<h3><span class="mw-headline">Position, Rotation and Scale</span></h3>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw2">#exec</span> MESH  ORIGIN MESH=Weapon_1st X=<span class="nu0">0</span> Y=<span class="nu0">0</span> Z=<span class="nu0">0</span> YAW=<span class="nu0">0</span> PITCH=<span class="nu0">0</span> ROLL=<span class="nu0">0</span>
<span class="kw2">#exec</span> MESHMAP   <span class="kw4">SCALE</span> MESHMAP=Weapon_1st X=<span class="nu0">1.0</span> Y=<span class="nu0">1.0</span> Z=<span class="nu0">1.0</span>
</pre></div>
<p>In this case the rotation unit is a byte: a full circle is 255.</p>
<p><a name="Assign_Animations_and_Textures" id="Assign_Animations_and_Textures"></a></p>
<h3><span class="mw-headline">Assign Animations and Textures</span></h3>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw2">#exec</span> MESH  DEFAULTANIM MESH=Weapon_1st ANIM=WeaponAnim
</pre></div>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw2">#exec</span> MESHMAP SETTEXTURE MESHMAP=Weapon_1st NUM=<span class="nu0">0</span> <a href="/Texture"><span class="kw10">TEXTURE</span></a>=WeaponTex
</pre></div>
<dl>
<dt>NUM&#160;</dt>
<dd>Material number the texture is assigned to on the mesh.</dd>
</dl>
<p><a name="Animations" id="Animations"></a></p>
<h2><span class="mw-headline">Animations</span></h2>
<p><a name="Import_3" id="Import_3"></a></p>
<h3><span class="mw-headline">Import</span></h3>
<p>You can import .PSA files obtained from the <a href="../../../../articles/a/c/t/Legacy%7EActorX_5f30.html" title="Legacy:ActorX">ActorX</a> utility, that are placed in the /models folder of your package directory.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw2">#exec</span> ANIM  <span class="kw6">IMPORT</span> ANIM=WeaponAnim ANIMFILE=models\WeaponAnim.<span class="me1">PSA</span> COMPRESS=<span class="nu0">1</span> MAXKEYS=<span class="nu0">999999</span> IMPORTSEQS=<span class="nu0">1</span>
</pre></div>
<dl>
<dt>ANIM&#160;</dt>
<dd>Name that the animations are imported as.</dd>
<dt>ANIMFILE&#160;</dt>
<dd>Path to the animations being imported. Paths are local to the root of the package directory.</dd>
<dt>GROUP&#160;</dt>
<dd>(optional) Name of the group that the mesh is classified under.</dd>
<dt>COMPRESS&#160;</dt>
<dd>Compresses the animations. 1 is normal, uncompressed, lower numbers are more compressed.</dd>
<dt>MAXKEYS&#160;</dt>
<dd><i>not sure</i></dd>
<dt>IMPORTSEQS&#160;</dt>
<dd><i>not sure</i></dd>
</dl>
<p><a name="Fonts" id="Fonts"></a></p>
<h2><span class="mw-headline">Fonts</span></h2>
<p><a name="Import_4" id="Import_4"></a></p>
<h3><span class="mw-headline">Import</span></h3>
<p>Fonts can be created using the TrueTypeFontFactory, you can import any truetype font on the machine doing the compilation.</p>
<p>Basic Syntax:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw2">#exec</span> <span class="kw6">NEW</span> TRUETYPEFONTFACTORY <span class="kw4">NAME</span>=SomeName FONTNAME=<span class="st0">"SomeFont"</span> HEIGHT=SomeSize
</pre></div>
<dl>
<dt>NAME&#160;</dt>
<dd>Name the font is imported as.</dd>
<dt>FONTNAME&#160;</dt>
<dd>Name of the font to be imported, such as "Arial" or "Times New Roman".</dd>
<dt>HEIGHT</dt>
<dd>Height of the characters in the font - think 'font size'.</dd>
</dl>
<p>Many other parameters for this exist, see <a href="../../../../articles/t/r/u/Legacy%7ETrueTypeFontFactory_d397.html" title="Legacy:TrueTypeFontFactory">TrueTypeFontFactory</a>.</p>
<p>Imported fonts are addressed as PackageName.FontName, and will show up in UnrealEd but seem to show every single currently loaded texture (akin to Engine.*Font groups).</p>
<p>See also <a href="../../../../articles/t/r/u/Legacy%7ETrueTypeFontFactory_d397.html" title="Legacy:TrueTypeFontFactory">TrueTypeFontFactory</a></p>
<hr />
<p><b>Draconx:</b> Perhaps readability of this page could be improved by breaking it into subpages for each type of import? This whole page really looks like a mess. I'll take a look at doing just that tomorrow I suppose, as a comprehensive reference to the #exec imports is HIGHLY useful.</p>
<hr />
<p><a href="../../../../articles/l/e/g/Category%7ELegacy_Class_%28UT%29_523c.html" title="Category:Legacy Class (UT)">Category:Legacy Class (UT)</a><br />
<a href="../../../../articles/l/e/g/Category%7ELegacy_To_Do_47ce.html" title="Category:Legacy To Do">Category:Legacy To Do</a> – What is UT2003 and which is UT? Remove UT2003 stuff from this page</p>

<!-- 
NewPP limit report
Preprocessor node count: 48/1000000
Post-expand include size: 38/2097152 bytes
Template argument size: 0/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../../articles/c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Categories</a>: <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_Class_%28UT%29_523c.html" title="Category:Legacy Class (UT)">Legacy Class (UT)</a></span> | <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_To_Do_47ce.html" title="Category:Legacy To Do">Legacy To Do</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/e/x/e/Legacy%7EExec_Directive_%28UT%29_7916.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/e/x/e/Legacy_talk%7EExec_Directive_%28UT%29_7309.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:Exec_Directive_%28UT%29">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 21:00, 7 December 2004 by Anonymous user(s) of Unreal Wiki. </li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
