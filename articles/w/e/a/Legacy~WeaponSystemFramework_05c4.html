<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:WeaponSystemFramework - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:WeaponSystemFramework</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <p><a name="The_Vehicle_Weapon_System_Framework" id="The_Vehicle_Weapon_System_Framework"></a></p>
<h2><span class="mw-headline">The Vehicle Weapon System Framework</span></h2>
<p>I've written up this class to make implementation of weapons for vehicles both easily and quickly. A configurable zoom option and automated projectile firing/timing is already implemented and toggleable with use of the defaultproperties section.</p>
<p>A note about the zoom, in order to ensure the behavior intended, both the zoom and await variables needs to be set to true. It should still *work* but i don't suggest it.</p>
<p><a name="Key_Concepts" id="Key_Concepts"></a></p>
<h3><span class="mw-headline">Key Concepts</span></h3>
<p>The server will exclusively call the TimerUpdateWithoutDriver and TimerUpdateWithDriver. The First every tick ( Be careful ), and the other every tick while a player is in the vehicle.</p>
<p>All of the Server* functions will be executed exclusively on the server.</p>
<p>All of the Client* functions will be executed exclusively on network-clients.</p>
<p>All of the base functions of this same family ( I.E. ServerPriFireInactive, ClientPriFireInactive, *PriFireInactive* ) are executed on the local machine of the person in the turret.</p>
<p>All client effects/rendering should be done in the base functions (PriFireInactive). This is the first function called, and is called locally on the client before any replication takes place, this will both be the fastest/most frequent to execute code.</p>
<p>Client* functions may not actually have a practical use but if you come up with something that should really be done in there let me know.</p>
<p>To make your primary fire spawn a projectile.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
bPriFireSpawnProject=<span class="kw9">true</span>
bRepeatedPriFire=<span class="kw9">true</span> <span class="co1">//optional</span>
PrimaryProjectileClass=MyPackage.<span class="me1">MyClass</span>
FireInterval=<span class="nu0">1.0</span>
<span class="br0">}</span>
</pre></div>
<p>To make your alternate fire zoom.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
  bDoAltZoom=<span class="kw9">true</span>
  bShouldAwaitAltRelease=<span class="kw9">true</span>
  ZoomMinFov=<span class="nu0">25.000</span>
  ZoomMaxFov=<span class="nu0">120.0</span>
  ZoomIncrement=<span class="nu0">0.5</span>
<span class="br0">}</span>
</pre></div>
<p>Note that setting zoomIncrement to a negative value makes a zoom out. A positive ZoomIncrement zooms in. (FOV-ZoomIncrement)</p>
<p>Here are all of the new default properties, with what i have thought to be fairly intuitive names.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
     TimerUpdateFrequency=<span class="nu0">0.01</span>;
     bDoPriZoom=<span class="kw9">false</span>
     bDoAltZoom=<span class="kw9">false</span>
     bPriFireSpawnProjectile=<span class="kw9">false</span>
     bAltFireSpawnProjectile=<span class="kw9">false</span>
     bShouldAwaitPriRelease=<span class="kw9">false</span>
     bShouldAwaitAltRelease=<span class="kw9">false</span>
     bRepeatedPriFire=<span class="kw9">false</span>
     bRepeatedAltFire=<span class="kw9">false</span>
     ZoomMinFov=<span class="nu0">25.000</span>
     ZoomMaxFov=<span class="nu0">120.0</span>
     ZoomIncrement=<span class="nu0">0.5</span>
     FireInterval=<span class="nu0">1.0</span>
     AltFireInterval=<span class="nu0">0.0</span>
     PrimaryProjectileClass=<span class="kw9">none</span>
     SecondaryProjectileClass=<span class="kw9">none</span>
<span class="br0">}</span>
</pre></div>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">class</span> MTPBaseStationaryWeapon <span class="kw5">extends</span> ONSWeapon;
 
<span class="co1">// Real-Time Key Press Variables</span>
<span class="kw5">var</span> <span class="kw4">bool</span> bIsAltFiring, bWasAltFiring;
<span class="kw5">var</span> <span class="kw4">bool</span> bIsPriFiring, bWasPriFiring;
<span class="kw5">var</span> <span class="kw4">bool</span> bAwaitingAltRelease, bAwaitingPriRelease;
 
<span class="co1">// Realtime Zoom Variables</span>
<span class="kw5">var</span> <span class="kw4">float</span> ZoomLevel;
<span class="kw5">var</span> <span class="kw4">bool</span> bZooming;
 
<span class="co1">// Real-Time Weapon Variables</span>
<span class="kw5">var</span> <span class="kw4">float</span> LastPriFireTime, LastAltFireTime;
 
<span class="co1">// Configuration Weapon Variables</span>
<span class="kw5">var</span> <span class="kw4">float</span> TimerUpdateFrequency;
<span class="kw5">var</span> class&lt;Projectile&gt; PrimaryProjectileClass;
<span class="kw5">var</span> class&lt;Projectile&gt; SecondaryProjectileClass;
<span class="kw5">var</span> <span class="kw4">bool</span> bPriFireSpawnProjectile, bAltFireSpawnProjectile;
<span class="kw5">var</span> <span class="kw4">bool</span> bRepeatedPriFire, bRepeatedAltFire;
 
<span class="co1">// Configuration Key Press Variables</span>
<span class="kw5">var</span> <span class="kw4">bool</span> bShouldAwaitAltRelease, bShouldAwaitPriRelease;
 
<span class="co1">// Config/Default Oriented Zoom Variables</span>
<span class="kw5">var</span> <span class="kw4">float</span> ZoomMinFov, ZoomMaxFov, ZoomIncrement;
<span class="kw5">var</span> <span class="kw4">bool</span> bDoPriZoom, bDoAltZoom;
 
<span class="kw1">replication</span>
<span class="br0">{</span>
    <span class="kw6">reliable</span> <span class="kw1">if</span><span class="br0">(</span> <span class="kw8">Role</span> == <span class="kw9">Role_Authority</span> <span class="br0">)</span>
        LastPriFireTime, LastAltFireTime, bAwaitingAltRelease, bAwaitingPriRelease;
    <span class="kw6">reliable</span> <span class="kw1">if</span><span class="br0">(</span> <span class="kw8">Role</span> &lt; <span class="kw9">Role_Authority</span> <span class="br0">)</span>
        ServerPriFirePressed, ServerPriFireReleased, ServerPriFireInactive, ServerPriFireActive,
        ServerAltFirePressed, ServerAltFireReleased, ServerAltFireInactive, ServerAltFireActive,
        ServerTimerUpdateWithDriver, ServerTimerUpdateWithoutDriver,
        ServerCantPriFire, ServerCantAltFire, ServerAwaitRelease;
    <span class="kw6">reliable</span> <span class="kw1">if</span><span class="br0">(</span> <span class="kw8">Role</span> == <span class="kw9">Role_Authority</span> <span class="br0">)</span>
        ClientPriFirePressed, ClientPriFireReleased, ClientPriFireInactive, ClientPriFireActive,
        ClientAltFirePressed, ClientAltFireReleased, ClientAltFireInactive, ClientAltFireActive,
        ClientTimerUpdateWithDriver, ClientTimerUpdateWithoutDriver,
        ClientCantPriFire, ClientCantAltFire;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> CalcWeaponFire<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw6">Super</span>.<span class="me1">CalcWeaponFire</span><span class="br0">(</span><span class="br0">)</span>
 
    DualFireOffset*=<span class="nu0">-1</span>;
<span class="br0">}</span>
 
<span class="kw5">event</span> <span class="kw4">bool</span> AttemptFire<span class="br0">(</span>Controller C, <span class="kw4">bool</span> bAltFire<span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw5">local</span> <span class="kw4">bool</span> bCanFire;
 
        <span class="kw1">if</span><span class="br0">(</span><span class="kw8">Role</span> != <span class="kw9">ROLE_Authority</span> || bForceCenterAim<span class="br0">)</span>
                <span class="kw1">return</span> <span class="kw9">False</span>;
 
        <span class="kw1">if</span><span class="br0">(</span> !bAltFire &amp;&amp; CanPriFire<span class="br0">(</span><span class="br0">)</span> <span class="br0">)</span>
            bCanFire = <span class="kw9">True</span>;
 
        <span class="kw1">if</span><span class="br0">(</span> bAltFire &amp;&amp; CanAltFire<span class="br0">(</span><span class="br0">)</span> <span class="br0">)</span>
            bCanFire = <span class="kw9">true</span>;
 
        <span class="kw1">if</span><span class="br0">(</span> bCanFire <span class="br0">)</span>
        <span class="br0">{</span>
                <span class="kw1">if</span> <span class="br0">(</span>bCorrectAim<span class="br0">)</span>
                        WeaponFireRotation = AdjustAim<span class="br0">(</span>bAltFire<span class="br0">)</span>;
                <span class="kw1">if</span> <span class="br0">(</span>Spread &gt; <span class="nu0">0</span><span class="br0">)</span>
                        WeaponFireRotation = <span class="kw4">rotator</span><span class="br0">(</span><span class="kw4">vector</span><span class="br0">(</span>WeaponFireRotation<span class="br0">)</span> + VRand<span class="br0">(</span><span class="br0">)</span>*<span class="kw7">FRand</span><span class="br0">(</span><span class="br0">)</span>*Spread<span class="br0">)</span>;
 
                Instigator.<span class="me1">MakeNoise</span><span class="br0">(</span><span class="nu0">1.0</span><span class="br0">)</span>;
 
                <span class="kw1">if</span> <span class="br0">(</span>bAltFire<span class="br0">)</span>
                <span class="br0">{</span>
                        AltFire<span class="br0">(</span>C<span class="br0">)</span>;
                <span class="br0">}</span>
                <span class="kw1">else</span>
                <span class="br0">{</span>
                    Fire<span class="br0">(</span>C<span class="br0">)</span>;
                <span class="br0">}</span>
 
                AimLockReleaseTime = <span class="kw8">Level</span>.<span class="me1">TimeSeconds</span> + FireCountdown * FireIntervalAimLock;
        <span class="br0">}</span>
 
        <span class="kw1">return</span> bCanFire;
<span class="br0">}</span>
 
<span class="kw5">function</span> class&lt;Projectile&gt; GetProjectileClass<span class="br0">(</span><span class="kw4">bool</span> bAltFire<span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> bAltFire <span class="br0">)</span>
        <span class="kw1">return</span> GetSecondaryProjectileClass<span class="br0">(</span><span class="br0">)</span>;
    <span class="kw1">else</span>
        <span class="kw1">return</span> GetPrimaryProjectileClass<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw5">function</span> class&lt;Projectile&gt; GetPrimaryProjectileClass<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">return</span> PrimaryProjectileClass;
<span class="br0">}</span>
 
<span class="kw5">function</span> class&lt;Projectile&gt; GetSecondaryProjectileClass<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">return</span> SecondaryProjectileClass;
<span class="br0">}</span>
 
<span class="kw5">function</span> SpawnProjectileNone<span class="br0">(</span><span class="kw4">bool</span> bAltFire<span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> bAltFire <span class="br0">)</span>
        SpawnProjectileNoneAltFire<span class="br0">(</span><span class="br0">)</span>;
    <span class="kw1">else</span>
        SpawnProjectileNonePriFire<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw5">function</span> SpawnProjectileNoneAltFire<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw5">function</span> SpawnProjectileNonePriFire<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw5">function</span> Projectile SpawnProjectileInit<span class="br0">(</span>Projectile P, <span class="kw4">bool</span> bAltFire<span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">return</span> P;
<span class="br0">}</span>
 
<span class="co1">// You'll Probably Never Want To Super.Call() this when overriding</span>
<span class="kw5">function</span> PlayFiringAnimations<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span> <span class="br0">(</span>!<span class="kw8">Level</span>.<span class="me1">bDropDetail</span> &amp;&amp; <span class="kw8">Level</span>.<span class="me1">DetailMode</span> != DM_Low<span class="br0">)</span>
    <span class="br0">{</span>
        <span class="kw1">if</span> <span class="br0">(</span>DualFireOffset &lt; <span class="nu0">0</span><span class="br0">)</span>
                PlayAnim<span class="br0">(</span><span class="st0">'RightFire'</span><span class="br0">)</span>;
        <span class="kw1">else</span>
                PlayAnim<span class="br0">(</span><span class="st0">'LeftFire'</span><span class="br0">)</span>;
    <span class="br0">}</span>
<span class="br0">}</span>
 
<span class="kw5">function</span> Projectile SpawnProjectile<span class="br0">(</span>class&lt;Projectile&gt; ProjClass, <span class="kw4">bool</span> bAltFire<span class="br0">)</span>
<span class="br0">{</span>
        <span class="kw5">local</span> Projectile P;
        <span class="kw5">local</span> class&lt;Projectile&gt; ProClass;
 
        PlayFiringAnimations<span class="br0">(</span><span class="br0">)</span>;
 
    ProClass = GetProjectileClass<span class="br0">(</span>bAltFire<span class="br0">)</span>;
 
    <span class="co1">// Get Current Client Weapon Rotation</span>
    CalcWeaponFire<span class="br0">(</span><span class="br0">)</span>;
 
    <span class="kw1">if</span><span class="br0">(</span> ProClass != <span class="kw9">none</span> <span class="br0">)</span>
        P = <span class="kw6">Super</span>.<span class="me1">SpawnProjectile</span><span class="br0">(</span>ProClass, bAltFire<span class="br0">)</span>;
 
    <span class="kw1">if</span><span class="br0">(</span> P == <span class="kw9">none</span> <span class="br0">)</span>
    <span class="br0">{</span>
        SpawnProjectileNone<span class="br0">(</span>bAltFire<span class="br0">)</span>;
        <span class="kw1">return</span> <span class="kw9">none</span>;
    <span class="br0">}</span>
 
    P.<span class="me1">SetOwner</span><span class="br0">(</span><span class="kw8">self</span><span class="br0">)</span>;
 
    <span class="kw1">return</span> SpawnProjectileInit<span class="br0">(</span>P, bAltFire<span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> WeaponInit<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    LastPriFireTime=<span class="kw8">Level</span>.<span class="me1">TimeSeconds</span>;
    LastAltFireTime=<span class="kw8">Level</span>.<span class="me1">TimeSeconds</span>;
    bAwaitingPriRelease=<span class="kw9">false</span>;
    bAwaitingAltRelease=<span class="kw9">false</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> <span class="kw4">bool</span> PriFireWaitingRelease<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">return</span> bAwaitingPriRelease &amp;&amp; bShouldAwaitPriRelease;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> <span class="kw4">bool</span> AltFireWaitingRelease<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">return</span> bAwaitingAltRelease &amp;&amp; bShouldAwaitAltRelease;
<span class="br0">}</span>
 
<span class="co1">/////////////////////////////////////////////////////////</span>
<span class="co1">// Entry Point Timer Functions, Called On Client OR Server</span>
<span class="kw6">simulated</span> <span class="kw5">function</span> PriFirePressed<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> ShouldPriZoom<span class="br0">(</span><span class="br0">)</span> <span class="br0">)</span>
        StartZoom<span class="br0">(</span><span class="kw9">false</span><span class="br0">)</span>;
 
    ServerPriFirePressed<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> PriFireReleased<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> bDoPriZoom <span class="br0">)</span>
        EndZoom<span class="br0">(</span><span class="br0">)</span>;
 
    ServerPriFireReleased<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> PriFireInactive<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    ServerPriFireInactive<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> PriFireActive<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> ShouldPriZoom<span class="br0">(</span><span class="br0">)</span> <span class="br0">)</span>
        DoZoom<span class="br0">(</span><span class="br0">)</span>;
 
    ServerPriFireActive<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> AltFirePressed<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> ShouldAltZoom<span class="br0">(</span><span class="br0">)</span> <span class="br0">)</span>
        StartZoom<span class="br0">(</span><span class="kw9">true</span><span class="br0">)</span>;
 
    ServerAltFirePressed<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> AltFireReleased<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> bDoAltZoom <span class="br0">)</span>
        EndZoom<span class="br0">(</span><span class="br0">)</span>;
 
    ServerAltFireReleased<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> AltFireInactive<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    ServerAltFireInactive<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> AltFireActive<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> ShouldAltZoom<span class="br0">(</span><span class="br0">)</span> <span class="br0">)</span>
        DoZoom<span class="br0">(</span><span class="br0">)</span>;
 
    ServerAltFireActive<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> TimerUpdateWithDriver<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    ServerTimerUpdateWithDriver<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> TimerUpdateWithoutDriver<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    ServerTimerUpdateWithoutDriver<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
<span class="co1">// End Entry Point Timer Functions</span>
<span class="co1">////////////////////////////////////////</span>
 
<span class="kw5">function</span> ServerAwaitRelease<span class="br0">(</span> <span class="kw4">bool</span> bAltFire <span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> bAltFire <span class="br0">)</span>
        bAwaitingAltRelease=<span class="kw9">true</span>;
    <span class="kw1">else</span>
        bAwaitingPriRelease=<span class="kw9">true</span>;
<span class="br0">}</span>
 
<span class="co1">/////////////////////////////////////////////////</span>
<span class="co1">// Zooming Functions</span>
<span class="co1">//</span>
<span class="co1">// Only One Zoom Feature Per Weapon</span>
<span class="kw6">simulated</span> <span class="kw5">function</span> StartZoom<span class="br0">(</span><span class="kw4">bool</span> bAltFire<span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> ZoomLevel != <span class="nu0">0.0</span> <span class="br0">)</span>
    <span class="br0">{</span>
        RevertZoom<span class="br0">(</span><span class="br0">)</span>;
 
        ServerAwaitRelease<span class="br0">(</span> bAltFire <span class="br0">)</span>;
    <span class="br0">}</span>
    <span class="kw1">else</span>
    <span class="br0">{</span>
        ZoomInit<span class="br0">(</span><span class="br0">)</span>;
        DoZoom<span class="br0">(</span><span class="br0">)</span>;
    <span class="br0">}</span>
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> ZoomInit<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
        bZooming=<span class="kw9">True</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> RevertZoom<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
      EndZoom<span class="br0">(</span><span class="br0">)</span>;
      ZoomLevel = <span class="nu0">0.0</span>;
 
      <span class="kw1">if</span><span class="br0">(</span> Instigator != <span class="kw9">none</span> &amp;&amp; Instigator.<span class="me1">Controller</span> != <span class="kw9">none</span> &amp;&amp; PlayerController<span class="br0">(</span>Instigator.<span class="me1">Controller</span><span class="br0">)</span> != <span class="kw9">none</span> <span class="br0">)</span>
               PlayerController<span class="br0">(</span>Instigator.<span class="me1">Controller</span><span class="br0">)</span>.<span class="me1">DesiredFOV</span> = PlayerController<span class="br0">(</span>Instigator.<span class="me1">Controller</span><span class="br0">)</span>.<span class="me1">DefaultFOV</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> EndZoom<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
      bZooming=<span class="kw9">False</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> <span class="kw4">bool</span> IsZooming<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">return</span> bZooming;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> DoZoom<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> !IsZooming<span class="br0">(</span><span class="br0">)</span> <span class="br0">)</span>
        <span class="kw1">return</span>;
 
    PreZoom<span class="br0">(</span><span class="br0">)</span>;
 
    ZoomLevel += ZoomIncrement;
 
    <span class="kw1">if</span><span class="br0">(</span> <span class="nu0">90.0</span> - ZoomLevel &lt; ZoomMinFov <span class="br0">)</span>
                ZoomLevel = <span class="nu0">90</span> - ZoomMinFov;
 
        <span class="kw1">if</span><span class="br0">(</span> <span class="nu0">90.0</span> - ZoomLevel &gt; ZoomMaxFov <span class="br0">)</span>
            ZoomLevel = <span class="nu0">90</span> - ZoomMaxFov;
 
    <span class="kw1">if</span><span class="br0">(</span> Instigator != <span class="kw9">none</span> &amp;&amp; Instigator.<span class="me1">Controller</span> != <span class="kw9">none</span> &amp;&amp; PlayerController<span class="br0">(</span>Instigator.<span class="me1">Controller</span><span class="br0">)</span> != <span class="kw9">none</span> <span class="br0">)</span>
          PlayerController<span class="br0">(</span>Instigator.<span class="me1">Controller</span><span class="br0">)</span>.<span class="me1">DesiredFOV</span> = <span class="kw7">FClamp</span><span class="br0">(</span><span class="nu0">90.0</span> - ZoomLevel, <span class="nu0">1</span>, <span class="nu0">170</span><span class="br0">)</span>;
 
    PostZoom<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> PreZoom<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> PostZoom<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> <span class="kw4">bool</span> ShouldAltZoom<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">return</span> bDoAltZoom &amp;&amp; !AltFireWaitingRelease<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> <span class="kw4">bool</span> ShouldPriZoom<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">return</span> bDoPriZoom &amp;&amp; !PriFireWaitingRelease<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="co1">/////////////////////////////////////////</span>
<span class="co1">// Begin Server Side Timer Functions</span>
<span class="co1">// These Must Be Super.Called()</span>
<span class="co1">// Or The Client Functions Won't Be Replicated</span>
<span class="kw5">function</span> ServerPriFirePressed<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    ServerTryPriFire<span class="br0">(</span><span class="br0">)</span>;
        ClientPriFirePressed<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw5">function</span> ServerTryPriFire<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> CanPriFire<span class="br0">(</span><span class="br0">)</span> <span class="br0">)</span>
            ServerPriFire<span class="br0">(</span><span class="br0">)</span>;
        <span class="kw1">else</span>
           ServerCantPriFire<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="co1">// This Is Not The Place For (House Keeping), use Inactive,</span>
<span class="co1">// This is for specific thigns happening when the mouse is released</span>
<span class="co1">// I.E. Fire On Release.</span>
<span class="kw5">function</span> ServerPriFireReleased<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
        ClientPriFireReleased<span class="br0">(</span><span class="br0">)</span>;
        ServerPriFireInactive<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw5">function</span> ServerPriFireInactive<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> PriFireWaitingRelease<span class="br0">(</span><span class="br0">)</span> <span class="br0">)</span>
    <span class="br0">{</span>
        bAwaitingPriRelease=<span class="kw9">false</span>;
    <span class="br0">}</span>
 
    ClientPriFireInactive<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw5">function</span> ServerPriFireActive<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> bRepeatedPriFire <span class="br0">)</span>
        ServerTryPriFire<span class="br0">(</span><span class="br0">)</span>;
 
        ClientPriFireActive<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="co1">/////////////////////////</span>
<span class="co1">// Server Alt Fire Routines</span>
<span class="kw5">function</span> ServerAltFirePressed<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    ServerTryAltFire<span class="br0">(</span><span class="br0">)</span>;
    ClientAltFirePressed<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw5">function</span> ServerTryAltFire<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> CanAltFire<span class="br0">(</span><span class="br0">)</span> <span class="br0">)</span>
        ServerAltFire<span class="br0">(</span><span class="br0">)</span>;
    <span class="kw1">else</span>
        ServerCantAltFire<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw5">function</span> ServerAltFireReleased<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    ClientAltFireReleased<span class="br0">(</span><span class="br0">)</span>;
    ServerAltFireInactive<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw5">function</span> ServerAltFireInactive<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> AltFireWaitingRelease<span class="br0">(</span><span class="br0">)</span> <span class="br0">)</span>
    <span class="br0">{</span>
        bAwaitingAltRelease=<span class="kw9">false</span>;
    <span class="br0">}</span>
 
    ClientAltFireInactive<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw5">function</span> ServerAltFireActive<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> bRepeatedAltFire <span class="br0">)</span>
        ServerTryAltFire<span class="br0">(</span><span class="br0">)</span>;
 
    ClientAltFireActive<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw5">function</span> ServerTimerUpdateWithDriver<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    ClientTimerUpdateWithDriver<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw5">function</span> ServerTimerUpdateWithoutDriver<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    ClientTimerUpdateWithoutDriver<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
<span class="co1">// End Server Side Timer Functions</span>
<span class="co1">//////////////////////////////////////////</span>
 
<span class="co1">/////////////////////////////////////////////</span>
<span class="co1">// Pri Fire Guts</span>
<span class="kw6">simulated</span> <span class="kw5">function</span> <span class="kw4">bool</span> CanPriFire<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">return</span> <span class="br0">(</span>LastPriFireTime + FireInterval<span class="br0">)</span> &lt;= <span class="kw8">Level</span>.<span class="me1">TimeSeconds</span> &amp;&amp; !PriFireWaitingRelease<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="co1">// Overriding Should Call Super After All Other Functions</span>
<span class="co1">// Use ServerPostPriFire To Do Modifications After Projectile Exists</span>
<span class="kw5">function</span> ServerPriFire<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    LastPriFireTime=<span class="kw8">Level</span>.<span class="me1">TimeSeconds</span>;
 
    <span class="kw1">if</span><span class="br0">(</span> bPriFireSpawnProjectile <span class="br0">)</span>
        SpawnProjectile<span class="br0">(</span><span class="kw9">none</span>, <span class="kw9">false</span><span class="br0">)</span>;
 
    ServerPostPriFire<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw5">function</span> ServerCantPriFire<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    ClientCantPriFire<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> ClientCantPriFire<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw5">function</span> ServerPostPriFire<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="co1">////////////////////////////////////////</span>
<span class="co1">//Alt Fire Guts</span>
<span class="kw6">simulated</span> <span class="kw5">function</span> <span class="kw4">bool</span> CanAltFire<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">return</span> <span class="br0">(</span>LastAltFireTime + AltFireInterval<span class="br0">)</span> &lt;= <span class="kw8">Level</span>.<span class="me1">TimeSeconds</span> &amp;&amp; !AltFireWaitingRelease<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="co1">// Overriding Should Call super After All Other Commands</span>
<span class="co1">// Use ServerPostAltFire To Do Modifications After Projectile Exists</span>
<span class="kw5">function</span> ServerAltFire<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    LastAltFireTime=<span class="kw8">Level</span>.<span class="me1">TimeSeconds</span>;
 
    <span class="kw1">if</span><span class="br0">(</span> bAltFireSpawnProjectile <span class="br0">)</span>
        SpawnProjectile<span class="br0">(</span><span class="kw9">none</span>, <span class="kw9">true</span><span class="br0">)</span>;
 
    ServerPostAltFire<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw5">function</span> ServerPostAltFire<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw5">function</span> ServerCantAltFire<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    ClientCantAltFire<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> ClientCantAltFire<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="co1">//////////////////////////////////////////</span>
<span class="co1">// Begin Client Side Timer Functions</span>
<span class="kw6">simulated</span> <span class="kw5">function</span> ClientPriFirePressed<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> ClientPriFireReleased<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> ClientPriFireInactive<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> ClientPriFireActive<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> ClientAltFirePressed<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> ClientAltFireReleased<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> ClientAltFireInactive<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> ClientAltFireActive<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> ClientTimerUpdateWithDriver<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw6">simulated</span> <span class="kw5">function</span> ClientTimerUpdateWithoutDriver<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
<span class="co1">// End Client Side Timer Functions</span>
<span class="co1">//////////////////////////////////////</span>
 
<span class="kw6">simulated</span> <span class="kw5">state</span> ProjectileFireMode
<span class="br0">{</span>
    <span class="kw6">simulated</span> <span class="kw5">function</span> <span class="kw7">BeginState</span><span class="br0">(</span><span class="br0">)</span>
    <span class="br0">{</span>
        <span class="kw6">super</span>.<span class="kw7">BeginState</span><span class="br0">(</span><span class="br0">)</span>;
 
        SetTimer<span class="br0">(</span>TimerUpdateFrequency,<span class="kw9">true</span><span class="br0">)</span>;
 
        <span class="co1">//Input Var Initializations</span>
        bIsAltFiring = <span class="kw9">false</span>;
        bIsPriFiring = <span class="kw9">false</span>;
 
        <span class="co1">// Zoom Init</span>
        RevertZoom<span class="br0">(</span><span class="br0">)</span>;
 
        WeaponInit<span class="br0">(</span><span class="br0">)</span>;
    <span class="br0">}</span>
 
    <span class="kw6">simulated</span> <span class="kw5">function</span> <span class="kw7">EndState</span><span class="br0">(</span><span class="br0">)</span>
    <span class="br0">{</span>
        SetTimer<span class="br0">(</span><span class="nu0">0.0</span>, <span class="kw9">false</span><span class="br0">)</span>;
        <span class="kw6">super</span>.<span class="kw7">EndState</span><span class="br0">(</span><span class="br0">)</span>;
    <span class="br0">}</span>
 
    <span class="co1">// For Bot Support</span>
    <span class="kw5">function</span> Fire<span class="br0">(</span>Controller C<span class="br0">)</span>
    <span class="br0">{</span>
        PriFirePressed<span class="br0">(</span><span class="br0">)</span>;
    <span class="br0">}</span>
 
    <span class="kw5">function</span> AltFire<span class="br0">(</span>Controller C<span class="br0">)</span>
    <span class="br0">{</span>
            AltFirePressed<span class="br0">(</span><span class="br0">)</span>;
    <span class="br0">}</span>
 
    <span class="kw6">simulated</span> <span class="kw5">function</span> Timer<span class="br0">(</span><span class="br0">)</span>
    <span class="br0">{</span>
        <span class="kw1">if</span><span class="br0">(</span> <span class="kw8">ROLE</span> == <span class="kw9">ROLE_Authority</span> <span class="br0">)</span>
            TimerUpdateWithoutDriver<span class="br0">(</span><span class="br0">)</span>;
 
        <span class="co1">// Re-Init If  We Are An Un-Powered Turret On The Server</span>
        <span class="kw1">if</span><span class="br0">(</span> <span class="kw8">Role</span> == <span class="kw9">ROLE_Authority</span> &amp;&amp; ONSStationaryWeaponPawn<span class="br0">(</span>Owner<span class="br0">)</span> != <span class="kw9">none</span> &amp;&amp;
                !ONSStationaryWeaponPawn<span class="br0">(</span>Owner<span class="br0">)</span>.<span class="me1">bPowered</span> <span class="br0">)</span>
        <span class="br0">{</span>
            WeaponInit<span class="br0">(</span><span class="br0">)</span>;
        <span class="br0">}</span>
 
        <span class="kw1">if</span><span class="br0">(</span> Instigator == <span class="kw9">none</span> || Instigator.<span class="me1">Controller</span> == <span class="kw9">none</span> <span class="br0">)</span>
            <span class="kw1">return</span>;
 
        <span class="kw1">if</span><span class="br0">(</span> <span class="kw8">ROLE</span> == <span class="kw9">ROLE_Authority</span> <span class="br0">)</span>
            TimerUpdateWithDriver<span class="br0">(</span><span class="br0">)</span>;
 
        <span class="kw1">if</span><span class="br0">(</span> !Instigator.<span class="me1">IsLocallyControlled</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">)</span>
            <span class="kw1">return</span>;
 
        <span class="co1">///////////////////////////////////////////</span>
        <span class="co1">// Key Input Data Initilization</span>
 
        bWasAltFiring = bIsAltFiring;
        bIsAltFiring = !<span class="br0">(</span>Instigator.<span class="me1">Controller</span>.<span class="me1">bAltFire</span> == <span class="nu0">0</span><span class="br0">)</span>;
 
        bWasPriFiring = bIsPriFiring;
        bIsPriFiring = !<span class="br0">(</span>Instigator.<span class="me1">Controller</span>.<span class="me1">bFire</span> == <span class="nu0">0</span><span class="br0">)</span>;
 
        <span class="co1">//////////////////////////////////////////</span>
 
        <span class="kw1">if</span><span class="br0">(</span> bIsPriFiring &amp;&amp; !bWasPriFiring <span class="br0">)</span> <span class="co1">// Primary Fire Was Just Pressed</span>
                <span class="br0">{</span>
        <span class="co1">//      log("["$Level.TimeSeconds@"] MTPBaseStationaryWeapon: Pri Fire Pressed");</span>
                      PriFirePressed<span class="br0">(</span><span class="br0">)</span>;
                <span class="br0">}</span>
                <span class="kw1">else</span>
                <span class="kw1">if</span><span class="br0">(</span> !bIsPriFiring &amp;&amp; bWasPriFiring <span class="br0">)</span> <span class="co1">// Primary Fire Was Just Released</span>
                <span class="br0">{</span>
         <span class="co1">//   log("["$Level.TimeSeconds@"] MTPBaseStationaryWeapon: Pri Fire Released");</span>
            PriFireReleased<span class="br0">(</span><span class="br0">)</span>;
                <span class="br0">}</span>
                <span class="kw1">else</span>
        <span class="kw1">if</span><span class="br0">(</span> !bIsPriFiring <span class="br0">)</span>  <span class="co1">// Code Executed When Primary Fire is Not Pressed</span>
                <span class="br0">{</span>
         <span class="co1">//   log("["$Level.TimeSeconds@"] MTPBaseStationaryWeapon: Pri Fire Inactive");</span>
 
                    PriFireInactive<span class="br0">(</span><span class="br0">)</span>;
                <span class="br0">}</span>
        <span class="kw1">else</span> <span class="co1">// Primary Fire Is Pressed</span>
            <span class="br0">{</span>
         <span class="co1">//   log("["$Level.TimeSeconds@"] MTPBaseStationaryWeapon: Pri Fire Active");</span>
 
            PriFireActive<span class="br0">(</span><span class="br0">)</span>;
        <span class="br0">}</span>
 
        <span class="kw1">if</span><span class="br0">(</span> bIsAltFiring &amp;&amp; !bWasAltFiring <span class="br0">)</span>  <span class="co1">// Alt Fire Was Just Pressed</span>
                <span class="br0">{</span>
                 <span class="co1">//   log("["$Level.TimeSeconds@"] MTPBaseStationaryWeapon: Alt Fire Pressed");</span>
            AltFirePressed<span class="br0">(</span><span class="br0">)</span>;
                <span class="br0">}</span>
                <span class="kw1">else</span>
                <span class="kw1">if</span><span class="br0">(</span> !bIsAltFiring &amp;&amp; bWasAltFiring <span class="br0">)</span>  <span class="co1">// Alt Fire Was Just Released</span>
                <span class="br0">{</span>
                 <span class="co1">//    log("["$Level.TimeSeconds@"] MTPBaseStationaryWeapon: Alt Fire Released");</span>
             AltFireReleased<span class="br0">(</span><span class="br0">)</span>;
                <span class="br0">}</span>
                <span class="kw1">else</span>
                <span class="kw1">if</span><span class="br0">(</span> !bIsAltFiring <span class="br0">)</span> <span class="co1">// Code Executed When Alt Fire is Not Pressed</span>
                <span class="br0">{</span>
        <span class="co1">//    log("["$Level.TimeSeconds@"] MTPBaseStationaryWeapon: Alt Fire Inactive");</span>
                 AltFireInactive<span class="br0">(</span><span class="br0">)</span>;
                <span class="br0">}</span>
        <span class="kw1">else</span>  <span class="co1">// Alt Fire Is Pressed</span>
            <span class="br0">{</span>
        <span class="co1">//    log("["$Level.TimeSeconds@"] MTPBaseStationaryWeapon: Alt Fire Active");</span>
 
                 AltFireActive<span class="br0">(</span><span class="br0">)</span>;
        <span class="br0">}</span>
    <span class="br0">}</span>
<span class="br0">}</span>
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
     YawBone=<span class="st0">"TurretBase"</span>
     PitchBone=<span class="st0">"Dummy01"</span>
     PitchUpLimit=<span class="nu0">15000</span>
     PitchDownLimit=<span class="nu0">52500</span>
     WeaponFireAttachmentBone=<span class="st0">"TurretCockpit"</span>
     GunnerAttachmentBone=<span class="st0">"TurretCockpit"</span>
     WeaponFireOffset=<span class="nu0">25.000000</span>
     DualFireOffset=<span class="nu0">75.000000</span>
     bInstantRotation=<span class="kw9">True</span>
     bInstantFire=<span class="kw9">False</span>
     bDualIndependantTargeting=<span class="kw9">True</span>
     AIInfo<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span>=<span class="br0">(</span>bInstantHit=<span class="kw9">False</span>,aimerror=<span class="nu0">750.000000</span><span class="br0">)</span>
     Mesh=SkeletalMesh<span class="st0">'ONSWeapons-A.NewManualGun'</span>
     CollisionRadius=<span class="nu0">50.000000</span>
     CollisionHeight=<span class="nu0">70.000000</span>
     TimerUpdateFrequency=<span class="nu0">0.01</span>;
     bDoPriZoom=<span class="kw9">false</span>
     bDoAltZoom=<span class="kw9">false</span>
     bPriFireSpawnProjectile=<span class="kw9">false</span>
     bAltFireSpawnProjectile=<span class="kw9">false</span>
     bShouldAwaitPriRelease=<span class="kw9">false</span>
     bShouldAwaitAltRelease=<span class="kw9">false</span>
     bRepeatedPriFire=<span class="kw9">false</span>
     bRepeatedAltFire=<span class="kw9">false</span>
     ZoomMinFov=<span class="nu0">25.000</span>
     ZoomMaxFov=<span class="nu0">120.0</span>
     ZoomIncrement=<span class="nu0">0.5</span>
     FireInterval=<span class="nu0">1.0</span>
     AltFireInterval=<span class="nu0">0.0</span>
     PrimaryProjectileClass=<span class="kw9">none</span>
     SecondaryProjectileClass=<span class="kw9">none</span>
<span class="br0">}</span>
</pre></div>

<!-- 
NewPP limit report
Preprocessor node count: 15/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/w/e/a/Legacy%7EWeaponSystemFramework_05c4.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/w/e/a/Legacy_talk%7EWeaponSystemFramework_5bdb.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:WeaponSystemFramework">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 19:25, 27 July 2004 by Anonymous user(s) of Unreal Wiki. </li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
