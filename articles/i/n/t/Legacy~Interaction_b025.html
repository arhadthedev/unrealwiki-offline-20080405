<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:Interaction - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:Interaction</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <div class="infobox infobox-class infobox-legacy"><a href="../../../../articles/u/t/2/Legacy%7EUT2003_f97b.html" class="mw-redirect" title="Legacy:UT2003">UT2003</a>&#160;:: <a href="../../../../articles/o/b/j/Legacy%7EObject_f294.html" title="Legacy:Object">Object</a> &gt;&gt; <a href="../../../../articles/i/n/t/Legacy%7EInteractions_bcc4.html" title="Legacy:Interactions">Interactions</a> &gt;&gt; Interaction</div>
<p>Interactions are new to <a href="../../../../articles/u/t/2/Legacy%7EUT2003_f97b.html" class="mw-redirect" title="Legacy:UT2003">UT2003</a>, and can do a whole lot of stuff. They can perform PostRenders and PreRenders, Intercept key input, and intercept string messages. They can be viewed as a much more advanced replacement for UT's HUD mutators, but with lots of additional functionality. Interactions can use <a href="../../../../articles/s/t/a/Legacy%7EState_e093.html" title="Legacy:State">states</a> like <a href="../../../../articles/a/c/t/Legacy%7EActor_5985.html" title="Legacy:Actor">Actors</a> after they have been initialized.</p>
<p>Interactions take on two forms, the Global Interaction and the Local Interaction. The GI get to process data before the LI and get render time after the LI, so in essence the GI wraps the LI.</p>
<p>A <a href="../../../../articles/d/y/n/Legacy%7EDynamic_Array_dc99.html" title="Legacy:Dynamic Array">dynamic array</a> of GIs is stored in the <a href="../../../../articles/i/n/t/Legacy%7EInteractionMaster_c727.html" title="Legacy:InteractionMaster">InteractionMaster</a> while each <a href="../../../../articles/v/i/e/Legacy%7EViewport_b6d2.html" title="Legacy:Viewport">Viewport</a> contains an array of LIs.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Using_Interactions"><span class="tocnumber">1</span> <span class="toctext">Using Interactions</span></a></li>
<li class="toclevel-1"><a href="#Properties"><span class="tocnumber">2</span> <span class="toctext">Properties</span></a></li>
<li class="toclevel-1"><a href="#Methods"><span class="tocnumber">3</span> <span class="toctext">Methods</span></a></li>
<li class="toclevel-1"><a href="#.3D_Native_Functions"><span class="tocnumber">4</span> <span class="toctext">= Native Functions</span></a>
<ul>
<li class="toclevel-2"><a href="#Other_Functions"><span class="tocnumber">4.1</span> <span class="toctext">Other Functions</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Known_Subclasses"><span class="tocnumber">5</span> <span class="toctext">Known Subclasses</span></a></li>
<li class="toclevel-1"><a href="#Discussion"><span class="tocnumber">6</span> <span class="toctext">Discussion</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Using_Interactions" id="Using_Interactions"></a></p>
<h2><span class="mw-headline">Using Interactions</span></h2>
<p>Depending on which method you wish to use to create an interaction, you need to read one of:</p>
<ul>
<li><a href="../../../../articles/c/r/e/Legacy%7ECreating_An_Interaction_From_A_Mutator_2851.html" title="Legacy:Creating An Interaction From A Mutator">Creating An Interaction From A Mutator</a>,</li>
<li><a href="../../../../articles/c/r/e/Legacy%7ECreating_An_Interaction_From_A_PlayerController_738e.html" title="Legacy:Creating An Interaction From A PlayerController">Creating An Interaction From A PlayerController</a>,</li>
<li><a href="../../../../articles/c/r/e/Legacy%7ECreating_An_Interaction_From_A_HUD_6a10.html" title="Legacy:Creating An Interaction From A HUD">Creating An Interaction From A HUD</a></li>
</ul>
<p>Have the mutator, but just want to know how to make an interaction? Choose a section relating to what you want to do:</p>
<ul>
<li><a href="../../../../articles/h/u/d/Legacy%7EHUD_Interactions_c414.html" title="Legacy:HUD Interactions">HUD Interactions</a></li>
<li><a href="../../../../articles/k/e/y/Legacy%7EKeypress_Interactions_149f.html" title="Legacy:Keypress Interactions">Keypress Interactions</a></li>
<li><a href="../../../../articles/m/e/s/Legacy%7EMessage_Interactions_4af1.html" title="Legacy:Message Interactions">Message Interactions</a></li>
</ul>
<p>While you're at it, you may as well read <a href="../../../../articles/p/r/o/Legacy%7EProblems_With_Interactions_cbf0.html" title="Legacy:Problems With Interactions">Problems_With_Interactions</a>. You'll probably need to sooner or later anyway.</p>
<p><a name="Properties" id="Properties"></a></p>
<h2><span class="mw-headline">Properties</span></h2>
<dl>
<dt>bool bActive&#160;</dt>
<dd>Is this interaction getting input?</dd>
<dt>bool bVisible&#160;</dt>
<dd>Is this interaction being displayed?</dd>
<dt>bool bRequiresTick&#160;</dt>
<dd>Does this interaction require game TICK?</dd>
<dt>bool bNativeEvents&#160;</dt>
<dd>This interaction requests native key events.</dd>
</dl>
<p>These entries get filled out upon creation.</p>
<dl>
<dt><a href="../../../../articles/p/l/a/Legacy%7EPlayer_ff26.html" title="Legacy:Player">Player</a> ViewportOwner&#160;</dt>
<dd>Pointer to the ViewPort that "Owns" this interaction or none if it's Global</dd>
<dt><a href="../../../../articles/i/n/t/Legacy%7EInteractionMaster_c727.html" title="Legacy:InteractionMaster">InteractionMaster</a> Master&#160;</dt>
<dd>Pointer to the Interaction Master</dd>
</dl>
<p><a name="Methods" id="Methods"></a></p>
<h2><span class="mw-headline">Methods</span></h2>
<p>All functions in the Interaction class (including native ones) are non-final.</p>
<p><a name=".3D_Native_Functions"></a></p>
<h2><span class="mw-headline">= Native Functions</span></h2>
<dl>
<dt>Initialize ( )&#160;</dt>
<dd>Setup the state system and stack frame. Called automatically upon creation.</dd>
<dt>bool ConsoleCommand (coerce string S)&#160;</dt>
<dd>Executes a console command. Returns false if the command could not be executed.</dd>
</dl>
<dl>
<dt>vector WorldToScreen (vector Location, optional vector CameraLocation, optional rotator CameraRotation)&#160;</dt>
<dd>Converts a vector in the world. Returns the X/Y screen coordinates in to a viewport of a given vector in the world.</dd>
<dt>vector ScreenToWorld(vector Location, optional vector CameraLocation, optional rotator CameraRotation)&#160;</dt>
<dd>The X/Y components of Location are set to screen X/Y. The return value is a normalized Vector that you trace along to hit something in the world.</dd>
</dl>
<p><a name="Other_Functions" id="Other_Functions"></a></p>
<h3><span class="mw-headline">Other Functions</span></h3>
<dl>
<dt>Initialized ( )&#160;</dt>
<dd>Called directly after an Interaction Object has been created and Initialized. Should be subclassed.</dd>
<dt>NotifyLevelChange ( )&#160;</dt>
<dd><i>Build 2164 and later.</i> Called upon level changed. Use this to remove the Interaction to prevent the "Incompatible Game Files" message. (In earlier builds this message was know and feared as "Corrupted Connection detected".)</dd>
<dt>Message (coerce string Msg, float MsgLife)&#160;</dt>
<dd>This event allows interactions to receive messages.</dd>
<dt>bool KeyType (out EInputKey Key, optional string Unicode)</dt>
<dt>bool KeyEvent (out EInputKey Key, out EInputAction Action, float Delta)&#160;</dt>
<dd>These two routines are the entry points for input. They both return true if the data has been processed and should now be discarded. Both functions should be handled in a subclass of Interaction. The enums EInputKey and EInputAction are declared in the superclass.</dd>
<dt>PreRender (<a href="../../../../articles/c/a/n/Legacy%7ECanvas_89bb.html" title="Legacy:Canvas">Canvas</a> Canvas)&#160;</dt>
<dd>Called right after the level is rendered but before the HUD, 1st person weapon, etc. are drawn.</dd>
<dt>PostRender(<a href="../../../../articles/c/a/n/Legacy%7ECanvas_89bb.html" title="Legacy:Canvas">Canvas</a> Canvas)&#160;</dt>
<dd>Called after the HUD is drawn.</dd>
</dl>
<dl>
<dt>SetFocus ( )&#160;</dt>
<dd>This function cases the Interaction to gain "focus" in the interaction system. Global interactions's focus superceed locals.</dd>
<dt>Tick (float DeltaTime)&#160;</dt>
<dd>By default, Interactions do not get ticked, but you can simply turn on bRequiresTick.</dd>
<dt>NotifyMusicChange ( )&#160;</dt>
<dd><i>Build 2164 and later.</i></dd>
</dl>
<p><a name="Known_Subclasses" id="Known_Subclasses"></a></p>
<h2><span class="mw-headline">Known Subclasses</span></h2>
<ul>
<li><a href="../../../../articles/c/o/n/Legacy%7EConsole_f3b2.html" title="Legacy:Console">Console</a></li>
<li><a href="../../../../articles/b/a/s/Legacy%7EBaseGUIController_1257.html" title="Legacy:BaseGUIController">BaseGUIController</a></li>
</ul>
<p><a name="Discussion" id="Discussion"></a></p>
<h2><span class="mw-headline">Discussion</span></h2>
<p><b>DJPaul:</b> As i've done in bold above, we need to be sure to specify the correct, and show differences, between <strong class="selflink">Interaction</strong> and <a href="../../../../articles/i/n/t/Legacy%7EInteractions_bcc4.html" title="Legacy:Interactions">Interactions</a>.</p>
<p><b>Wormbo:</b> I think this is pretty clear when looking at the class tree. You don't write <b>Trigger</b>(s), do you?</p>
<p><b>Balu:</b> The first section tells me that <strong class="selflink">Interactions</strong> can do a lot of stuff and what they use,... But I still have no idea what they are used for or what they are.</p>
<p><b>Dyselon</b> There's probably an easy answer to this, and I'm sure I'll feel stupid when I hear it, but what's the easy way to pass a value from a mutator to an interaction. Say there's a mutator that keeps track of the total number of foos that have been collected on a level, and I want to display that to the hud via an interaction... Where would I store that value, and how would I access it?</p>
<p><b>Mychaeel:</b> You would keep a reference to your <a href="../../../../articles/m/u/t/Legacy%7EMutator_6c1f.html" title="Legacy:Mutator">Mutator</a> in the Interaction when you create it and then directly read those values from your Mutator object.</p>
<p><b>Melaneus:</b> I don't think SetFocus() works. It looks like it ends up altering the local array of interactions it created instead of altering the real array of interactions that the player uses.</p>
<p><b>Fey:</b> I agree with Balu. Someone just recomeded I look here for help on how to do a mod I'm working on, but I don't really understand what these do. From this page, Interactions look very limited, and not a bit helpful unless you want to update a HUD. I'll keep working with them see if I can work it out.</p>

<!-- 
NewPP limit report
Preprocessor node count: 15/1000000
Post-expand include size: 175/2097152 bytes
Template argument size: 108/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../../articles/c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Category</a>: <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_Class_%28UT2003%29_1edb.html" title="Category:Legacy Class (UT2003)">Legacy Class (UT2003)</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/i/n/t/Legacy%7EInteraction_b025.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/i/n/t/Legacy_talk%7EInteraction_cde1.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:Interaction">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 04:37, 5 August 2007 by Anonymous user(s) of Unreal Wiki. </li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
