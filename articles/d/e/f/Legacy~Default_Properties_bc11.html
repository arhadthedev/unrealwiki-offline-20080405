<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:Default Properties - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:Default Properties</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <p>This is a special part of the <a href="../../../../articles/u/n/r/Legacy%7EUnrealScript_a9c5.html" title="Legacy:UnrealScript">UnrealScript</a> <a href="../../../../articles/c/l/a/Legacy%7EClass_Syntax_ec69.html" title="Legacy:Class Syntax">Class syntax</a>. It's a block of script at the end of a class that declares default values for class properties. This block cannot contain any executable code, and uses its own special syntax that is different from ordinary UnrealScript code. Generally, this is similar to the syntax for <a href="../../../../articles/t/3/d/Legacy%7ET3D_File_2c91.html" title="Legacy:T3D File">T3D files</a>.</p>
<p>Default properties are inherited by subclasses, and may in fact be overridden several times as you go down the class tree. The most "recent" (lowest subclass that has a setting for it in its default properties) takes precedence in this case. This also goes for <i>parts</i> of a struct or array, e.g. you can change the red value of a color property and the green, blue and alpha values are inherited from the superclass.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Syntax"><span class="tocnumber">1</span> <span class="toctext">Syntax</span></a>
<ul>
<li class="toclevel-2"><a href="#Notes"><span class="tocnumber">1.1</span> <span class="toctext">Notes</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Inheritance"><span class="tocnumber">2</span> <span class="toctext">Inheritance</span></a></li>
<li class="toclevel-1"><a href="#Accessing"><span class="tocnumber">3</span> <span class="toctext">Accessing</span></a></li>
<li class="toclevel-1"><a href="#Features_in_later_engine_versions"><span class="tocnumber">4</span> <span class="toctext">Features in later engine versions</span></a></li>
<li class="toclevel-1"><a href="#Default_properties_in_UnrealEd"><span class="tocnumber">5</span> <span class="toctext">Default properties in UnrealEd</span></a></li>
<li class="toclevel-1"><a href="#Comments"><span class="tocnumber">6</span> <span class="toctext">Comments</span></a></li>
<li class="toclevel-1"><a href="#Related_Topics"><span class="tocnumber">7</span> <span class="toctext">Related Topics</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Syntax" id="Syntax"></a></p>
<h2><span class="mw-headline">Syntax</span></h2>
<p>This shows how to set defaults for arrays (both static and dynamic ones), floats, ints, booleans, strings, structs (MyColor), enums, objects (MyProjectileClass; sounds, textures, fonts, meshes or <a href="../../../../articles/s/u/b/Legacy%7ESubobject_0a6b.html" title="Legacy:Subobject">subobjects</a> are handled likewise) and names. Note that you can also specify objects only by giving the name, i.e. RocketMk2 instead of class'Botpack.RocketMk2'.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
     MyFloat=<span class="nu0">8.000000</span>
     MyInt=<span class="nu0">5</span>
     MyBoolean=<span class="kw9">True</span>
     MyString=<span class="st0">"Hello World!"</span>
     MyEnum=ENUM_Something
     MyName=CliffyB
     MyProjectileClass=<span class="kw5">class</span><span class="st0">'Botpack.RocketMk2'</span>
     MyColor=<span class="br0">(</span>R=<span class="nu0">128</span>,G=<span class="nu0">20</span>,B=<span class="nu0">255</span><span class="br0">)</span>
     MyStaticArray1<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span>=<span class="nu0">5</span>
     MyStaticArray1<span class="br0">(</span><span class="nu0">2</span><span class="br0">)</span>=<span class="nu0">3</span>
     MyDynArray1=<span class="br0">(</span><span class="st0">"array"</span>,<span class="st0">"on"</span>,<span class="st0">"a"</span>,<span class="st0">"single"</span>,<span class="st0">"line"</span><span class="br0">)</span>
     MyDynArray2<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span>=<span class="st0">"multiple"</span>
     MyDynArray2<span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span>=<span class="st0">"lines"</span>
     MyDynArray2<span class="br0">(</span><span class="nu0">2</span><span class="br0">)</span>=<span class="st0">"for"</span>
     MyDynArray2<span class="br0">(</span><span class="nu0">3</span><span class="br0">)</span>=<span class="st0">"this"</span>
     MyDynArray2<span class="br0">(</span><span class="nu0">4</span><span class="br0">)</span>=<span class="st0">"one"</span>
<span class="br0">}</span>
</pre></div>
<p><a name="Notes" id="Notes"></a></p>
<h3><span class="mw-headline">Notes</span></h3>
<ul>
<li>The syntax of the default properties block is pretty strict for an arcane reason. Particularly adding spaces before or after the "=" will lead to errors in pre-<a href="../../../../articles/u/t/2/Legacy%7EUT2003_f97b.html" class="mw-redirect" title="Legacy:UT2003">UT2003</a> versions. Trailing semicolons are not needed (pre-UT2003 they will cause an error; post-UT2003 you can put them in if you like). Also adding spaces inside the parentheses for a struct or single-line dynamic array will not work. If a struct has a Name variable, double quotes should be used instead of singles.</li>
</ul>
<ul>
<li>As stated above, the default properties block is only parsed, but in no way executed. You can't put any executable code in there (or complex expressions or variable references at the right side of an assignment, for that matter). You can not use constants to initialize a value in defaultproperties. The compiler will not always give you an error; sometimes it will simply replace the constant with the appropriate zero value.</li>
</ul>
<ul>
<li>Don't expect block comments to work properly there either, you can comment out the whole block but trying to comment out a line can produce weirdness. Block comments do work in <a href="../../../../articles/u/t/2/Legacy%7EUT2004_5921.html" class="mw-redirect" title="Legacy:UT2004">UT2004</a>. The following example will <b>not</b> count as a comment, but will be parsed as if the <i>/* */</i> wasn't there:
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="coMULTI">/*
</span>
</pre></div>
</li>
</ul>
<p><span class="coMULTI">defaultproperties {</span></p>
<pre>
<span class="coMULTI">    MyVar=3
</span>
</pre>
<p><span class="coMULTI">}*/</span></p>
<p><b>Guest:</b> Well does it work or doesn't it? The above says one thing, then the opposite, then it's contradicted again below!</p>
<p><b>Guest2:</b> I guess that block comments DON'T work but single-line comments DO.</p>
<ul>
<li>While block comments do not work (the default properties parser will miss the start and end due to the nature of the parser), it does in fact respect single-line comments.</li>
</ul>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
    <span class="co1">// This is a valid comment</span>
    <span class="co1">//MyVal=0.1234</span>
<span class="br0">}</span>
</pre></div>
<ul>
<li>When assigning values to static or dynamic array elements in the defaults block don't use square brackets, it won't work, use ordinary parentheses or you'll get an "unknown property in default block" error when compiling.</li>
</ul>
<ul>
<li>The default properties block will not show up when you are using UnrealEd's build-in <a href="../../../../articles/s/c/r/Legacy%7EScript_Editor_20a7.html" title="Legacy:Script Editor">Script Editor</a>. You can however right-click the class in the <a href="../../../../articles/a/c/t/Legacy%7EActor_Browser_2eb9.html" class="mw-redirect" title="Legacy:Actor Browser">actor browser</a> and select "Default Properties" to check and modify them.</li>
</ul>
<ul>
<li>Any variables that specified as config will have any default values replaced by those specified in the appropriate .ini file, just as placed Actors with modified values will replace those specified in the class.</li>
</ul>
<ul>
<li>Note that newer builds of the engine (i.e. anything newer than UT) support more robust parsing of the defaultproperties, including extra whitespace and semicolons at the end of lines.</li>
</ul>
<ul>
<li>The compiler that came with <a href="../../../../articles/u/t/2/Legacy%7EUT2003_f97b.html" class="mw-redirect" title="Legacy:UT2003">UT2003</a> checks whether classes specified in the defaults block exist, but it doesn't check whether they are allowed there. In particular this means you can assign class'<a href="../../../../articles/c/o/m/Legacy%7ECommandlet_d39f.html" title="Legacy:Commandlet">Commandlet</a>' to a variable of type class&lt;<a href="../../../../articles/a/c/t/Legacy%7EActor_5985.html" title="Legacy:Actor">Actor</a>&gt;. The variable will contain the default value None then, but the compiler doesn't complain about it.</li>
</ul>
<p><a name="Inheritance" id="Inheritance"></a></p>
<h2><span class="mw-headline">Inheritance</span></h2>
<p>Not readily apparent to some is that your defaultproperties block can become fairly large if you consider how much you've inherited. Consider</p>
<div class="infobox infobox-class infobox-legacy"><a href="../../../../articles/o/b/j/Legacy%7EObject_f294.html" title="Legacy:Object">Object</a> &gt;&gt; <a href="../../../../articles/a/c/t/Legacy%7EActor_5985.html" title="Legacy:Actor">Actor</a> &gt;&gt; <a href="../../../../articles/i/n/v/Legacy%7EInventory_cc1f.html" title="Legacy:Inventory">Inventory</a> &gt;&gt; <a href="../../../../articles/w/e/a/Legacy%7EWeapon_e170.html" title="Legacy:Weapon">Weapon</a> &gt;&gt; CustomWeapon</div>
<p>I've seen a few people who assume that defaultproperties is something special, but it's just a basic constructor for your class so all the variables and settings from every class in your tree are available there as well. In the case of Weapon bJustTeleported (<a href="../../../../articles/a/c/t/Legacy%7EActor_5985.html" title="Legacy:Actor">Actor</a>) and bMovable (<a href="../../../../articles/a/c/t/Legacy%7EActor_5985.html" title="Legacy:Actor">Actor</a>) are available for your use, even if they don't make much sense by the time you get to them.</p>
<p><a name="Accessing" id="Accessing"></a></p>
<h2><span class="mw-headline">Accessing</span></h2>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
SomeActor.<span class="kw1">default</span>.&lt;property&gt;=&lt;DefaultValue&gt;; <span class="co1">// if you have an actor of the class</span>
<span class="kw5">class</span><span class="st0">'SomeClass'</span>.<span class="kw1">default</span>.&lt;property&gt;=&lt;DefaultValue&gt;; <span class="co1">// if you don't</span>
</pre></div>
<p>It's probably obvious, but if you set the default for a class in your script, it won't affect the property of objects of the class, even if those have not changed from default: those were set from the defaults when the object was created.</p>
<p><a name="Features_in_later_engine_versions" id="Features_in_later_engine_versions"></a></p>
<h2><span class="mw-headline">Features in later engine versions</span></h2>
<p>It is possible to create <a href="../../../../articles/s/u/b/Legacy%7ESubobject_0a6b.html" title="Legacy:Subobject">subobjects</a> in the defaultproperties block of a class. This technique is widely used in the <a href="../../../../articles/u/t/2/Legacy%7EUT2003_f97b.html" class="mw-redirect" title="Legacy:UT2003">UT2003</a> XInterface package to create GUI controls to be placed on a dialog box.</p>
<p><a name="Default_properties_in_UnrealEd" id="Default_properties_in_UnrealEd"></a></p>
<h2><span class="mw-headline">Default properties in UnrealEd</span></h2>
<p>The Default properties block is omitted in UnrealEd's <a href="../../../../articles/s/c/r/Legacy%7EScript_Editor_20a7.html" title="Legacy:Script Editor">script editor</a>. Instead, properties are set in an extra instance of <a href="../../../../articles/a/c/t/Legacy%7EActor_Properties_Window_aeb0.html" title="Legacy:Actor Properties Window">Actor properties window</a>, accessed from the <a href="../../../../articles/a/c/t/Legacy%7EActor_Classes_Browser_03a1.html" class="mw-redirect" title="Legacy:Actor Classes Browser">Actor classes browser</a>. Do one of the following:</p>
<ul>
<li>Select the class, <a href="../../../../articles/a/c/t/Legacy%7EActor_Classes_Browser_Menu_5d83.html" title="Legacy:Actor Classes Browser Menu">Actor Classes Browser Menu</a> -&gt; Class -&gt; Default Properties...</li>
<li>Select the class, and click the properties button on the Actor classes browser toolbar</li>
<li>Right-click the class and select Default Properties... from the context menu.</li>
</ul>
<p>The downsides of this behavior are:</p>
<ul>
<li>If you paste in a script, you'll have to remove the Default properties block: it won't compile.</li>
<li>You can't access hidden variables in the default properties window.</li>
</ul>
<p>To access hidden variables, call up the window with the console command:</p>
<pre>
editdefault class=&lt;classname&gt;
</pre>
<p><a name="Comments" id="Comments"></a></p>
<h2><span class="mw-headline">Comments</span></h2>
<p><b>zStorm:</b> (Fixed) It seems as though UCC under certain circumstances has issues with decompiling the default properties. If for instance you decompile a file that has a struct in the default properties, it may insert spaces into the struct declaration.</p>
<p>What should be ZoneGravity=(X=0.00,Y=0.00,Z=-950.00) becomes ZoneGravity=(X=0.00, Y=0.00, Z=-950.00) which is not allowed.</p>
<p><b>JamesKilton:</b> Just something I noticed: Arrays in Default Properties are usually accessed through (). However, take this example:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw4">struct</span> myStruct <span class="br0">{</span>
  <span class="kw5">var</span> <span class="kw4">int</span> intArray<span class="br0">[</span><span class="nu0">3</span><span class="br0">]</span>;
<span class="br0">}</span>;
 
<span class="kw5">var</span> myStruct someVar;
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
  <span class="co1">// Compile fails:</span>
  someVar=<span class="br0">(</span>intArray<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span>=<span class="nu0">1</span>,intArray<span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span>=<span class="nu0">1</span>,intArray<span class="br0">(</span><span class="nu0">2</span><span class="br0">)</span>=<span class="nu0">1</span><span class="br0">)</span>
 
  <span class="co1">// Compile passes:</span>
  someVar=<span class="br0">(</span>intArray<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>=<span class="nu0">1</span>,intArray<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span>=<span class="nu0">1</span>,intArray<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span>=<span class="nu0">1</span><span class="br0">)</span>
<span class="br0">}</span>
</pre></div>
<p>Really weird double-standard here, just something to watch out for.</p>
<p><b>BigJohn:</b> I've done some funky struct in an array stuff for one of my actors, and here's how it goes:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw4">struct</span> Attack
<span class="br0">{</span>
        <span class="kw5">var</span> <span class="kw4">name</span> AnimName;
        <span class="kw5">var</span> <span class="kw4">string</span> HowTo;
        <span class="kw5">var</span> <span class="kw4">int</span> <span class="kw6">length</span>;
<span class="br0">}</span>;
 
<span class="kw5">var</span> attack spclAttacks<span class="br0">[</span><span class="nu0">10</span><span class="br0">]</span>;
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
        spclAttacks<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span>=<span class="br0">(</span>animName=<span class="st0">"AltAttack"</span>,HowTo=<span class="st0">"dr1"</span>,<span class="kw6">Length</span>=<span class="nu0">3</span><span class="br0">)</span>
<span class="br0">}</span>
</pre></div>
<p>biggest issue I had was to make sure that nowhere in the property is there a space. (thanks pospi)</p>
<p><a name="Related_Topics" id="Related_Topics"></a></p>
<h2><span class="mw-headline">Related Topics</span></h2>
<ul>
<li><a href="../../../../articles/u/n/r/Legacy%7EUnrealScript_a9c5.html" title="Legacy:UnrealScript">UnrealScript</a></li>
<li><a href="../../../../articles/c/l/a/Legacy%7EClass_Syntax_ec69.html" title="Legacy:Class Syntax">Class Syntax</a></li>
<li><a href="../../../../articles/v/a/r/Legacy%7EVariable_Syntax_b9c7.html" title="Legacy:Variable Syntax">Variable Syntax</a></li>
<li><a href="../../../../articles/s/t/a/Legacy%7EStatic_Function_4b1d.html" title="Legacy:Static Function">Static Function</a></li>
<li><a href="../../../../articles/s/u/b/Legacy%7ESubobject_0a6b.html" title="Legacy:Subobject">Subobject</a></li>
</ul>

<!-- 
NewPP limit report
Preprocessor node count: 33/1000000
Post-expand include size: 186/2097152 bytes
Template argument size: 130/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/d/e/f/Legacy%7EDefault_Properties_bc11.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/d/e/f/Legacy_talk%7EDefault_Properties_72f9.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:Default_Properties">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 19:36, 25 February 2007 by Anonymous user(s) of Unreal Wiki. </li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
