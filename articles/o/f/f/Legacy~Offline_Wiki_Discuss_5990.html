<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:Offline Wiki/Discuss - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:Offline Wiki/Discuss</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"><span class="subpages">&lt; <a href="../../../../articles/o/f/f/Legacy%7EOffline_Wiki_94d3.html" title="Legacy:Offline Wiki">Legacy:Offline Wiki</a></span></div>
	    	    	    <!-- start content -->
	    <p>At long last and by popular request (not by Wiki regulars of course – they want the raw Wiki power live, not a zipped version of it), the <a href="../../../../articles/o/f/f/Legacy%7EOffline_Wiki_94d3.html" title="Legacy:Offline Wiki">Offline Wiki</a> has been set up. Thanks to the BeyondUnreal staff, especially MalHavoc and QAPete, for supporting it.</p>
<p>Post here if you'd like to discuss this feature, or if you have any problems using it. If you find anything that looks like a bug to you, we'd be happy to hear about it as well.</p>
<p><a name="Discussion" id="Discussion"></a></p>
<h2><span class="mw-headline">Discussion</span></h2>
<p><b>Mychaeel:</b> Phew. Took long enough, but now it's there. Will make a press release later today.</p>
<p><b>Jan:</b> Cool.&#160;;) Do you need a offline viewer?</p>
<p><b>Tarquin:</b> Nice screenie. pity it's rendering with IE&#160;:( - the blue sidebar should go all the way down in a real browser&#160;:p</p>
<p><b>Jan:</b> This tool is only a side project, to view all my web documents offline. What I miss is a folder structure inside the wiki offline version.</p>
<p><b>Mychaeel:</b> Nice. &#160;:-) I've flattened the folder structure to simplify the relative referencing of other pages, images, smileys and so on; the page names have to be rewritten anyway to accommodate various platforms' limitations (no more than 32 characters on the Mac, case-insensitivity on Windows). However, I could rather simply have the script create a .txt file containing a mapping table between actual page names and the generated file names – an offline reader could read that file and display the actual structure.</p>
<p><b>El Muerte TDS:</b> to bad there's no MS HTML Help compiler for linux, or else you could easily create HTML Help files. HTML Help files are very nice since they provide some very usefull features like full text search. Project and glossary files are easy to create.</p>
<hr />
<p><b>Mychaeel:</b> Sunir got me thinking (over at <a href="../../../../articles/p/r/o/Legacy%7EProject_Copyright_Discussion_3a04.html" title="Legacy:Project Copyright/Discussion">Project Copyright/Discussion</a>). Maybe we should make it <b>very</b> clear on <a href="../../../../articles/o/f/f/Legacy%7EOffline_Wiki_94d3.html" title="Legacy:Offline Wiki">Offline Wiki</a> that the download is for private use only and not to be distributed commercially. (That's implied in <a href="../../../../articles/p/r/o/Legacy%7EProject_Copyright_4886.html" title="Legacy:Project Copyright">Project Copyright</a> already, to be sure, but we know people think if they don't read copyright statements they don't apply to them.)</p>
<hr />
<p><b>Mychaeel:</b> For some reason several files that only differ in the capitalization of their file name are in the "shared" directory (for instance, InterWiki-Wikipedia.png and InterWiki-Wikipedia.PNG). When extracting the archive under Windows that leads to unnecessary and confusing "Overwrite this file?" questions. Please delete one of the files, whichever is unnecessary.</p>
<p><b>ZxAnPhOrIaN:</b> Agreed. We should adopt a standard on only lower-case file types (a.jpg, not a.JPG). it would solve that problem.</p>
<p><b>Mychaeel:</b> Yeah... well. I take it it was an accident. Hope tarquin sees it. That's why I put that log message in that you overwrote by posting your comment.</p>
<p><b>Tarquin:</b> Seen. It's because Photoshop puts CAPS extensions, and I forget to change them before uploading. The perl script cares about case, but the eventual URL does not. ARG! But will fix.</p>
<p><b>Mychaeel:</b> ...the server doesn't? <a href="http://wiki.beyondunreal.com/wiki-ext/wikilogo.jpg?link" class="external free" title="http://wiki.beyondunreal.com/wiki-ext/wikilogo.jpg?link" rel="nofollow">http://wiki.beyondunreal.com/wiki-ext/wikilogo.jpg?link</a> displays the Wiki logo, but <a href="http://wiki.beyondunreal.com/wiki-ext/WiKiLoGo.JpG?link" class="external free" title="http://wiki.beyondunreal.com/wiki-ext/WiKiLoGo.JpG?link" rel="nofollow">http://wiki.beyondunreal.com/wiki-ext/WiKiLoGo.JpG?link</a> yields a 404.</p>
<p><b>ZxAnPhOrIaN:</b> I thought that you can't have mixed-case in file extensions.</p>
<p><b>Mychaeel:</b> File extensions are just part of a file name separated from it by a dot, by convention. You can have any case you like in there like everywhere else.</p>
<p><b>Chema:</b> Hi people. Neat site you are running here. Was not until I found it that I felt like "mastering unreal". The offline wiki is another cute detail, especially for 56krs like me, or netecofreaks; like me&#160;;-) Could I suggest using a solid compression algo, like RAR or Bzip2? Documents with repetitive text like headers and sidebars are the ideal meat for them. I just tryed it: todays wiki (29,444,530 bytes) shrinks to 42% (12,706,692 bytes) when zipped; but it gets down to 26% (7,937,234 bytes) using solid RAR! That's almost 5 MB less. Even if you made the archive self extracting, it would be a lot lighter. Keep up the good work, and count me in, even if I spend most of my wiki time on the offline version!</p>
<p><b>Mychaeel:</b> We're limited by the compression software that's available on the server. We have zip and bzip2 there, but no RAR compression utility (or I'm just bad at guessing names). If you could point me to one that runs under Linux, I'll ask the BeyondUnreal admins to install it.</p>
<p><b>El Muerte TDS:</b> unrar is free, rar isn't.</p>
<p><b>El Muerte TDS:</b> btw here are some stats:</p>
<pre>
34226176 in total
12728922 test.zip
8134137  test.tar.bz2
8966783  test.tar.gz

</pre>
<p>bzip2 generates a high system load, gzip doesn't. So I think using tar gzip is the best solution.</p>
<p><b>Mychaeel:</b> Sounds like a good idea. Is .tgz widely enough supported by Windows archivers to allow us to completely scratch the .zip version in favor of a .tgz one?</p>
<p><b>Mysterial:</b> WinZip and WinRAR support it and they're the two most widely used archivers.</p>
<p><b>Chema:</b> Usually bandwith is more precious ('myyyy preshiouuus'&#160;;-) ) than some extra cpu cycles, but bzip2 is indeeded not widely supported in Windows: just by WinRAR and, well, bzip2.exe, to my knowledge (WinZip barely provides tgz support – just decompression, couse zip provides "similar functionality". haha).</p>
<p>Well, you could provide both formats, but that means even more cycles. But even better would be to have weekly snapshots, that would weight a few hundred KBs in tgz. A simple "find . -ctime 7" would do the trick; well, if your usual script is that simple too.</p>
<p>But I see there is still the zip pack. If I can help writing the stuff, just tell me so (with a brief, err, debriefing: sh or perl? target for cron?).</p>
<p><b>El Muerte TDS:</b> I don't know if weekly snapshots are such a good idea, because it would require you to download the snapshot everyweek, you can't mis a single week or you will have to download the full snapshot again. And the offline wiki is only intresting for users without broadband.</p>
<p><b>Mychaeel:</b> Adding support for RAR is a matter of (1) having a RAR compressor for Linux and (2) adding a single line of code to the current Offline Wiki (Perl) script. My concern is more for BeyondUnreal's bandwidth than the users' in this case; right now a single 13 MB-file is uploaded to all mirrors once a day, and each compression format we'd provide in addition to that would add to that load (multiplied by the number of mirrors, naturally).</p>
<p><b>Chema:</b> Err, you got me wrong: I was talking about bzip2 format, not RAR. Anyway, yes, I think that having 2 formats its not elegant (not 'perlish'&#160;;-) ), thats why I think the weekly snapshot is much better.</p>
<p>In response to El Muerte, you don't have to get the snapshot every week: I think they should be really tiny (100-500KB at most, in tgz? well, not counting when I upload my vactaion pics!), and several of them could be stored on the Offline Wiki page. So you just need to check your last update, and get the newer snapshots.</p>
<p><b>El Muerte TDS:</b> what about this: "snapshot on request" you can select the timeframe of the snapshot and then a archive will be created on the fly and feeded realtime to your browser&#160;;)</p>
<p><b>Mychaeel:</b> Hmm... maybe that's not even so far off. Executing the Offline Wiki script takes several minutes to complete, but that's mostly due to several thousand pages that have to be read and formatted. Actually packing a subset of pages into a downloadable archive file takes much less time. – However, the problem remains that file downloads shouldn't be served directly from a BeyondUnreal-hosted site.</p>
<p><b>GRAF1K:</b> Gehn, the offline wiki file size does change frequently due to constant edits. Thanks for the update.</p>
<hr />
<p><b>Mychaeel:</b> Offline Wiki is up and running again after it went down April 29, 2004, and nobody bothered telling me/us... according to hal from BeyondUnreal, the Perl script building the Offline Wiki has been throwing warning messages for quite a while, but they chose to ignore them rather than to tell us about them. &#160;:-/</p>
<p><b>Tarquin:</b> I had no idea...</p>
<hr />
<p><b>El Muerte:</b> I've put up an readonly mirror of the UnrealWiki <a href="http://unreal.student.utwente.nl/wiki/" class="external text" title="http://unreal.student.utwente.nl/wiki/" rel="nofollow">here</a>, it uses this offline wiki for it's content. Quite some things don't work (like search), and the page naming isn't 1on1, but at least we'll have a fallback when BU goes offline again.</p>
<p><b>El Muerte:</b> it's broken, the current archive is from november 5</p>
<hr />
<p><b>Techno_JF:</b> Just so it's clear, the offline wiki hasn't been updated in a while. I don't know if that's by accident or by design, but I think people should be aware of it either way. I just downloaded it, and the date on the pages said "Sat, November 5, 2005". For reference, today's date is February 21, 2006.</p>
<p><b>HC Denton:</b> Is someone going to fix this? The offline wiki is a nice thing because it ensures you have access to all docs even if the wiki goes down temporarily..</p>
<p><b>FEID:</b> i noticed the same problem the offline wiki isn't working and</p>
<p>can't get recent Added Pages!!!</p>
<hr />
<p><b>fyfe:</b> Almost a year now and the offline wiki is still offline. Is it dead for good, or is it just a glitch the higher ups haven't noticed&#160;:p</p>
<p><b>Tarquin:</b> It's down to BU admins. You can contact them yourself&#160;:)</p>
<p><b>feid:</b> so you can do nothing at all, i mean whats the point for this page if nothing is updated, it pretty much useless when new information get published, and what about when our precious wiki is gone, i want somthing to remener it by, in the future.</p>
<p><b>Tarquin:</b> Basically, no, I can't do anything. BU's server must be doing something wrong.</p>
<p><b>fyfe:</b> Sent an e-mail to qapete, but I never got a response.</p>
<p><b>fyfe:</b> Got a e-mail from qapete, it's now fixed&#160;:)</p>
<p><b>fyfe:</b> But it doesn't look like it's hit the mirrors yet&#160;:(</p>
<p><b>fyfe:</b> The mirrors have caught up now&#160;:D</p>
<hr />
<p><a name="Blocking_offline_readers" id="Blocking_offline_readers"></a></p>
<h3><span class="mw-headline">Blocking offline readers</span></h3>
<p><b>fyfe:</b> Not sure if you've got anything like this implemented, but if you wanted to block the casual user from strip mining the wiki with an offline reader you can add the following to <i>.htaccess</i></p>
<pre>
RewriteEngine on

# Send offline readers to offlinewiki.html
RewriteCond %{HTTP_USER_AGENT} (Wget|CherryPickerSE|CherryPickerElite|ExtractorPro|WebStripper|WebCopier|WebZIP) 
RewriteRule ^.*$ offlinewiki.html [L]
</pre>
<p>then create a file called <i>/offlinewiki.html</i> (don't put any links in it)</p>
<pre>
&lt;html&gt;
        &lt;head&gt;
                &lt;title&gt;Never use an offline reader to download the entire Unreal Wiki.&lt;/title&gt;
                &lt;meta name="robots" content="noindex,nofollow"&gt;
        &lt;/head&gt;
        &lt;body style="color:#000000;background-color:#FFFFFF;"  bgcolor="#FFFFFF" color="#000000"&gt;
                &lt;p&gt;&lt;strong&gt;Never use an offline reader to download the entire Unreal Wiki. If you do, 
                   we will ban you instantly and permanently.&lt;/strong&gt; Offline readers put an insane 
                   stress on the web server because they follow each and every of the 
                   processing-intensive maintenance links on the Wiki that are used seldomly by real 
                   people. Don't say you haven't been warned.&lt;/p&gt;

                &lt;p&gt;We're providing the entire Wiki content as a convenient single download on Offline 
                   Wiki [&lt;span style="color:#FF0000;"&gt;http://wiki.beyondunreal.com/wiki/Offline_Wiki&lt;/span&gt;] 
                   though. It's smaller, zipped and downloads faster than what any offline reader 
                   could give you. Of course you can also save individual pages using your web browser 
                   without problems.&lt;/p&gt;
        &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>The same could be done for bad robots that ignore <i>/robots.txt</i> just change the <i>RewriteRule to</i></p>
<pre>
# Send a "403 Forbidden" response
RewriteRule ^.*$ - [F]
</pre>
<p><a name="Download_Links" id="Download_Links"></a></p>
<h3><span class="mw-headline">Download Links</span></h3>
<p><b>Wormbo:</b> Appearantly the FileFront mirror linked on BU FileWorks points to the wrong file.</p>

<!-- 
NewPP limit report
Preprocessor node count: 10/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/o/f/f/Legacy%7EOffline_Wiki_Discuss_5990.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/o/f/f/Legacy_talk%7EOffline_Wiki_Discuss_f6d0.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:Offline_Wiki/Discuss">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 08:44, 3 April 2007 by Unreal Wiki user <a href="../../../../articles/w/o/r/User%7EWormbo_7d13.html" title="User:Wormbo">Wormbo</a>. Based on work by Anonymous user(s) of Unreal Wiki.</li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
