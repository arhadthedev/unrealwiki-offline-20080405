<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:Making Mods/General Mod Optimization - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:Making Mods/General Mod Optimization</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"><span class="subpages">&lt; <a href="../../../../articles/m/a/k/Legacy%7EMaking_Mods_187d.html" title="Legacy:Making Mods">Legacy:Making Mods</a></span></div>
	    	    	    <!-- start content -->
	    <p>Here I will outline some easy and commonly overlooked methods for optimizing your mod so that it performs at its best. I encountered all of these myself while producing Frag.Ops, and being my first mod I realized how easy it is to not notice these things. Currently a work in progress. -SquirrelZero</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Mesh_LOD_-_UT200X"><span class="tocnumber">1</span> <span class="toctext">Mesh LOD - UT200X</span></a>
<ul>
<li class="toclevel-2"><a href="#Player_Models"><span class="tocnumber">1.1</span> <span class="toctext">Player Models</span></a></li>
<li class="toclevel-2"><a href="#Vehicles"><span class="tocnumber">1.2</span> <span class="toctext">Vehicles</span></a></li>
<li class="toclevel-2"><a href="#1st_and_3rd_Person_Weapon_Models"><span class="tocnumber">1.3</span> <span class="toctext">1st and 3rd Person Weapon Models</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Rigidize_-_UT200X"><span class="tocnumber">2</span> <span class="toctext">Rigidize - UT200X</span></a>
<ul>
<li class="toclevel-2"><a href="#Player_Models_2"><span class="tocnumber">2.1</span> <span class="toctext">Player Models</span></a></li>
<li class="toclevel-2"><a href="#Vehicles_2"><span class="tocnumber">2.2</span> <span class="toctext">Vehicles</span></a></li>
<li class="toclevel-2"><a href="#1st_Person_Weapon_Models"><span class="tocnumber">2.3</span> <span class="toctext">1st Person Weapon Models</span></a></li>
<li class="toclevel-2"><a href="#3rd_Person_Weapon_Models"><span class="tocnumber">2.4</span> <span class="toctext">3rd Person Weapon Models</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Conclusion"><span class="tocnumber">3</span> <span class="toctext">Conclusion</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Mesh_LOD_-_UT200X" id="Mesh_LOD_-_UT200X"></a></p>
<h2><span class="mw-headline">Mesh LOD - UT200X</span></h2>
<p>Mesh LOD (Level Of Detail) levels and their benefits.</p>
<p><a name="Player_Models" id="Player_Models"></a></p>
<h3><span class="mw-headline">Player Models</span></h3>
<p>For each of your player models, you should have 4 LOD levels. These can be viewed in the LOD drop-down menu in the <a href="../../../../articles/a/n/i/Legacy%7EAnimation_Browser_c18b.html" title="Legacy:Animation Browser">Animation Browser</a>. LOD levels are what the engine will display at varying view distances from the model, to save polygon counts that the viewer would otherwise never notice. Each level collapses certain polygons on the model to create a lower-poly version of the original. When importing your models into the editor, these levels are generated for you. However, if you saved them with smoothing groups, the engine will generally collapse parts of the model that you really don't want it to collapse – like the neck, ankles, elbows, wrists, etc. This causes pieces of the model to be completely see-through at a relatively short view distance. Make sure you don't save any player models with smoothing groups.</p>
<p><a name="Vehicles" id="Vehicles"></a></p>
<h3><span class="mw-headline">Vehicles</span></h3>
<p>These are generally the same as Player Models. No need for further explanation.</p>
<p><a name="1st_and_3rd_Person_Weapon_Models"></a></p>
<h3><span class="mw-headline">1st and 3rd Person Weapon Models</span></h3>
<p>Here you only need 1 LOD level: the original mesh. Since the editor automatically creates the 4 levels for you when importing a model, this is often the most overlooked setting I've come across. You can safely delete levels 1,2, and 3, thus reducing the total data size by a very large amount. When preloading each model, all of the LOD levels are preloaded along with it, and by deleting these you can reduce the memory usage often by almost a megabyte per 1st person model, and 200-300 kilobytes per 3rd person model. In cases of high memory usage, this can make a world of difference.</p>
<p><a name="Rigidize_-_UT200X" id="Rigidize_-_UT200X"></a></p>
<h2><span class="mw-headline">Rigidize - UT200X</span></h2>
<p>The rigidize subcategory of LOD levels, used for reducing the overhead when drawing a skeletal mesh.</p>
<p><a name="Player_Models_2" id="Player_Models_2"></a></p>
<h3><span class="mw-headline">Player Models</span></h3>
<p>This is somewhat of a topic of contention among modders. Open the Animation Browser and go to the first level of LOD in any stock UT200X player model. You'll see a subsection named <b>Rigidize</b>. There is a variable here named <b>MeshSectionMethod</b>. You'll notice that on all UT200X player models, they're set to <b>MSM_SmoothOnly</b>. This basically tells the engine "This mesh has no rigid parts, and should be reuploaded to the video card each time the model needs to be repainted." Sound slow? It is. In fact, it's the slowest of all the Rigid settings. So why do all the stock models use it? Most player models have very few rigid parts and are generally deformable on the whole. For example, if you set it to <b>MSM_RigidOnly</b> then click the <b>Redigest LOD</b> button, you'll only see the rigid parts, which are very few and don't make up large chunks of the polycount. Obviously using MSM_RigidOnly would be a bad idea, since you wouldn't want to see only those small patches of the model in the game. <b>MSM_Mixed</b> tells the engine "This model has both smooth and rigid parts, so cache some of it to memory while reuploading the rest." However, using this on a model with very few rigid parts can actually decrease performance, since the CPU overhead needed to compute these configurations would outweigh the benefit.</p>
<p>So when is it a good idea to use MSM_Mixed on a player model? Say your killer new model is a mechanical one, like a robot, with very few deformable parts – let's say, a Star Wars AT-ST. Machines generally don't deform because they're made of metal. In this case, you would probably see an excellent benefit from using the MSM_Mixed rigid setting, since it will allow your model to be almost entirely cacheable to video memory, like a static mesh. This means the video card would require less overhead per tick when rendering that model, allowing a substantial performance increase. This and the MSM_RigidOnly setting are also common on Vehicles in UT2004, which I'll get to next.</p>
<p><a name="Vehicles_2" id="Vehicles_2"></a></p>
<h3><span class="mw-headline">Vehicles</span></h3>
<p>Vehicles can almost always use MSM_RigidOnly. Very few vehicles will need to deform, except perhaps ones like the LawDogs horses or the Shattered Oasis cows. This is used extensively in UT2004 to boost performance in maps where sometimes there are as many as 10-15 vehicles on screen at once.</p>
<p><a name="1st_Person_Weapon_Models"></a></p>
<h3><span class="mw-headline">1st Person Weapon Models</span></h3>
<p>Here's a good time to make use of the MSM_Mixed and MSM_RigidOnly settings. Since most weapons don't deform, you can safely use MSM_RigidOnly in almost all situations. This basically allows your weapons to be entirely cacheable to the video card, and is much, much faster than reuploading the entire mesh each repaint, especially when compared with models at high polycounts. The only time you wouldn't want to use this setting is if your models also included some kind of arm or hand holding them, since these need to deform and can't be rigid. Here it is safe to use MSM_Mixed because the weapon itself takes up a large chunk of the polycount, and is not deformable.</p>
<p><a name="3rd_Person_Weapon_Models"></a></p>
<h3><span class="mw-headline">3rd Person Weapon Models</span></h3>
<p>Ah, here we introduce a new rigid setting: <b>MSM_SinglePiece</b>. This is similar to MSM_RigidOnly, except forces the model to always use the reference pose (no animation). Nearly all 3rd person weapon/inventory models can use this setting. This setting performs nearly as good as static meshes, with the small exception of the mesh skeleton. The reason 3rd person weapon models are skeletal meshes at all is because they can use bones, which are very handy for attaching effects like shell ejectors and muzzle flashes, things that would otherwise be very difficult to code in. Note that MSM_SinglePiece is the fastest of all the Rigid settings.</p>
<p><a name="Conclusion" id="Conclusion"></a></p>
<h2><span class="mw-headline">Conclusion</span></h2>
<p>This is by no means complete, but I do need some sleep now&#160;:). I'll be adding a few more tips this week, and I intend to link the relevant sections to their counterparts elsewhere on the wiki.</p>
<hr />
<p>----</p>
<p><b>EntropicLqd:</b> Can you explain <i>deformable</i> a little more clearly. Is it the same as <i>animated</i>? In which case the Flak Cannon would be <i>deformable</i>? or is it something else? interesting page btw. Very nice.</p>
<p><b>Foxpaw:</b> I believe deformable refers to a group of vertices that do not change position relative to each other. So, for instance, some parts of the flak cannon are animated, but all parts of the piston head (and I believe the shell too) stay in the same place relative to each other, as do the "body" pieces. However, in, say, a player, the "skin" of the player changes considerably as it moves.</p>
<p><b>Foxpaw:</b> Also, should this page be merged with Optimization Techniques?</p>
<p><b>SquirrelZero:</b> Ah, I didn't see that page. It might fit in quite nicely there. Foxpaw is correct, <i>deformable</i> refers to models that stretch and bend, like the legs on a player model when running, or the twisting of the torso. The model's structure changes often and so needs to be reuploaded to memory with each change.</p>
<p><b>Dirk Fist:</b> Rubber == Deformable; Porcelain&#160;!= Deformable&#160;:D</p>

<!-- 
NewPP limit report
Preprocessor node count: 11/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/m/a/k/Legacy%7EMaking_Mods_General_Mod_Optimization_8207.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/m/a/k/Legacy_talk%7EMaking_Mods_General_Mod_Optimization_6e86.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:Making_Mods/General_Mod_Optimization">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 12:40, 11 August 2004 by Anonymous user(s) of Unreal Wiki. </li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
