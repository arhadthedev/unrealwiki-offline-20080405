<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:Mutator - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:Mutator</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <div class="infobox infobox-class infobox-legacy"><a href="../../../../articles/u/t/2/Legacy%7EUT2003_f97b.html" class="mw-redirect" title="Legacy:UT2003">UT2003</a>&#160;:: <a href="../../../../articles/a/c/t/Legacy%7EActor_5985.html" title="Legacy:Actor">Actor</a> &gt;&gt; <a href="../../../../articles/i/n/f/Legacy%7EInfo_6292.html" title="Legacy:Info">Info</a> &gt;&gt; Mutator (Package: Engine)</div>
<p>An actor designed to modify smaller aspects of the game. For an overview of how the Mutator system works, see <a href="../../../../articles/m/u/t/Legacy%7EMutator_Topics_c760.html" title="Legacy:Mutator Topics">Mutator Topics</a>.</p>
<p>See <a href="../../../../articles/m/u/t/Legacy%7EMutator_%28UT%29_e55e.html" title="Legacy:Mutator (UT)">Mutator (UT)</a> for the UT version of this class.</p>
<p><b>Note:</b> In UT2003 many functions of UT's Mutator class are either no longer available or have been moved to the <a href="../../../../articles/g/a/m/Legacy%7EGameRules_2d19.html" title="Legacy:GameRules">GameRules</a> class.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Properties"><span class="tocnumber">1</span> <span class="toctext">Properties</span></a></li>
<li class="toclevel-1"><a href="#Methods"><span class="tocnumber">2</span> <span class="toctext">Methods</span></a>
<ul>
<li class="toclevel-2"><a href="#Inherited_From_Actor"><span class="tocnumber">2.1</span> <span class="toctext">Inherited From Actor</span></a></li>
<li class="toclevel-2"><a href="#BaseMutator_Functions"><span class="tocnumber">2.2</span> <span class="toctext">BaseMutator Functions</span></a></li>
<li class="toclevel-2"><a href="#Mutator_Chain_Functions"><span class="tocnumber">2.3</span> <span class="toctext">Mutator Chain Functions</span></a></li>
<li class="toclevel-2"><a href="#Other_Functions"><span class="tocnumber">2.4</span> <span class="toctext">Other Functions</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Related_Topics"><span class="tocnumber">3</span> <span class="toctext">Related Topics</span></a></li>
<li class="toclevel-1"><a href="#Discussion"><span class="tocnumber">4</span> <span class="toctext">Discussion</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Properties" id="Properties"></a></p>
<h2><span class="mw-headline">Properties</span></h2>
<dl>
<dt>Mutator NextMutator&#160;</dt>
<dd>The next mutator in the mutators linked list.</dd>
<dt>class&lt;<a href="../../../../articles/w/e/a/Legacy%7EWeapon_e170.html" title="Legacy:Weapon">Weapon</a>&gt; DefaultWeapon&#160;</dt>
<dt>string DefaultWeaponName&#160;</dt>
<dt>bool bUserAdded&#160;</dt>
<dd>This mutator was added by the user either from the commandline when starting a server, in the "open" console command or via the mutator list.</dd>
<dt>bool bAddToServerPackages&#160;</dt>
<dd>if true, the package this mutator is in will be added to serverpackages at load time. This property should be set to true to enabled in order for clients to download the mutator. An alternative is to add the package name to ServerPackages in UT2004.ini, but this is discouraged.</dd>
<dt>string IconMaterialName&#160;</dt>
<dt>string ConfigMenuClassName&#160;</dt>
<dd>A GUI class that serves as this mutator's config window.</dd>
<dt>string GroupName&#160;</dt>
<dd>Only mutators from different groups are allowed in the mutator list. Use the same group name for mutators what will not work together, e.g. the Arena mutator and InstaGib/Zoom InstaGib use the group name "Arena".</dd>
<dt>string FriendlyName (localized)&#160;</dt>
<dd>The display name of the mutator. Use this or the mutator won't show up in the selection list, even if you correctly create its <a href="../../../../articles/i/n/t/Legacy%7EINT_File_d5d3.html" title="Legacy:INT File">INT File</a>.</dd>
<dt>string Description (localized)&#160;</dt>
<dd>This is the description displayed for the mutator. Use a pipe symbol "|" to create a line break.</dd>
</dl>
<p><a name="Methods" id="Methods"></a></p>
<h2><span class="mw-headline">Methods</span></h2>
<p><a name="Inherited_From_Actor" id="Inherited_From_Actor"></a></p>
<h3><span class="mw-headline">Inherited From <a href="../../../../articles/a/c/t/Legacy%7EActor_5985.html" title="Legacy:Actor">Actor</a></span></h3>
<dl>
<dt>PreBeginPlay ( )&#160;</dt>
<dd>Checks whether the mutator is allowed (<code>MutatorIsAllowed</code> function) and destroys it if the check shows, that it isn't.</dd>
<dt>Destroyed ( )&#160;</dt>
<dd>Removes the mutator from the <a href="../../../../articles/g/a/m/Legacy%7EGameInfo_4922.html" title="Legacy:GameInfo">GameInfo</a>'s <a href="../../../../articles/l/i/n/Legacy%7ELinked_List_d63f.html" title="Legacy:Linked List">linked list</a> of mutators.</dd>
</dl>
<p><a name="BaseMutator_Functions" id="BaseMutator_Functions"></a></p>
<h3><span class="mw-headline">BaseMutator Functions</span></h3>
<p>These functions are only called for the first mutator in the list so if you override them they may not always be executed depending on the order any other mutators were added to the game by the user.</p>
<p><a name="Mutator_Chain_Functions" id="Mutator_Chain_Functions"></a></p>
<h3><span class="mw-headline">Mutator Chain Functions</span></h3>
<p>These functions should call the same function of the next mutator in the <a href="../../../../articles/l/i/n/Legacy%7ELinked_List_d63f.html" title="Legacy:Linked List">linked list</a> of mutators. This can usually be done by calling the superclass. For example:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">function</span> ModifyPlayer<span class="br0">(</span><a href="/Pawn"><span class="kw10">Pawn</span></a> Other<span class="br0">)</span>
<span class="br0">{</span>
  <span class="co1">// do stuff here</span>
 
  <span class="kw6">Super</span>.<span class="me1">ModifyPlayer</span><span class="br0">(</span>Other<span class="br0">)</span>; <span class="co1">// this will call the next mutator in the chain</span>
<span class="br0">}</span>
</pre></div>
<p>Of course, since you have no control over the order of loaded mutators, you could just as easily call the Super function at the top of the function. It's traditional to put it at the bottom, but sometimes easier at the top.</p>
<p>For functions that return a value, you have to use your judgement on how to combine what you want to return with what other mutators might want to do.</p>
<dl>
<dt>function Mutate(string Command, PlayerController Sender)</dt>
<dd>Called when a player enters "mutate &lt;command&gt;" at the game console.</dd>
</dl>
<dl>
<dt>function string RecommendCombo(string ComboName)</dt>
<dd>This function can be used to recommend a combo (presumably to a bot) that works well with your mutator. This function will typically select a combo and then pass that selection on to the next mutator in the chain. The later the mutator is within the mutator chain the more likely that mutator's combo will be used. See the XGame.MutInstaGib class for an example.</dd>
</dl>
<dl>
<dt>function bool AlwaysKeep(Actor Other)</dt>
<dd>If this function returns true then the game will keep the actor passed from being destroyed - even if other actors wish to remove it. It's best to force the game to keep as few actors as possible as this ensures mod compatibility, so only return true from this function if you really really mean it. This function is called from CheckRelevance(). The default return value for this function is <i>false</i>. If you wish to avoid duplicating the mutator chain-walk code then at the end of your overridden method simply add the following line: <i>return bKeepActor | Super.AlwaysKeep(Other);</i> where bKeepActor is a local variable that contains true or false depending on whether your mutator wants to keep this actor or not.</dd>
</dl>
<dl>
<dt>function bool IsRelevant(Actor Other, out byte bSuperRelevant)</dt>
</dl>
<dl>
<dt>function ModifyPlayer(Pawn Other)</dt>
<dd>This function is called whenever a player spawns. It can be used to update the player's inventory, speed, and other attributes. This function should always call ModifyPlayer() on the next mutator in the chain (a call to the superclass method would do the trick).</dd>
</dl>
<dl>
<dt>function string GetInventoryClassOverride(string InventoryClassName)</dt>
<dd>This function is much like checkreplacement, but is specific to items added to an actor's Inventory chain. The function is called with the proposed inventory actor's class as an argument. If the string returned differs from the argument (you return the name of a different class) an actor of the class whos name was returned will be added to the Inventory chain instead of the original proposed actor.\\<b>Foxpaw:</b> The above is mostly speculative and derived from the way a function posted on the <a href="../../../../articles/h/e/l/Legacy%7EHelp_Desk_e07f.html" title="Legacy:Help Desk">Help Desk</a> appears to operate. Some confirmation that that is actually what it is doing would be nice.</dd>
</dl>
<dl>
<dt>function ModifyLogin(out string Portal, out string Options )</dt>
<dd>modify player login parameters.</dd>
</dl>
<p><b>Poltomb:</b> In some mutators, you may need to retrieve data from the Options string. The easiest way to do this is to use Level.Game.ParseOption(Options,OptionParameter) function ie:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
PlayerName = <span class="kw8">Level</span>.<span class="me1">Game</span>.<span class="me1">ParseOption</span><span class="br0">(</span>Options,<span class="st0">"Name"</span><span class="br0">)</span>;
</pre></div>
<p><a name="Other_Functions" id="Other_Functions"></a></p>
<h3><span class="mw-headline">Other Functions</span></h3>
<dl>
<dt>function AddMutator(Mutator M)</dt>
<dd>If a mutator has already been added to the game then this function may be used to add an additional mutator at the end of the mutator chain. Make sure that the Level.Game.BaseMutator reference actually points to a mutator before calling this function though.</dd>
</dl>
<dl>
<dt>function bool CheckReplacement(Actor Other, out byte bSuperRelevant)</dt>
<dd>This function should return true if the actor passed to the function can be replaced within the game. It is very similar to the AlwaysKeep() function except that it doesn't walk the mutator chain. By default this function returns <i>true</i>. This function can also be used if you want to change the attributes of an Actor on the map - simply increasing the amount of ammunition in ammo packs for example. If used for this purpose the Actor passed in is never replaced and the function should always return true.</dd>
</dl>
<p><a name="Related_Topics" id="Related_Topics"></a></p>
<h2><span class="mw-headline">Related Topics</span></h2>
<ul>
<li><a href="../../../../articles/g/a/m/Legacy%7EGameRules_2d19.html" title="Legacy:GameRules">GameRules</a> class</li>
<li><a href="../../../../articles/m/a/i/Legacy%7EMaintaining_Compatibility_7f4d.html" title="Legacy:Maintaining Compatibility">Maintaining Compatibility</a></li>
<li><a href="../../../../articles/w/r/i/Legacy%7EWriting_And_Using_An_Embedded_Mutator_7ab9.html" title="Legacy:Writing And Using An Embedded Mutator">Writing and Using an Embedded Mutator</a></li>
<li>Mutators/GameInfos&#160;: The difference</li>
</ul>
<p><a name="Discussion" id="Discussion"></a></p>
<h2><span class="mw-headline">Discussion</span></h2>
<p><b>Wormbo:</b> I'm not sure, how exactly the functions should be grouped. This page should be a kind of starting point for people who want to learn more about mutator functions.</p>
<p><b>Trystan:</b> How many functions are there, really? I guess what I'm saying is are there a large enough number of them of varying degrees of change to necessitate heavy categorization?</p>
<p><b>Wormbo:</b> Well, we could cut it down to functions that are meant to be overridden and those that shouldn't be touched if that would be neccessary. There are 22 functions in Engine.Mutator, including the one already listed here. Stuff like CheckReplacement should be overridden, ModifyPlayer should both be overridden and call the next mutator's ModifyPlayer, ReplaceWith is a function that is only helpful, but can't actually be overridden and it seems like CheckRelevance is only called for the base mutator and shouldn't be touched at all. So we have at least these four notable categories.</p>
<p><b>Trystan:</b> Mutator, Player, Weapon, Game?</p>
<p><b>EntropicLqd:</b> Good sections. A quick discussion (or link) to how mutators and game rules differ would be nice. We may have one (I've not checked).</p>

<!-- 
NewPP limit report
Preprocessor node count: 24/1000000
Post-expand include size: 167/2097152 bytes
Template argument size: 104/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../../articles/c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Category</a>: <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_Class_%28UT2003%29_1edb.html" title="Category:Legacy Class (UT2003)">Legacy Class (UT2003)</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/m/u/t/Legacy%7EMutator_6c1f.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/m/u/t/Legacy_talk%7EMutator_4e32.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:Mutator">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 22:00, 20 September 2007 by Anonymous user(s) of Unreal Wiki. </li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
