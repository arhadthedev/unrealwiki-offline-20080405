<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:Mutator Config GUI (UT2003) - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:Mutator Config GUI (UT2003)</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <p>Making a configuration window for your <a href="../../../../articles/m/u/t/Legacy%7EMutator_Topics_c760.html" title="Legacy:Mutator Topics">mutator</a> in <a href="../../../../articles/u/t/2/Legacy%7EUT2003_f97b.html" class="mw-redirect" title="Legacy:UT2003">UT2003</a>. Written By LedZep</p>
<p><b>NOTE:</b> If you want the <a href="../../../../articles/u/t/2/Legacy%7EUT2004_5921.html" class="mw-redirect" title="Legacy:UT2004">UT2004</a> version then please see <a href="../../../../articles/m/u/t/Legacy%7EMutator_Config_GUI_%28UT2004%29_04c9.html" title="Legacy:Mutator Config GUI (UT2004)">Mutator Config GUI (UT2004)</a>.</p>
<p>This tutorial will guide you through creating a simple mutator and a configuration window for it. This tutorial assumes that you have basic knowledge in <a href="../../../../articles/u/n/r/Legacy%7EUnrealScript_a9c5.html" title="Legacy:UnrealScript">UnrealScript</a> and that you know how to create <a href="../../../../articles/u/c/_/Legacy%7EUC_File_eea6.html" title="Legacy:UC File">UC files</a> and how to setup and compile them: see <a href="../../../../articles/s/e/t/Legacy%7ESetting_Up_UnrealScript_3ce8.html" title="Legacy:Setting Up UnrealScript">Setting Up UnrealScript</a>.</p>
<p>As an example, this tutorial will show you how to create a MultiJumping mutator and how to create a configuration window to setup it. You are not going to need any external files other than the ones you will create yourself.</p>
<p>For a class tree of the GUI components see <a href="../../../../articles/g/u/i/Legacy%7EGUI_Class_Hierarchy_4d32.html" title="Legacy:GUI Class Hierarchy">GUI Class Hierarchy</a>.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Creating_the_Mutator_Class"><span class="tocnumber">1</span> <span class="toctext">Creating the Mutator Class</span></a></li>
<li class="toclevel-1"><a href="#Creating_the_Configuration_Window_for_the_Mutator"><span class="tocnumber">2</span> <span class="toctext">Creating the Configuration Window for the Mutator</span></a></li>
<li class="toclevel-1"><a href="#Creating_the_INT_file"><span class="tocnumber">3</span> <span class="toctext">Creating the INT file</span></a></li>
<li class="toclevel-1"><a href="#The_Grand_Finale"><span class="tocnumber">4</span> <span class="toctext">The Grand Finale</span></a></li>
<li class="toclevel-1"><a href="#Comments"><span class="tocnumber">5</span> <span class="toctext">Comments</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Creating_the_Mutator_Class" id="Creating_the_Mutator_Class"></a></p>
<h2><span class="mw-headline">Creating the Mutator Class</span></h2>
<p>First we will create the mutator, basically it is going to have three components: the configurable variables, the ModifyPlayer function and the <a href="../../../../articles/d/e/f/Legacy%7EDefault_Properties_bc11.html" title="Legacy:Default Properties">Default Properties</a>. Here is how it is going to look like:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">Class</span> MultiJumpMut <span class="kw5">extends</span> <a href="/Mutator"><span class="kw10">Mutator</span></a> <span class="kw6">Config</span><span class="br0">(</span>User<span class="br0">)</span>;
 
<span class="kw5">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw6">config</span> <span class="kw4">int</span> MJMax, MJBoost;
 
<span class="kw5">function</span> ModifyPlayer<span class="br0">(</span><a href="/Pawn"><span class="kw10">Pawn</span></a> Other<span class="br0">)</span>
<span class="br0">{</span>
        <span class="kw5">local</span> xPawn x;
        x = xPawn<span class="br0">(</span>Other<span class="br0">)</span>;     <span class="co1">// Check if pawn is xPawn</span>
 
        <span class="kw1">if</span><span class="br0">(</span>x != <span class="kw9">None</span><span class="br0">)</span>          <span class="co1">// If it is, assign the new variables to it</span>
        <span class="br0">{</span>
                x.<span class="me1">MaxMultiJump</span> = MJMax;
                x.<span class="me1">MultiJumpBoost</span> = MJBoost;
        <span class="br0">}</span>
<span class="br0">}</span>
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
    IconMaterialName=<span class="st0">"MutatorArt.nosym"</span>
    ConfigMenuClassName=<span class="st0">"MultiJumpMutator.MJMutConfig"</span>        <span class="co1">// Note that this assumes that your package's name is MultiJumpMutator</span>
    GroupName=<span class="st0">"Jumping"</span>
    FriendlyName=<span class="st0">"MultiJumpMutator"</span>
    Description=<span class="st0">"Configure Your Multi Jumping Ability."</span>
    MJMax=<span class="nu0">1</span>
    MJBoost=<span class="nu0">25</span>
<span class="br0">}</span>
</pre></div>
<p>Note that I added "Config(User)" to the class declaration so it will know where to store its variables. When declaring Configurable variables, always put the word "config" after the "var" to let the compiler know that they are configurable. If you want those varibles to have default properties incase the user wont specify any, make your "var" look like this: "var()", and in the default properties section give those variable a value (dont forget that you dont use semi colons in the default properties section). See also <a href="../../../../articles/v/a/r/Legacy%7EVariable_Syntax_b9c7.html" title="Legacy:Variable Syntax">Variable Syntax</a>.</p>
<p>In this mutator's case, MJMax is the maximum number of extra jumps the player can make, and MJBoost is the boost each extra jump gives him. The ModifyPlayer function is really simple, it recieves a Pawn in its parameters, checks if it is an xPawn and then assigns our mutator's variables to the xPawn's variables. Now default props, basically what they do is give the mutator its name and its description, assign values to our configurable variable and specify our mutator's config class (which we will make in a second)</p>
<p><a name="Creating_the_Configuration_Window_for_the_Mutator" id="Creating_the_Configuration_Window_for_the_Mutator"></a></p>
<h2><span class="mw-headline">Creating the Configuration Window for the Mutator</span></h2>
<p>The ConfigWindow is a little more tricky, it has four parts to it; declaring the two edit boxes we are going to be using, the InitComponent and InternalOnClick functions and the DefaultProperties. First I'll give you the code, then I'll explain. Dont freak out when you see the Default Properties, it will all become clear to you very soon.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">class</span> MJMutConfig <span class="kw5">extends</span> GUIPage;
 
<span class="kw5">var</span> moEditBox MJCountBox, MJBoostBox;          <span class="co1">// Declare two EditBox type Variables</span>
 
<span class="co1">// Called when our GUI component is initiated (in this case our config window)</span>
<span class="kw5">function</span> InitComponent<span class="br0">(</span>GUIController MyController, GUIComponent MyOwner<span class="br0">)</span>
<span class="br0">{</span>
        <span class="kw6">Super</span>.<span class="me1">InitComponent</span><span class="br0">(</span>MyController, MyOwner<span class="br0">)</span>; <span class="co1">// Call Parent's InitComponent</span>
 
        <span class="co1">// Assign variables to EditBoxes that were created in the default properties</span>
        MJCountBox = moEditBox<span class="br0">(</span>Controls<span class="br0">[</span><span class="nu0">4</span><span class="br0">]</span><span class="br0">)</span>;
        MJBoostBox = moEditBox<span class="br0">(</span>Controls<span class="br0">[</span><span class="nu0">5</span><span class="br0">]</span><span class="br0">)</span>;
 
        <span class="co1">// Set the EditBoxes to be integer only because we are only dealing with numbers</span>
        MJCountBox.<span class="me1">IntOnly</span><span class="br0">(</span><span class="kw9">true</span><span class="br0">)</span>;
        MJBoostBox.<span class="me1">IntOnly</span><span class="br0">(</span><span class="kw9">true</span><span class="br0">)</span>;
 
        <span class="co1">// Set the EditBoxes' text to our mutator's config variables' values</span>
        MJCountBox.<span class="me1">SetText</span><span class="br0">(</span><span class="kw4">string</span><span class="br0">(</span><span class="kw5">class</span><span class="st0">'MultiJumpMut'</span>.<span class="kw1">default</span>.<span class="me1">MJMax</span><span class="br0">)</span><span class="br0">)</span>;
        MJBoostBox.<span class="me1">SetText</span><span class="br0">(</span><span class="kw4">string</span><span class="br0">(</span><span class="kw5">class</span><span class="st0">'MultiJumpMut'</span>.<span class="kw1">default</span>.<span class="me1">MJBoost</span><span class="br0">)</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="co1">// Called when the OK button is clicked</span>
<span class="kw5">function</span> <span class="kw4">bool</span> InternalOnClick<span class="br0">(</span>GUIComponent Sender<span class="br0">)</span>
<span class="br0">{</span>
        <span class="co1">// Set our Mutator's variables to the new variables that were set by the user</span>
        <span class="kw5">class</span><span class="st0">'MultiJumpMut'</span>.<span class="kw1">default</span>.<span class="me1">MJMax</span> = <span class="kw4">int</span><span class="br0">(</span>MJCountBox.<span class="me1">GetText</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span>;
        <span class="kw5">class</span><span class="st0">'MultiJumpMut'</span>.<span class="kw1">default</span>.<span class="me1">MJBoost</span> = <span class="kw4">int</span><span class="br0">(</span>MJBoostBox.<span class="me1">GetText</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span>;
 
        <span class="kw5">class</span><span class="st0">'MultiJumpMut'</span>.<span class="kw6">static</span>.<span class="kw7">StaticSaveConfig</span><span class="br0">(</span><span class="br0">)</span>;    <span class="co1">// Save all the Mutator's config variables</span>
 
        Controller.<span class="me1">CloseMenu</span><span class="br0">(</span><span class="kw9">false</span><span class="br0">)</span>;        <span class="co1">// Close the window</span>
 
        <span class="kw1">return</span> <span class="kw9">true</span>;  <span class="co1">// Return True (hard to figure out eh?) ;)</span>
<span class="br0">}</span>
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
        Begin <a href="/Object"><span class="kw10">Object</span></a> <span class="kw5">Class</span>=GUIButton <span class="kw4">name</span>=DialogBackground    <span class="co1">// The window's background</span>
                WinWidth=<span class="nu0">1.0</span>                   <span class="co1">// Set Window's width</span>
                WinHeight=<span class="nu0">1.0</span>                  <span class="co1">// Set Window's height</span>
                WinTop=<span class="nu0">0</span>                       <span class="co1">// Set the windows location on the Y axis</span>
                WinLeft=<span class="nu0">0</span>                      <span class="co1">// Set the windows location on the X axis</span>
                bAcceptsInput=<span class="kw9">false</span>            <span class="co1">// Since its just a background it wont accept input</span>
                bNeverFocus=<span class="kw9">true</span>               <span class="co1">// Just a background, no need for focus</span>
                StyleName=<span class="st0">"ComboListBox"</span>     <span class="co1">// The style of the background</span>
                bBoundToParent=<span class="kw9">true</span>            <span class="co1">// is it bound to its parent window?</span>
                bScaleToParent=<span class="kw9">true</span>            <span class="co1">// is it in scale to its parent window?</span>
        End <a href="/Object"><span class="kw10">Object</span></a>
        Controls<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span>=GUIButton<span class="st0">'DialogBackground'</span>     <span class="co1">// Sets Controls[0] to the DialogBackround</span>
 
        Begin <a href="/Object"><span class="kw10">Object</span></a> <span class="kw5">Class</span>=GUIButton <span class="kw4">Name</span>=OkButton    <span class="co1">// An "OK" Button</span>
                Caption=<span class="st0">"OK"</span>                         <span class="co1">// The button's caption</span>
                WinWidth=<span class="nu0">0.2</span>
                WinHeight=<span class="nu0">0.04</span>
                WinLeft=<span class="nu0">0.4</span>
                WinTop=<span class="nu0">0.63</span>
                OnClick=InternalOnClick                 <span class="co1">// Assigns the button's OnClick to our InternalOnClick function</span>
        End <a href="/Object"><span class="kw10">Object</span></a>
        Controls<span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span>=GUIButton<span class="st0">'OkButton'</span>                     <span class="co1">// Sets Controls[1] to the OkButton</span>
 
        Begin <a href="/Object"><span class="kw10">Object</span></a> <span class="kw5">class</span>=GUILabel <span class="kw4">Name</span>=DialogText   <span class="co1">// A text label</span>
                Caption=<span class="st0">"MultiJump Configuration"</span>
                TextALign=TXTA_Center                   <span class="co1">// Text allignment</span>
                TextColor=<span class="br0">(</span>R=<span class="nu0">220</span>,G=<span class="nu0">180</span>,B=<span class="nu0">0</span>,A=<span class="nu0">255</span><span class="br0">)</span> <span class="co1">// Text color</span>
                TextFont=<span class="st0">"UT2HeaderFont"</span>             <span class="co1">// Text font</span>
                WinWidth=<span class="nu0">1.000000</span>
                WinHeight=<span class="nu0">32.000000</span>
                WinLeft=<span class="nu0">0.000000</span>
                WinTop=<span class="nu0">0.325000</span>
        End <a href="/Object"><span class="kw10">Object</span></a>
        Controls<span class="br0">(</span><span class="nu0">2</span><span class="br0">)</span>=GUILabel<span class="st0">'DialogText'</span>
 
        Begin <a href="/Object"><span class="kw10">Object</span></a> <span class="kw5">class</span>=GUILabel <span class="kw4">Name</span>=DialogText2  <span class="co1">// Another text label</span>
                Caption=<span class="st0">"Configure your MultiJump Options (default JumpBoost is 25)"</span>
                TextALign=TXTA_Center
                TextColor=<span class="br0">(</span>R=<span class="nu0">220</span>,G=<span class="nu0">180</span>,B=<span class="nu0">0</span>,A=<span class="nu0">255</span><span class="br0">)</span>
                TextFont=<span class="st0">"UT2MenuFont"</span>
                WinWidth=<span class="nu0">1.000000</span>
                WinHeight=<span class="nu0">32.000000</span>
                WinLeft=<span class="nu0">0.000000</span>
                WinTop=<span class="nu0">0.390626</span>
        End <a href="/Object"><span class="kw10">Object</span></a>
        Controls<span class="br0">(</span><span class="nu0">3</span><span class="br0">)</span>=GUILabel<span class="st0">'DialogText2'</span>
 
        Begin <a href="/Object"><span class="kw10">Object</span></a> <span class="kw5">class</span>=moEditBox <span class="kw4">Name</span>=MJCounter   <span class="co1">// An edit box (for our MJMax)</span>
                WinWidth=<span class="nu0">0.431641</span>
                WinHeight=<span class="nu0">0.04</span>
                WinLeft=<span class="nu0">0.293750</span>
                WinTop=<span class="nu0">0.467448</span>
                Caption=<span class="st0">"Number of MultiJumps"</span>
                bReadOnly=<span class="kw9">false</span>                                <span class="co1">// Will take Input, therefor isn't readonly</span>
        End <a href="/Object"><span class="kw10">Object</span></a>
        Controls<span class="br0">(</span><span class="nu0">4</span><span class="br0">)</span>=moEditBox<span class="st0">'MJCounter'</span>            <span class="co1">// Set Controls[4] to the MJCounter</span>
 
        Begin <a href="/Object"><span class="kw10">Object</span></a> <span class="kw5">class</span>=moEditBox <span class="kw4">Name</span>=MJBooster   <span class="co1">// Another edit box (for our MJBoost)</span>
                WinWidth=<span class="nu0">0.431641</span>
                WinHeight=<span class="nu0">0.04</span>
                WinLeft=<span class="nu0">0.293750</span>
                WinTop=<span class="nu0">0.517448</span>
                Caption=<span class="st0">"MultiJump Boost"</span>
                bReadOnly=<span class="kw9">false</span>
        End <a href="/Object"><span class="kw10">Object</span></a>
        Controls<span class="br0">(</span><span class="nu0">5</span><span class="br0">)</span>=moEditBox<span class="st0">'MJBooster'</span>            <span class="co1">// Set Controls[5] to the MJBooster</span>
 
        <span class="co1">// The Window's own properties (MJMutConfig)</span>
        WinLeft=<span class="nu0">0</span>
        WinTop=<span class="nu0">0.3</span>
        WinWidth=<span class="nu0">1</span>
        WinHeight=<span class="nu0">0.4</span>
        bRequire640x480=<span class="kw9">True</span>           <span class="co1">// Required Minimum resolution</span>
<span class="br0">}</span>
</pre></div>
<p>First we have the Class Declaration, only one line, easy wasnt it? (note that you should subclass GUIPage) Then we have the variable declaration, also one line! you see how easy coding is? Well, only this time, since we are making editboxes, the variables are of the moEditBox type. Ok, now we will skip the two function (we will come back to them later) and go straight to the defaultprops. If you are new to UnrealScript, this might seem a little weird to you (it sure did to me), but dont worry, it is really simple! in the classic UT, we had to create around 3 or 4 classes just to make one window, basically what all this code does is create this window for you using only one class, how cool is that? To make it easy to understand for you I put a whole bunch of comments into it so just read through it and read the comments and it will give you the general idea. Basically, Begin Object creates an object, names it, manipulates its variables and then assigns it to something. It is commonly used in the UT2003 window system as followes:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
Begin <a href="/Object"><span class="kw10">Object</span></a> <span class="kw5">class</span>=&lt;ClassName&gt; <span class="kw4">Name</span>=&lt;ObjectName&gt;
                WinWidth=&lt;Width&gt;
                WinHeight=&lt;Height&gt;
                WinLeft=&lt;LocationOnXAxis&gt;
                WinTop=&lt;LocationOnYAxis&gt;
                &lt;OtherVars&gt;=&lt;OtherValues&gt;
        End <a href="/Object"><span class="kw10">Object</span></a>
        Controls<span class="br0">(</span>n<span class="br0">)</span>=&lt;ClassName&gt;<span class="st0">'&lt;ObjectName&gt;'</span>    <span class="co1">// n is the object's number - 1 (so the first object is 0)</span>
</pre></div>
<p>all what our DefaultProperties do is create a background, an "OK" Button, two text labels, two edit boxes and then set the variables for its own class (MJMutConfig). There are two important things you should note, one is "OnClick=InternalOnClick" which is found in the "OK" button's creation code. Basically what it does is call our InternalOnClick function whenever the "OK" button is clicked. The second important thing is that after the creation of each window, it is assigned to a Controls(n) (n being a number), this is important to us because we will soon use this.</p>
<p>Ok, we are done with the hard part, all what is left to do is the last two functions. the function InitComponent is pretty much like UT's Created, it is called when our GUI component is initiated. First it calls its parent's InitComponent to do all the important stuff of initiating the window. Then we assign the two moEditBoxes (that were created in the default properties) to our own EditBoxes.</p>
<p>Then we set them as IntOnly because we are only dealing with numbers, and finally we set their text to our mutator's configurable variables' values. Basically all what our InitComponent function does is getting our EditBoxes setup and ready to use. And our last function for this tutorial, InternalOnClick, which is called when the "OK" button is clicked. All this function does is set our mutator's variables to the new variables that were typed into the editboxes, then is saves all of our mutator's config variables (which is only two) and finally it closes the window.</p>
<p>And thats it!</p>
<p>By the way, you can also add checkboxes and combolists and all sorts of GUI components, look around the GUI components, or more specifically, look at moEditBox and moCheckBox and basically do the same thing with them as I did with moEditBox in this tutorial. (also look at their classes to see what kind of variables and functions they have)</p>
<p><a name="Creating_the_INT_file" id="Creating_the_INT_file"></a></p>
<h2><span class="mw-headline">Creating the INT file</span></h2>
<p>it is very simple, just follow this syntax:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="br0">[</span>Public<span class="br0">]</span>
<a href="/Object"><span class="kw10">Object</span></a>=<span class="br0">(</span><span class="kw5">Class</span>=<span class="kw5">Class</span>,MetaClass=Engine.<a href="/Mutator"><span class="kw10">Mutator</span></a>,<span class="kw4">Name</span>=&lt;PackageName&gt;.&lt;MutatorClass&gt;,Description=<span class="st0">"&lt;MutatorName&gt;,&lt;Description&gt;"</span><span class="br0">)</span>
</pre></div>
<p>so in our case, if lets say the mutator's package will be named MultiJumpMutator, our <a href="../../../../articles/i/n/t/Legacy%7EINT_File_d5d3.html" title="Legacy:INT File">INT File</a> will look like this:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="br0">[</span>Public<span class="br0">]</span>
<a href="/Object"><span class="kw10">Object</span></a>=<span class="br0">(</span><span class="kw5">Class</span>=<span class="kw5">Class</span>,MetaClass=Engine.<a href="/Mutator"><span class="kw10">Mutator</span></a>,<span class="kw4">Name</span>=MultiJumpMutator.<span class="me1">MultiJumpMut</span>,Description=<span class="st0">"MultiJump,Configure your multi jumping ability."</span><span class="br0">)</span>
</pre></div>
<p>and it will be named MultiJumpMutator.int</p>
<p><a name="The_Grand_Finale" id="The_Grand_Finale"></a></p>
<h2><span class="mw-headline">The Grand Finale</span></h2>
<p><a href="../../../../articles/c/o/m/Legacy%7ECompiling_With_UCC_0337.html" title="Legacy:Compiling With UCC">Compile</a> the whole enchilada, then start UT2003. Go to instant action and click on Mutators, in there find MultiJumpMutator, add it to the mutator list and click on Configure Mutator, the window we created will pop up and you will be able to change the values to whatever you want, then start a game session and see the mutator in action.</p>
<p>I hope you enjoyed this tutorial.</p>
<p>LedZep (for comments EMail me at LedZepperus@Yahoo.com)</p>
<p><a name="Comments" id="Comments"></a></p>
<h2><span class="mw-headline">Comments</span></h2>
<p><b>Dma:</b> Dude, you took my idea! <a href="../../../../articles/d/m/a/Legacy%7EDma_MutMultiJump_b073.html" title="Legacy:Dma/MutMultiJump">dma/MutMultiJump</a>&#160;:-)</p>
<p><b>RoninLord:</b> Using the property <b>bBoundToParent=true</b> in a widget, including GUIButtons etc., makes the <b>WinLeft</b> and <b>WinTop</b> properties relative to the parent widget. So <b>WinTop=0.9</b> is 90% of the parent widget, rather than 90% of the whole window.</p>
<p>This makes it easier to lay out widgets, especially if you later move the parent widget, you then don't have to adjust the properties of the child widgets.</p>
<p><b>LedZep:</b> Wow thanks for the info RoninLord. Dma, sorry if you also used this idea (although i came up with it by myself, i didnt steal anything&#160;:-D) but the real point of this tutorial is to teach you how to make a GUI Config window, not a multi jump mutator&#160;;-)</p>
<p><b>JoeDark:</b> Does this tut apply to UT or UT2003 so it can be filed correctly (if it already isn't). Please label it on here somewhere.</p>
<p><b>Wormbo:</b> Uhm, I found this at the top of the page:</p>
<blockquote class="legacyquote">
<p>Tutorial #1: Making a configuration window for your <a href="../../../../articles/m/u/t/Legacy%7EMutator_6c1f.html" title="Legacy:Mutator">mutator</a> in <a href="../../../../articles/u/t/2/Legacy%7EUT2003_f97b.html" class="mw-redirect" title="Legacy:UT2003">UT2003</a></p>
</blockquote>
<p><b>JoeDark:</b> LOL! It's late.. need sleep.</p>
<p><b>Tarquin:</b> This page isn't linked form anywhere useful. Could someone find it a home, eg <a href="../../../../articles/u/n/r/Legacy%7EUnrealScript_a9c5.html" title="Legacy:UnrealScript">UnrealScript</a>&#160;?</p>
<p><b>JoeDark:</b> Done.</p>
<p><b>LedZep:</b> Hehe JoeDark, it happens to everyone... Ill just make the title a bit bigger so it'll be easier to see&#160;;)</p>
<p><b>EntropicLqd:</b> If you follow the example above all positioning and scaling is relative to the window as a whole. This is fine if your dialog window (<i>with the dirty hack of using a button as the window background - ugh</i>) takes up the whole screen. If it doesn't then setting the <b>MenuOwner</b> proeprty to the background button will make all scalings relative to the actual button (the "real" window) - rather than the entire window itself. I found it made laying out the widgets a little easier.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">defaultproperties</span> <span class="br0">{</span>
  Begin <a href="/Object"><span class="kw10">Object</span></a> <span class="kw5">Class</span>=GUIButton <span class="kw4">name</span>=FMConfigBackground
    <span class="co1">// Blah blah blah</span>
  End <a href="/Object"><span class="kw10">Object</span></a>
  Begin <a href="/Object"><span class="kw10">Object</span></a> <span class="kw5">Class</span>=GUIButton <span class="kw4">Name</span>=FMOkButton
    <span class="co1">// Object properties go here and add the following to make everything relative to your config background:</span>
    bBoundToParent=<span class="kw9">true</span>
    bScaleToParent=<span class="kw9">true</span>
    MenuOwner=FMConfigBackground
  End <a href="/Object"><span class="kw10">Object</span></a>
</pre></div>
<p><b>EntropicLqd:</b> One other thing that is worth noting is that you can specify your own functions as callbacks from the OnChange events and such like. As long as the interface matches it works fine. For example I have three colour bar sliders that need to change the colour of a widget. Rather than use the "InternalOnChange" function I simply created my own and set the OnChange property appropriately. Example below:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="co1">// I define the callback function I want to use to handle my three colour bar sliders</span>
<span class="kw5">function</span> ColourSliderChanged<span class="br0">(</span>GUIComponent Sender<span class="br0">)</span> <span class="br0">{</span>
  <span class="co1">// Code goes in here</span>
<span class="br0">}</span>
 
<span class="co1">// And then in the default property section of my slider I set the following property:</span>
Begin <a href="/Object"><span class="kw10">Object</span></a> <span class="kw5">class</span>=GUISlider <span class="kw4">Name</span>=FMRedSlider
  OnChange=ColourSliderChanged
  <span class="co1">// Rest of details</span>
End <a href="/Object"><span class="kw10">Object</span></a>
</pre></div>
<p><b>Brox:</b> How would you create a new class (also extended from GUIPage) in the onClick function of a button?</p>
<p><b>EntropicLqd:</b> Like this: Code is taken from XInterface.Tab_InstantActionMutators.uc</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">function</span> <span class="kw4">bool</span> MutConfigClick<span class="br0">(</span> GUIComponent Sender <span class="br0">)</span> <span class="br0">{</span>
  <span class="kw1">if</span><span class="br0">(</span>MutConfigMenu == <span class="st0">""</span><span class="br0">)</span>
    <span class="kw1">return</span> <span class="kw9">true</span>;
  <span class="co1">// In this case MutConfigMenu is set to the value of the Mutator.ConfigMenuClassName property</span>
  Controller.<span class="me1">OpenMenu</span><span class="br0">(</span> MutConfigMenu <span class="br0">)</span>;
  <span class="kw1">return</span> <span class="kw9">true</span>;
<span class="br0">}</span>
 
<span class="co1">// And as for the actual button definition - I've cut out all bar the relevant properties</span>
Begin <a href="/Object"><span class="kw10">Object</span></a> <span class="kw5">Class</span>=GUIButton <span class="kw4">Name</span>=IAMutatorConfig
  OnClick=MutConfigClick
End <a href="/Object"><span class="kw10">Object</span></a>
</pre></div>
<p><b>the_viking:</b> But how can I create a GUIPage where i might display the contents of my inventory?</p>
<p>Where do I have to put my code into?</p>
<p><b>spoon:</b> You can have an in-game GUIPage by using <b>ClientOpenMenu</b>. Just create a GUIPage, then call ClientOpenMenu from a mutate command or an exec function. The above GUIPage information still applies.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">function</span> Mutate<span class="br0">(</span> <span class="kw4">string</span> MutateString, PlayerController Sender <span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">if</span><span class="br0">(</span> <span class="kw7">Caps</span><span class="br0">(</span> <span class="kw7">Left</span><span class="br0">(</span> MutateString, <span class="nu0">3</span> <span class="br0">)</span> <span class="br0">)</span> == <span class="st0">"INV"</span> <span class="br0">)</span>
    <span class="br0">{</span>
      Sender.<span class="me1">ClientOpenMenu</span><span class="br0">(</span> <span class="st0">"GUIInvPage"</span> <span class="br0">)</span>;
    <span class="br0">}</span>
    <span class="kw6">Super</span>.<span class="me1">Mutate</span><span class="br0">(</span> MutateString, Sender <span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
<p>Your GUIPage class will have to play a nice game of find-the-actor since you can't pass anything.</p>
<p><b>VonStrohmen:</b> In what instances do WinHeight/Width and WinTop/Left correspond to actual pixel coordinates versus fractions of the parent window? It seems to me that if I set any of those variables to be a decimal value less than 1 (e.g. 0.5) it translates that to percent, whereas greater than one is interpreted as a pixel coordinate. However, it doesn't always seem to work that way. Any advice?</p>
<p>Also, why does Controls(n) work? I thought dynamic arrays use [] instead of ().</p>
<p><b>Wormbo:</b> <a href="../../../../articles/d/e/f/Legacy%7EDefault_Properties_bc11.html" title="Legacy:Default Properties">Default Properties</a> are always different.&#160;;) The size/position properties really work the way you described, but the position of a <a href="../../../../articles/g/u/i/Legacy%7EGUIComponent_61d8.html" title="Legacy:GUIComponent">GUIComponent</a> depends on more than just WinTop/Left and its size depends on more than just WinHeight/Width. There are also the bBoundToParent and bScaleWithParent properties which affect the position and size of a control.</p>
<p><b>VonStrohmen:</b> I experimented with those as well, with mixed results. Then I realized that I never set the properties of the GUIPage itself. That seemed to help.</p>
<hr />
<p><b>EntropicLqd:</b> Any chance someone could rename this page to <strong class="selflink">Mutator Config GUI (UT2003)</strong>?</p>
<p><b>Mr.bob:</b> Help out a poor newb here, You said "The second important thing is that after the creation of each window, it is assigned to a Controls(n) (n being a number), this is important to us because we will soon use this."</p>
<p>And then you never used it? What does control(n) do anyway?</p>
<p>I have another problem. I took the text that was shown, copied an pasted it into a .uc file. Then it tired to compile it, everything went fine until it said:</p>
<p>Parsing MultiJumpMut</p>
<p>C;\UT2004\MultijumpMut\ClassesMultiJumpMut.uc&lt;20&gt;&#160;: Error Unexpected 'class'</p>
<p>Complie aborted due to errors.</p>
<p>Failure - 1 error, 0 warnings</p>
<p>Yes I did change the code so it knew that it was MultiJumpMut instead of MultiJumpMutator, also you may have noticed that I have Unreal Tourny 2004. I have never had 2003</p>
<p><b>Tarquin:</b> I am not sure it is useful for this tutorial page to include an actual mutator – it rather detracts from the point, doesn't it?</p>
<p><b>M.r.bob:</b> I see what you mean, but I exspected to see what this code did, and then change it so it did something else, and that way figure out how code like this worked. Anyway I found out my problem, GUI's work very different in 2004 then in 2003.</p>

<!-- 
NewPP limit report
Preprocessor node count: 41/1000000
Post-expand include size: 207/2097152 bytes
Template argument size: 108/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../../articles/c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Categories</a>: <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_Tutorial_261e.html" title="Category:Legacy Tutorial">Legacy Tutorial</a></span> | <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_Refactor_Me_699c.html" title="Category:Legacy Refactor Me">Legacy Refactor Me</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/m/u/t/Legacy%7EMutator_Config_GUI_%28UT2003%29_ca5a.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/m/u/t/Legacy_talk%7EMutator_Config_GUI_%28UT2003%29_38c7.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:Mutator_Config_GUI_%28UT2003%29">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 16:40, 20 June 2004 by Anonymous user(s) of Unreal Wiki. </li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
