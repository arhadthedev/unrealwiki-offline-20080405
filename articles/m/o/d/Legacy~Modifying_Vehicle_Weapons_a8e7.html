<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:Modifying Vehicle Weapons - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:Modifying Vehicle Weapons</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <p>This is tutorial is for UT2004 and UEd3</p>
<p>I (<a href="../../../../articles/b/l/i/Legacy%7EBlip2_75fc.html" title="Legacy:Blip2">blip2</a>) have noticed how many people often ask who to change the weapons on a vehicle - I myself asked a similar question and after 25 replies managed to get a result - not perfect but OK. But anyhow i have decided to help unclog the forums and write a tutorial.</p>
<p>The going on this may be slow as it is quite hard and there are thousands of possibilities for weapon changes.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Let.27s_get_started"><span class="tocnumber">1</span> <span class="toctext">Let's get started</span></a></li>
<li class="toclevel-1"><a href="#Copying_your_vehicle"><span class="tocnumber">2</span> <span class="toctext">Copying your vehicle</span></a></li>
<li class="toclevel-1"><a href="#Modifying_the_vehicle"><span class="tocnumber">3</span> <span class="toctext">Modifying the vehicle</span></a></li>
<li class="toclevel-1"><a href="#Modifying_the_vehicle_weapon"><span class="tocnumber">4</span> <span class="toctext">Modifying the vehicle weapon</span></a></li>
<li class="toclevel-1"><a href="#Compiling_the_scripts"><span class="tocnumber">5</span> <span class="toctext">Compiling the scripts</span></a></li>
<li class="toclevel-1"><a href="#Extending_the_changes"><span class="tocnumber">6</span> <span class="toctext">Extending the changes</span></a></li>
<li class="toclevel-1"><a href="#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1"><a href="#Related_Topics"><span class="tocnumber">8</span> <span class="toctext">Related Topics</span></a></li>
<li class="toclevel-1"><a href="#Discussion"><span class="tocnumber">9</span> <span class="toctext">Discussion</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Let.27s_get_started" id="Let.27s_get_started"></a></p>
<h3><span class="mw-headline">Let's get started</span></h3>
<p>The only prerequisite for this tutorial is <a href="../../../../articles/s/e/t/Legacy%7ESetting_Up_UnrealScript_3ce8.html" title="Legacy:Setting Up UnrealScript">Setting Up UnrealScript</a>. This tutorial assumes you have <a href="../../../../articles/u/m/a/Legacy%7EUMake_c884.html" title="Legacy:UMake">UMake</a> along with a basic <a href="../../../../articles/t/e/x/Legacy%7EText_Editor_a641.html" title="Legacy:Text Editor">text editor</a>.</p>
<p><a name="Copying_your_vehicle" id="Copying_your_vehicle"></a></p>
<h2><span class="mw-headline">Copying your vehicle</span></h2>
<p>First, <a href="../../../../articles/s/e/t/Legacy%7ESet_Up_Package_Folders_6a30.html" title="Legacy:Set Up Package Folders">Set Up Package Folders</a> for the project. For the purposes of this tutorial I will use the project I am working on, "Shockmanta": this describes the weapon (shock balls) and the base vehicle (manta) and therefore is suitable.</p>
<p>e.g:</p>
<pre>
c:\UT2004&gt; mkdir MyPackage
c:\UT2004&gt; mkdir MyPackage\Classes
c:\UT2004&gt; cd MyPackage\Classes
</pre>
<p>Note: this is not a tutorial on creating a new vehicle. We are simply taking a base vehicle and substituting its weapons for others that already exist in the game. Choose your vehicle and get the class file for it,</p>
<p>Read <a href="../../../../articles/s/e/t/Legacy%7ESetting_Up_UnrealScript_3ce8.html" title="Legacy:Setting Up UnrealScript">Setting Up UnrealScript</a> for more information</p>
<p>A few points on where to find them</p>
<ul>
<li>The .uc files are within classes directories of the root folders</li>
<li>A cheat sheet is a good place to start as the cheat goes</li>
</ul>
<pre>
summon.(foldername).(classfile)
</pre>
<p>e.g.</p>
<pre>
summon.onslaught.onshoverbike
</pre>
<p>...summons a manta</p>
<p>So copy the class file for the vehicle into the new folder</p>
<p>e.g:</p>
<pre>
c:\UT2004\MyPackage\Classes&gt; copy C:\UT2004\Onslaught\Classes\ONSHoverBike.uc .\ShockManta.uc
</pre>
<p><a name="Modifying_the_vehicle" id="Modifying_the_vehicle"></a></p>
<h2><span class="mw-headline">Modifying the vehicle</span></h2>
<p>This is really just a case working it out yourself but i will give you a few guide lines to get you on your way</p>
<ul>
<li>Change the file name of the Vehicle you want to modify</li>
</ul>
<p>eg.</p>
<p>ONSHoverBike.uc to ShockManta.uc</p>
<ul>
<li>At the top in the file there is a line that says:</li>
</ul>
<p>class ONSHoverBike extends ONSHoverCraft</p>
<p>change it to:</p>
<p>class ShockManta extends ONSHoverBike</p>
<ul>
<li>You must set the class to the name of the .uc file otherwise it will not compile</li>
<li>If you are only modifying the weapon it is probably best to extend the original vehicle (ONSHoverBike) but if you are going to do some serious modification you are best subclassing the vehicle class and copying the code from a vehicle within it</li>
</ul>
<p>eg.</p>
<p>class ShockManta extends ONSHoverCraft</p>
<p>Code from ONSHoverBike (which you can then modify)</p>
<p><a name="Modifying_the_vehicle_weapon" id="Modifying_the_vehicle_weapon"></a></p>
<h2><span class="mw-headline">Modifying the vehicle weapon</span></h2>
<p>For weapons it is probably best to start with the <i>default properties</i> section (near the bottom)</p>
<p>You will find a line that starts with DriverWeapons(0)=</p>
<p>The Weaponclass is the code for the bit that fires (I will go on to this later) and the weaponbone is the bone in the sceletal mesh that the firing bit is attached to (don't change it unless you've make your own vehicle and know the bone names)</p>
<p>You could change it to something like this:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
DriverWeapons<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span>=<span class="br0">(</span>WeaponClass=<span class="kw5">class</span><span class="st0">'OnslaughtBP.ONSShockTankCannon'</span>,WeaponBone=PlasmaGunAttachment<span class="br0">)</span>;
</pre></div>
<p>You're best off getting the WeaponClass from another vehicle (open the class and paste it into the new vehicle)</p>
<p>This is the primary weapons control for just about all vehicles (driver) and as you can probably see all I have done is replaced the manta weapon with the same bit in the ONSShocktank .uc file (OnslaughtBP folder if you are interested)</p>
<p>Passenger weapons are similar</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
PassengerWeapons<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span>=<span class="br0">(</span>WeaponPawnClass=<span class="kw5">class</span><span class="st0">'ONSTankSecondaryTurretPawn'</span>,WeaponBone=MachineGunTurret<span class="br0">)</span>
</pre></div>
<p>I have used the Goliath mini gun as an example.</p>
<p>Multiple passengers have the similar properties e.g. the Leviathan</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
DriverWeapons<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span>=<span class="br0">(</span>WeaponClass=<span class="kw5">class</span><span class="st0">'OnslaughtFull.ONSMASRocketPack'</span>,WeaponBone=RocketPackAttach<span class="br0">)</span>;
    DriverWeapons<span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span>=<span class="br0">(</span>WeaponClass=<span class="kw5">class</span><span class="st0">'OnslaughtFull.ONSMASCannon'</span>,WeaponBone=MainGunPostBase<span class="br0">)</span>;
        PassengerWeapons<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span>=<span class="br0">(</span>WeaponPawnClass=<span class="kw5">class</span><span class="st0">'OnslaughtFull.ONSMASSideGunPawn'</span>,WeaponBone=RightFrontGunAttach<span class="br0">)</span>;
        PassengerWeapons<span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span>=<span class="br0">(</span>WeaponPawnClass=<span class="kw5">class</span><span class="st0">'OnslaughtFull.ONSMASSideGunPawn'</span>,WeaponBone=LeftFrontGunAttach<span class="br0">)</span>;
        PassengerWeapons<span class="br0">(</span><span class="nu0">2</span><span class="br0">)</span>=<span class="br0">(</span>WeaponPawnClass=<span class="kw5">class</span><span class="st0">'OnslaughtFull.ONSMASSideGunPawn'</span>,WeaponBone=RightRearGunAttach<span class="br0">)</span>;
        PassengerWeapons<span class="br0">(</span><span class="nu0">3</span><span class="br0">)</span>=<span class="br0">(</span>WeaponPawnClass=<span class="kw5">class</span><span class="st0">'OnslaughtFull.ONSMASSideGunPawn'</span>,WeaponBone=LeftRearGunAttach<span class="br0">)</span>;
</pre></div>
<p>Note that passenger weapons classes are a subclass of WeaponPawn whereas the main weapon is subclass of Weapon.</p>
<p>The driver's alt fire is different from vehicle to vehicle. The manta crushes, the goliath zooms, the leviathan deploys. Maybe the raptor is the place to start if you want the driver to be able to fire multiple weapons. You are looking for something like:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">function</span> AltFire
</pre></div>
<p>And again just copy the bits you need</p>
<ul>
<li>Don't forget the name of your .uc must match the classname of your modified vehicle. NEVER EDIT THE ORIGINAL FILES or you will break network play.</li>
</ul>
<p><a name="Compiling_the_scripts" id="Compiling_the_scripts"></a></p>
<h2><span class="mw-headline">Compiling the scripts</span></h2>
<ol>
<li>Open UMake</li>
<li>Put in C:\UT2004\(your folder name)</li>
<li>Click 'compile'</li>
<li>It will go through a list of packages</li>
<li>If it fails, go up the list (in details) and find the bits in red (if you can't find any then it has probably compiled OK [please tell me if I'm wrong]) try to find the problem in the code (the red text may give a hint) and try to compile again - if the problem reoccurs try rewriting the code all over - you can also try the Atari forums (programming section) and PM me if you are really desperate (blip2)</li>
<li>Once you're compiled go into UEd and in the actor browser open the .u file in the system directory with your modified vehicle's name in it you should then be able to get the vehicle by placing an ONSFactory (it doesn't matter which one [I used ONSArtilleryFactory completely at random] and changed the SVehicleFactory &gt;&gt; VehicleClass property to your vehicle (it should show up in the list if you did everything properly)</li>
</ol>
<p><a name="Extending_the_changes" id="Extending_the_changes"></a></p>
<h2><span class="mw-headline">Extending the changes</span></h2>
<p>Often just changing the basic weapon is not enough i.e. you want to change the power/speed etc. of the weapon so...</p>
<p>You do basically the same thing as you did with the first script. What you need to look for is in your first script (see above) for something that looks like the extention of the weapon, this will be found in the default properties under something like projectileclass etc.</p>
<p>You then find the script file for this (referred to as [rta] old file) and similar to above you change the file name and the internal class name at the top, save it ([rta]new file) and go back to your first script(the one above). Then change the place where you found the file name to your new file (don't forget to put the rootfolderofyourmod.thenewfilename in correctly), also make sure that all of the references of the old file are replaced with you new file. Wow it's complicated when you try to explain it (this probably means its hard to understand).</p>
<p>Again you either have the knack or you don't in which case I suggest getting someone to do it for you (I wish you luck&#160;:-D)</p>
<p>–Turrets (ToDo)–</p>
<p><a name="See_also" id="See_also"></a></p>
<h2><span class="mw-headline">See also</span></h2>
<ul>
<li><a href="../../../../articles/v/e/h/Legacy%7EVehicle_Weapon_Changer_Gun_a076.html" title="Legacy:Vehicle Weapon Changer Gun">Vehicle Weapon Changer Gun</a></li>
</ul>
<p><a name="Related_Topics" id="Related_Topics"></a></p>
<h2><span class="mw-headline">Related Topics</span></h2>
<ul>
<li><a href="../../../../articles/m/a/k/Legacy%7EMaking_Mods_187d.html" title="Legacy:Making Mods">Making Mods</a></li>
<li><a href="../../../../articles/v/e/h/Legacy%7EVehicles_acc3.html" title="Legacy:Vehicles">Vehicles</a></li>
</ul>
<p><a name="Discussion" id="Discussion"></a></p>
<h2><span class="mw-headline">Discussion</span></h2>
<p>See <a href="../../../../articles/m/o/d/Legacy%7EModifying_Vehicle_Weapons_Discussion_dea4.html" title="Legacy:Modifying Vehicle Weapons/Discussion">Legacy:Modifying Vehicle Weapons/Discussion</a></p>

<!-- 
NewPP limit report
Preprocessor node count: 25/1000000
Post-expand include size: 56/2097152 bytes
Template argument size: 0/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../../articles/c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Category</a>: <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_Tutorial_261e.html" title="Category:Legacy Tutorial">Legacy Tutorial</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/m/o/d/Legacy%7EModifying_Vehicle_Weapons_a8e7.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/m/o/d/Legacy_talk%7EModifying_Vehicle_Weapons_d6b2.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:Modifying_Vehicle_Weapons">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 18:44, 22 January 2007 by Anonymous user(s) of Unreal Wiki. </li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
