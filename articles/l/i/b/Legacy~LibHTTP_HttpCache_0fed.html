<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:LibHTTP/HttpCache - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:LibHTTP/HttpCache</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"><span class="subpages">&lt; <a href="../../../../articles/l/i/b/Legacy%7ELibHTTP_dd21.html" title="Legacy:LibHTTP">Legacy:LibHTTP</a></span></div>
	    	    	    <!-- start content -->
	    <div class="infobox infobox-class infobox-legacy"><a href="../../../../articles/u/t/2/Legacy%7EUT2004_5921.html" class="mw-redirect" title="Legacy:UT2004">UT2004</a>&#160;:: <a href="../../../../articles/o/b/j/Legacy%7EObject_f294.html" title="Legacy:Object">Object</a> &gt;&gt; <a href="../../../../articles/a/c/t/Legacy%7EActor_5985.html" title="Legacy:Actor">Actor</a> &gt;&gt; <a href="../../../../articles/i/n/f/Legacy%7EInfo_6292.html" title="Legacy:Info">Info</a> &gt;&gt; HttpCache</div>
<p>Disk\Memory cache for <a href="../../../../articles/l/i/b/Legacy%7ELibHTTP_dd21.html" title="Legacy:LibHTTP">LibHTTP</a>, it will handle caching of data. To use it simply create a HttpCache object and use it's get() request to get updated documents. Don't use a HttpSock instance for this.</p>
<p>When using this class it will perform a specially constructed get request when it's needed, it will try to satisfy the caching headers returned by the server. Ihis class is only usefull if you know the remote server returns correct cachable data. By default most dynamic pages (ASP, PHP, Perl, CGI) will return non-cachable pages.</p>
<table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Properties"><span class="tocnumber">1</span> <span class="toctext">Properties</span></a>
<ul>
<li class="toclevel-2"><a href="#Options"><span class="tocnumber">1.1</span> <span class="toctext">Options</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Enums"><span class="tocnumber">2</span> <span class="toctext">Enums</span></a>
<ul>
<li class="toclevel-2"><a href="#ECacheFailError"><span class="tocnumber">2.1</span> <span class="toctext">ECacheFailError</span></a></li>
<li class="toclevel-2"><a href="#EDataOrigin"><span class="tocnumber">2.2</span> <span class="toctext">EDataOrigin</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Structures"><span class="tocnumber">3</span> <span class="toctext">Structures</span></a>
<ul>
<li class="toclevel-2"><a href="#CacheInfoRecord"><span class="tocnumber">3.1</span> <span class="toctext">CacheInfoRecord</span></a></li>
<li class="toclevel-2"><a href="#CacheRequest"><span class="tocnumber">3.2</span> <span class="toctext">CacheRequest</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Delegates"><span class="tocnumber">4</span> <span class="toctext">Delegates</span></a></li>
<li class="toclevel-1"><a href="#Functions"><span class="tocnumber">5</span> <span class="toctext">Functions</span></a></li>
<li class="toclevel-1"><a href="#Events"><span class="tocnumber">6</span> <span class="toctext">Events</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Properties" id="Properties"></a></p>
<h2><span class="mw-headline">Properties</span></h2>
<dl>
<dt>array&lt;CacheInfoRecord&gt; CacheList&#160;</dt>
<dd>cache list, each entry is an URL</dd>
</dl>
<dl>
<dt>array&lt;HttpCacheObject&gt; CacheObjectList&#160;</dt>
<dd>the spawned cache objects</dd>
</dl>
<dl>
<dt>class&lt;HttpCacheObject&gt; HttpCacheObjectClass&#160;</dt>
</dl>
<dl>
<dt>class&lt;HttpSock&gt; HttpSockClass&#160;</dt>
</dl>
<dl>
<dt>array&lt;CacheRequest&gt; Requests&#160;</dt>
<dd>running requests</dd>
</dl>
<p><a name="Options" id="Options"></a></p>
<h3><span class="mw-headline">Options</span></h3>
<dl>
<dt>int iCacheLimit&#160;</dt>
<dd>maximum cache size (entries?)</dd>
</dl>
<p><a name="Enums" id="Enums"></a></p>
<h2><span class="mw-headline">Enums</span></h2>
<p><a name="ECacheFailError" id="ECacheFailError"></a></p>
<h3><span class="mw-headline">ECacheFailError</span></h3>
<p>Reasons for a failure</p>
<dl>
<dt>CF_None&#160;</dt>
<dt>CF_BadRequest&#160;</dt>
<dt>CF_AuthRequired&#160;</dt>
<dt>CF_Timeout&#160;</dt>
<dt>CF_ResolveFailed&#160;</dt>
<dt>CF_Busy&#160;</dt>
<dt>CF_Unknown&#160;</dt>
</dl>
<p><a name="EDataOrigin" id="EDataOrigin"></a></p>
<h3><span class="mw-headline">EDataOrigin</span></h3>
<p>Hints where the data came from</p>
<dl>
<dt>DO_Unknown&#160;</dt>
<dt>DO_Cache&#160;</dt>
<dt>DO_Initial&#160;</dt>
<dt>DO_Refresh&#160;</dt>
</dl>
<p><a name="Structures" id="Structures"></a></p>
<h2><span class="mw-headline">Structures</span></h2>
<p><a name="CacheInfoRecord" id="CacheInfoRecord"></a></p>
<h3><span class="mw-headline">CacheInfoRecord</span></h3>
<p>records of the cached entries</p>
<dl>
<dt>int colidx&#160;</dt>
<dd>index in the CacheObjectList, volatile</dd>
</dl>
<dl>
<dt>int DataSize&#160;</dt>
<dd>last datazie</dd>
</dl>
<dl>
<dt>int Hash&#160;</dt>
<dd>hash used for record info</dd>
</dl>
<dl>
<dt>int LastUpdate&#160;</dt>
<dd>last update</dd>
</dl>
<dl>
<dt>HttpUtil.xURL URL&#160;</dt>
<dd>the request URL</dd>
</dl>
<p><a name="CacheRequest" id="CacheRequest"></a></p>
<h3><span class="mw-headline">CacheRequest</span></h3>
<dl>
<dt>int idx&#160;</dt>
<dt>HttpSock Socket&#160;</dt>
</dl>
<p><a name="Delegates" id="Delegates"></a></p>
<h2><span class="mw-headline">Delegates</span></h2>
<dl>
<dt>OnComplete(HttpCache Sender, HttpCacheObject Data, EDataOrigin origin )</dt>
<dd>Will be called when the operation was completed successfully.</dd>
</dl>
<dl>
<dt>int OnCreateSock(HttpCache Sender, HttpSock Socket )</dt>
<dd>Will be called after the HttpSock instance has been created. Use it to set certain variables and delegates for the HttpSock.<br />
Note: You shouldn't set any delegates in the sccket, most will be overwritten anyway.</dd>
</dl>
<dl>
<dt>OnError(HttpCache Sender, string ErrorMessage, optional string Param1, optional string Param2 )</dt>
<dd>Will be called in case of an internal error.</dd>
</dl>
<dl>
<dt>OnFail(HttpCache Sender, int idx, ECacheFailError reason )</dt>
<dd>failed to complete the request, will be called when everything fails</dd>
</dl>
<p><a name="Functions" id="Functions"></a></p>
<h2><span class="mw-headline">Functions</span></h2>
<dl>
<dt>CacheCleanup( )</dt>
<dd>Clean up the cache</dd>
</dl>
<dl>
<dt>int createHash(string URL )</dt>
<dd>return the hash of the URL</dd>
</dl>
<dl>
<dt>DownloadComplete(HttpSock Sender )</dt>
<dt>DownloadError(HttpSock Sender, string ErrorMessage, optional string Param1, optional string Param2 )</dt>
<dt>DownloadTimeout(HttpSock Sender )</dt>
<dt>int findCacheRecord(int hash )</dt>
<dd>find an idx using a hash</dd>
</dl>
<dl>
<dt>int get(string location )</dt>
<dd>Performs a get request. Returns the ID of the request. This Id can be used in to retrieve the URL in the future</dd>
</dl>
<dl>
<dt>HttpCacheObject getCacheObject(int idx )</dt>
<dd>get\create a CacheObject</dd>
</dl>
<dl>
<dt>bool getURLbyId(int id, out string URL )</dt>
<dd>Returns the URL for a certain ID. Result will be false when the ID is no longer valid.</dd>
</dl>
<dl>
<dt>bool isCached(string location )</dt>
<dd>Returns true when the location is cached</dd>
</dl>
<dl>
<dt>ResolveFailed(HttpSock Sender, string hostname )</dt>
</dl>
<p><a name="Events" id="Events"></a></p>
<h2><span class="mw-headline">Events</span></h2>
<dl>
<dt>PreBeginPlay( )</dt>
</dl>

<!-- 
NewPP limit report
Preprocessor node count: 20/1000000
Post-expand include size: 210/2097152 bytes
Template argument size: 137/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    <div id="catlinks"><p class='catlinks'><a href="../../../../articles/c/a/t/Special%7ECategories_101d.html" title="Special:Categories">Category</a>: <span dir='ltr'><a href="../../../../articles/l/e/g/Category%7ELegacy_Custom_Class_%28UT2004%29_0b8c.html" title="Category:Legacy Custom Class (UT2004)">Legacy Custom Class (UT2004)</a></span></p></div>	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/l/i/b/Legacy%7ELibHTTP_HttpCache_0fed.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/l/i/b/Legacy_talk%7ELibHTTP_HttpCache_9879.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:LibHTTP/HttpCache">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 15:14, 19 November 2007 by Anonymous user(s) of Unreal Wiki. </li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
