<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:Linked List/Existing Lists In Unreal Tournament - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:Linked List/Existing Lists In Unreal Tournament</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"><span class="subpages">&lt; <a href="../../../../articles/l/i/n/Legacy%7ELinked_List_d63f.html" title="Legacy:Linked List">Legacy:Linked List</a></span></div>
	    	    	    <!-- start content -->
	    <table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Existing_Lists_in_Unreal_Tournament"><span class="tocnumber">1</span> <span class="toctext">Existing Lists in Unreal Tournament</span></a>
<ul>
<li class="toclevel-2"><a href="#Actor_List"><span class="tocnumber">1.1</span> <span class="toctext">Actor List</span></a>
<ul>
<li class="toclevel-3"><a href="#Type_and_Scope"><span class="tocnumber">1.1.1</span> <span class="toctext">Type and Scope</span></a></li>
<li class="toclevel-3"><a href="#Adding_and_Removing"><span class="tocnumber">1.1.2</span> <span class="toctext">Adding and Removing</span></a></li>
<li class="toclevel-3"><a href="#Navigating"><span class="tocnumber">1.1.3</span> <span class="toctext">Navigating</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Inventory_List"><span class="tocnumber">1.2</span> <span class="toctext">Inventory List</span></a>
<ul>
<li class="toclevel-3"><a href="#Type_and_Scope_2"><span class="tocnumber">1.2.1</span> <span class="toctext">Type and Scope</span></a></li>
<li class="toclevel-3"><a href="#Adding_and_Removing_2"><span class="tocnumber">1.2.2</span> <span class="toctext">Adding and Removing</span></a></li>
<li class="toclevel-3"><a href="#Navigating_2"><span class="tocnumber">1.2.3</span> <span class="toctext">Navigating</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Pawn_List"><span class="tocnumber">1.3</span> <span class="toctext">Pawn List</span></a>
<ul>
<li class="toclevel-3"><a href="#Type_and_Scope_3"><span class="tocnumber">1.3.1</span> <span class="toctext">Type and Scope</span></a></li>
<li class="toclevel-3"><a href="#Adding_and_Removing_3"><span class="tocnumber">1.3.2</span> <span class="toctext">Adding and Removing</span></a></li>
<li class="toclevel-3"><a href="#Navigating_3"><span class="tocnumber">1.3.3</span> <span class="toctext">Navigating</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Navigation_Point_List"><span class="tocnumber">1.4</span> <span class="toctext">Navigation Point List</span></a>
<ul>
<li class="toclevel-3"><a href="#Type_and_Scope_4"><span class="tocnumber">1.4.1</span> <span class="toctext">Type and Scope</span></a></li>
<li class="toclevel-3"><a href="#Adding_and_Removing_4"><span class="tocnumber">1.4.2</span> <span class="toctext">Adding and Removing</span></a></li>
<li class="toclevel-3"><a href="#Navigating_4"><span class="tocnumber">1.4.3</span> <span class="toctext">Navigating</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Mutator_List"><span class="tocnumber">1.5</span> <span class="toctext">Mutator List</span></a>
<ul>
<li class="toclevel-3"><a href="#Type_and_Scope_5"><span class="tocnumber">1.5.1</span> <span class="toctext">Type and Scope</span></a></li>
<li class="toclevel-3"><a href="#Adding"><span class="tocnumber">1.5.2</span> <span class="toctext">Adding</span></a>
<ul>
<li class="toclevel-4"><a href="#Normal_Mutators"><span class="tocnumber">1.5.2.1</span> <span class="toctext">Normal Mutators</span></a></li>
<li class="toclevel-4"><a href="#Damage_Mutators"><span class="tocnumber">1.5.2.2</span> <span class="toctext">Damage Mutators</span></a></li>
<li class="toclevel-4"><a href="#Message_Mutators"><span class="tocnumber">1.5.2.3</span> <span class="toctext">Message Mutators</span></a></li>
<li class="toclevel-4"><a href="#HUD_Mutators_.3D"><span class="tocnumber">1.5.2.4</span> <span class="toctext">HUD Mutators =</span></a></li>
</ul>
</li>
<li class="toclevel-3"><a href="#Removing"><span class="tocnumber">1.5.3</span> <span class="toctext">Removing</span></a></li>
<li class="toclevel-3"><a href="#Navigating_5"><span class="tocnumber">1.5.4</span> <span class="toctext">Navigating</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Spawn_Notification_List"><span class="tocnumber">1.6</span> <span class="toctext">Spawn Notification List</span></a>
<ul>
<li class="toclevel-3"><a href="#Type_and_Scope_6"><span class="tocnumber">1.6.1</span> <span class="toctext">Type and Scope</span></a></li>
<li class="toclevel-3"><a href="#Adding_and_Removing_5"><span class="tocnumber">1.6.2</span> <span class="toctext">Adding and Removing</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="#Other_Cases_of_Linked_Lists"><span class="tocnumber">1.7</span> <span class="toctext">Other Cases of Linked Lists</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Related_Topics"><span class="tocnumber">2</span> <span class="toctext">Related Topics</span></a></li>
<li class="toclevel-1"><a href="#Discussion"><span class="tocnumber">3</span> <span class="toctext">Discussion</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Existing_Lists_in_Unreal_Tournament" id="Existing_Lists_in_Unreal_Tournament"></a></p>
<h2><span class="mw-headline">Existing Lists in Unreal Tournament</span></h2>
<p>This part of the tutorial explains existing <a href="../../../../articles/l/i/n/Legacy%7ELinked_List_d63f.html" title="Legacy:Linked List">linked lists</a> in Unreal Tournament.</p>
<p><a name="Actor_List" id="Actor_List"></a></p>
<h3><span class="mw-headline">Actor List</span></h3>
<p><a name="Type_and_Scope" id="Type_and_Scope"></a></p>
<h4><span class="mw-headline">Type and Scope</span></h4>
<p><b>Type:</b> All actors in Unreal are connected though a gigantic list (well it is actually a dynamic array, but to make life easier think of it as a list) that exists only in the native C++ code. Without this list, actors would be just plain old objects. The base of this "list" is actually the native level object (all actors have a pointer to this: Xlevel).</p>
<p><b>Scope:</b> Exists on both client and server. When a client "receives" an actor, it is added and when its connection is closed (except with <a href="../../../../articles/r/e/p/Legacy%7EReplication_1109.html" title="Legacy:Replication">bNetTemporary</a>), it is removed.</p>
<p><a name="Adding_and_Removing" id="Adding_and_Removing"></a></p>
<h4><span class="mw-headline">Adding and Removing</span></h4>
<p><b>Adding:</b> Spawning an actor automatically does this. It adds at the end of the list. Note that <a href="../../../../articles/l/e/v/Legacy%7ELevelInfo_a2a1.html" title="Legacy:LevelInfo">LevelInfo</a> is always the first actor.</p>
<p><b>Removing:</b> Destroying an actor automatically does this.</p>
<p><a name="Navigating" id="Navigating"></a></p>
<h4><span class="mw-headline">Navigating</span></h4>
<p>In the <a href="../../../../articles/a/c/t/Legacy%7EActor_5985.html" title="Legacy:Actor">Actor</a> class, various "iterators" exist. These allow you read the list in different ways. Simply use <code>ForEach Iterator_Function(params)</code> to use them. ForEach acts much like a For Loop.</p>
<dl>
<dt>AllActors ( class&lt;actor&gt; BaseClass, out actor Actor, optional name MatchTag )&#160;</dt>
<dd>BaseClass is the parent of classes you wish to look for. The actor pointer passed in the second parameter becomes the actor outputted. As the iterator functions are hard-coded into the compiler, you can have the actor pointer be of the BaseClass or any of its parents. Matchtag, if given, will only return actors, which have that tag. This will go through every actor in the level and is thus somewhat slow (this is not noticeable however unless it is called multiple times in one frame), and thus use it sparingly. If a more class specific list exists, such as that for pawns and navigation points (see below), use those instead. Note that if you wish to terminate the loop when a certain actor is returned, simply use <code>break;</code>.</dd>
</dl>
<dl>
<dt>ChildActors ( class&lt;actor&gt; BaseClass, out actor Actor )&#160;</dt>
<dd>The parameters work the same as AllActors'. However, this only returns actors with their owner set to the class this is run on. It has the same speed hit as AllActors.</dd>
</dl>
<dl>
<dt>BasedActors ( class&lt;actor&gt; BaseClass, out actor Actor )&#160;</dt>
<dd>Returns all actors that have this as a base. Same speed hit as AllActors.</dd>
</dl>
<dl>
<dt>TraceActors ( class&lt;actor&gt; BaseClass, out actor Actor, out vector HitLoc, out vector HitNorm, vector End, optional vector Start, optional vector Extent )&#160;</dt>
<dd>This is supposed to trace a line from Start to End and return all actors hit (executes as fast as a normal trace). However, this is not ever used by Epic in code and I recall of no one ever getting it to work right. I do not recommend using it.</dd>
</dl>
<dl>
<dt>RadiusActors ( class&lt;actor&gt; BaseClass, out actor Actor, float Radius, optional vector Loc )&#160;</dt>
<dd>This returns all actors that are within radius units of Loc (or if it isn't given; then the actor's location). Same speed hit as AllActors().</dd>
</dl>
<dl>
<dt>VisibleActors ( class&lt;actor&gt; BaseClass, out actor Actor, optional float Radius, optional vector Loc )&#160;</dt>
<dd>This is much like RadiusActors() only it also checks if an actor is visible from Loc. Same speed hit as AllActors.</dd>
</dl>
<dl>
<dt>VisibleCollidingActors ( class&lt;actor&gt; BaseClass, out actor Actor, optional float Radius, optional vector Loc, optional bool bIgnoreHidden )&#160;</dt>
<dd>This only returns actors with bCollideActors as true. It uses the collision hash to check, and thus it is much faster than Allactors, in normal circumstances. If a very high radius is used (900 or so), then it becomes very slow, and VisibleActors should be used instead.</dd>
</dl>
<dl>
<dt>ZoneInfo.ZoneActors( class&lt;actor&gt; BaseClass, out actor Actor )&#160;</dt>
<dd>Returns all actors inside that zone. Same speed hit as AllActors(). Go figure.</dd>
</dl>
<p><a name="Inventory_List" id="Inventory_List"></a></p>
<h3><span class="mw-headline">Inventory List</span></h3>
<p><a name="Type_and_Scope_2" id="Type_and_Scope_2"></a></p>
<h4><span class="mw-headline">Type and Scope</span></h4>
<p><b>Type:</b> Standard one way linked list. Notice how it is defined in actor, and not in inventory. This is designed so other actors (pawns) can have a link to the base, while keeping the same pointer name.</p>
<p><b>Scope:</b> Server. On the client side however, it will only exist for the player being controlled and within his inventory. Other player's will not have an inventory list. Note that in very rare events, replication can come at a weird order and cause the inventory pointer of one item to point to an older one in the list. Thus when using this list client-side, you should have a check so that no more than 100 or so loops occur (to avoid infinite iterators).</p>
<p><a name="Adding_and_Removing_2" id="Adding_and_Removing_2"></a></p>
<h4><span class="mw-headline">Adding and Removing</span></h4>
<p><b>Adding:</b> Call AddInventory() on the pawn you wish to add that inventory item to with that item in the parameters. It is then added to the beginning of the inventory list. This should only be done server-side. Note that inventory's GiveTo() automatically does this.</p>
<p><b>Removing:</b> Class DeleteInventory() on the pawn(owner) with the item you wish to delete in the parameters. Again, this should only be performed server-side. When an inventory item is destroyed, this automatically occurs (see Inventory.Destroyed()).</p>
<p><a name="Navigating_2" id="Navigating_2"></a></p>
<h4><span class="mw-headline">Navigating</span></h4>
<p>If you are only searching for one item of a certain class (not child classes!), you can simply call FindInventoryType on the pawn who owns the items. Yet to search through the entire list do the following:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">Local</span> Inventory Inv;
<span class="kw1">For</span> <span class="br0">(</span>Inv=somepawn.<span class="me1">Inventory</span>;Inv!=<span class="kw9">none</span>;Inv=Inv.<span class="me1">Inventory</span><span class="br0">)</span>
  <span class="co1">//do stuff here</span>
</pre></div>
<p><a name="Pawn_List" id="Pawn_List"></a></p>
<h3><span class="mw-headline">Pawn List</span></h3>
<p>This list is the reason I am writing this tutorial. I tire of seeing code that uses ForEach AllActors(class'pawn',p), when there is a much faster way this can be done.</p>
<p><a name="Type_and_Scope_3" id="Type_and_Scope_3"></a></p>
<h4><span class="mw-headline">Type and Scope</span></h4>
<p><b>Type:</b> Native controlled standard one way list linked by LevelInfo.PawnList.</p>
<p><b>Scope:</b> Server Side only at BeginPlay() in gameinfo. Thus, on a client or in a mutator (post/pre)BeginPlay(), you need to stick with AllActors(class'pawn',p)</p>
<p><a name="Adding_and_Removing_3" id="Adding_and_Removing_3"></a></p>
<h4><span class="mw-headline">Adding and Removing</span></h4>
<p><b>Adding:</b> Simply call AddPawn() on the pawn. Note that pawn automatically does this in its PreBeginPlay() so you really do not need to worry about calling this. Adds to the end of the list.</p>
<p><b>Removing:</b> Call RemovePawn() on the pawn. This is automatically taken care of in Destroyed().</p>
<p><a name="Navigating_3" id="Navigating_3"></a></p>
<h4><span class="mw-headline">Navigating</span></h4>
<p>The list base is located in levelinfo. Simply call (in any actor):</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">Local</span> <a href="/Pawn"><span class="kw10">pawn</span></a> p;
<span class="kw1">For</span> <span class="br0">(</span>p=<span class="kw8">level</span>.<span class="me1">pawnlist</span>;p!=<span class="kw9">none</span>;p=p.<span class="me1">nextpawn</span><span class="br0">)</span>
  <span class="co1">//do stuff</span>
</pre></div>
<p><a name="Navigation_Point_List" id="Navigation_Point_List"></a></p>
<h3><span class="mw-headline">Navigation Point List</span></h3>
<p><a name="Type_and_Scope_4" id="Type_and_Scope_4"></a></p>
<h4><span class="mw-headline">Type and Scope</span></h4>
<p><b>Type:</b> Constant standard one way list linked by LevelInfo.NavigationPointList.</p>
<p><b>Scope:</b> Server-side only.</p>
<p><a name="Adding_and_Removing_4" id="Adding_and_Removing_4"></a></p>
<h4><span class="mw-headline">Adding and Removing</span></h4>
<p>Cannot be done. The list is generated upon building the paths in UnrealEd.</p>
<p><a name="Navigating_4" id="Navigating_4"></a></p>
<h4><span class="mw-headline">Navigating</span></h4>
<p>Most likely you will use the navigation point list to find path nodes (a simple navpoint added by level authors). This allows you to spawn actors at many different locations in the map, and still have bots touch them. For instance, the relics mutator searches the Navigation Point list for pathnodes. Relics are then spawned at a random node. Like the pawn list, the base is in LevelInfo.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">Local</span> NavigationPoint np;
<span class="kw1">For</span> <span class="br0">(</span>np=<span class="kw8">level</span>.<span class="me1">NavigationPointList</span>;np!=<span class="kw9">none</span>;np=np.<span class="me1">nextnavigationpoint</span><span class="br0">)</span>
  <span class="co1">//do stuff</span>
</pre></div>
<p>Note that many other lists exist within navigation point. They are all used exclusively for AI navigation. Unless your name is Pfhoenix, they have no meaning.</p>
<p><a name="Mutator_List" id="Mutator_List"></a></p>
<h3><span class="mw-headline">Mutator List</span></h3>
<p>The introduction of mutators in Unreal 2.24 was one of the best things ever done for mod makers. What makes mutators so powerful? The fact that they are linked lists. This allows many different mods to be run at once and change many different game elements.</p>
<p>There are in fact 4 mutator lists in Unreal Tournament; the primary mutator list, damage mutators that only affect (Mutator)TakeDamage calls, message mutators that only affect messages (BroadCast, BroadCastLocalized, and player's talking), and finally HUD mutators that allow mutators to draw on the HUD.</p>
<p><a name="Type_and_Scope_5" id="Type_and_Scope_5"></a></p>
<h4><span class="mw-headline">Type and Scope</span></h4>
<p><b>Type:</b> All are standard one-way linked lists. HUD mutators are linked to by a HUD, and all others are linked by the GameInfo.</p>
<p><b>Scope:</b> Mutators normally (default) only exist server-side. However, the HUD mutators must be on the client (see below).</p>
<p><a name="Adding" id="Adding"></a></p>
<h4><span class="mw-headline">Adding</span></h4>
<p><a name="Normal_Mutators" id="Normal_Mutators"></a></p>
<h5><span class="mw-headline">Normal Mutators</span></h5>
<p>When a user selects start, UT opens a map with a special parameter:</p>
<pre>
 ?mutator=MutatorPackage.MutatorClass,AnotherMutatorPackage.AnotherMutatorClass
</pre>
<p>The GameInfo's InitGame() is called when it is first spawned. First the base mutator (generally DMMutator) is spawned. From there the mutator options are parsed (this tutorial is not about string manipulation and Unreal URLs!), the mutator class dynamically loaded, then spawned, then finally added to the list:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw7">log</span><span class="br0">(</span><span class="st0">"Add mutator "</span>$LeftOpt<span class="br0">)</span>;
MClass = class&lt;Mutator&gt;<span class="br0">(</span><span class="kw7">DynamicLoadObject</span><span class="br0">(</span>LeftOpt, <span class="kw5">class</span><span class="st0">'Class'</span><span class="br0">)</span><span class="br0">)</span>; 
BaseMutator.<span class="me1">AddMutator</span><span class="br0">(</span>Spawn<span class="br0">(</span>MClass<span class="br0">)</span><span class="br0">)</span>;
</pre></div>
<p>AddMutator() adds to the end of the list with the "1337 function" method described earlier in this tutorial. Now the mutator list is ready to receive notification of actor spawning, mutate commands, player respawnings, death notifications, and all those other wonderful events mutators receive from pawns and, more commonly, the gameinfo.</p>
<p><a name="Damage_Mutators" id="Damage_Mutators"></a></p>
<h5><span class="mw-headline">Damage Mutators</span></h5>
<p>To make a mutator be used as a damage mutator (it still has normal mutator functions!), simply call Level.Game.RegisterDamageMutator(MutatorToBeRegistered). The mutator will now receive notification whenever a pawn takes damage and can modify certain values.</p>
<p><a name="Message_Mutators" id="Message_Mutators"></a></p>
<h5><span class="mw-headline">Message Mutators</span></h5>
<p>This is another specialized mutator, not unlike a damage mutator. Simply call Level.Game.RegisterMessageMutator(MutatorToBeRegistered) to be able to edit all of the wonderful messages. Incidentally, message mutators did not exist until UT version 4.13. They were created simply for support of Rocket Arena. They have also been beneficial in stopping message hacking.&#160;:p</p>
<p><a name="HUD_Mutators_.3D" id="HUD_Mutators_.3D"></a></p>
<h5><span class="mw-headline">HUD Mutators =</span></h5>
<p>I cannot even count the amount of times people have asked why their HUD mutator will not work in network play. What is the reason for this problem? It is quite simple; mutators exist only on the server, yet HUDs are client-side only. Epic's code makes it appear that you can simply call RegisterHUDMutator, which is untrue. The following is one way of adding a HUD mutator on the client:</p>
<p><b>Step 1:</b> In the default properties of your mutator, place the following:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
bAlwaysRelevant=<span class="kw9">True</span>
bNetTemporary=<span class="kw9">True</span>
<span class="kw8">RemoteRole</span>=<span class="kw9">ROLE_SimulatedProxy</span>
</pre></div>
<p>These values cause the mutator to be replicated to all clients, but the connection only stays open until the client has received the mutator. The mutator must also be a Simulated Proxy on the client for step 2 to work.</p>
<p><b>Step 2:</b> Now add the following code to your mutator:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw6">Simulated</span> <span class="kw5">Function</span> <span class="kw8">Tick</span><span class="br0">(</span><span class="kw4">float</span> delta<span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw1">If</span> <span class="br0">(</span><span class="kw8">Level</span>.<span class="kw8">NetMode</span> == <span class="kw9">NM_DedicatedServer</span> || bHUDMutator<span class="br0">)</span>
    <span class="kw7">Disable</span><span class="br0">(</span><span class="st0">'Tick'</span><span class="br0">)</span>;
  <span class="kw1">Else</span>
    RegisterHUDMutator<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
<p>Each frame, RegisterHUDMutator() is called. If it finds a PlayerPawn with a HUD (local player!), it will set that HUD's HUDMutator to this mutator (as well as preserve the list) and set bHUDMutator to true. If the mutator has already been registered or this is a dedicated server (no HUDs!), then tick () can be safely disabled.</p>
<p>On a final note, I ask that all mod makers who make use of HUD mutators to do the following: At the end of PostRender() in your HUD mutator, <i>please</i> add:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">If</span> <span class="br0">(</span>NextHUDMutator != <span class="kw9">None</span><span class="br0">)</span>
  NextHUDMutator.<span class="me1">PostRender</span><span class="br0">(</span>Canvas<span class="br0">)</span>;
</pre></div>
<p>For some dumb reason, Epic did not add that support to begin with. Without those lines, your mutator will be the only HUD mutator used. Other HUD mutators will not receive PostRender() calls, and thus not be able to display anything on screen.</p>
<p><a name="Removing" id="Removing"></a></p>
<h4><span class="mw-headline">Removing</span></h4>
<p>No specialized functions exist to remove elements from mutator lists. Simply follow the removal model at the beginning of this tutorial.</p>
<p><a name="Navigating_5" id="Navigating_5"></a></p>
<h4><span class="mw-headline">Navigating</span></h4>
<p>Rarely will you ever need to iterate through the mutator list. All functions of mutators simply call that same function on the next mutator, returning a result if necessary. Yet if you wish to go through all mutators simply use:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">Local</span> <a href="/Mutator"><span class="kw10">mutator</span></a> m;
<span class="kw1">For</span> <span class="br0">(</span>m = ListStart; m != <span class="kw9">None</span>; m = m.<span class="me1">ListNext</span><span class="br0">)</span>
  <span class="co1">//do stuff</span>
</pre></div>
<p>Replace <code>ListStart</code> and <code>ListNext</code> as follows:</p>
<table>
<tr>
<td><b>Mutator Type</b></td>
<td><b>ListStart</b></td>
<td><b>ListNext</b></td>
</tr>
<tr>
<td>Normal</td>
<td><code>Level.Game.BaseMutator</code></td>
<td><code>NextMutator</code></td>
</tr>
<tr>
<td>Damage</td>
<td><code>Level.Game.DamageMutator</code></td>
<td><code>NextDamageMutator</code></td>
</tr>
<tr>
<td>Message</td>
<td><code>Level.Game.MessageMutator</code></td>
<td><code>NextMessageMutator</code></td>
</tr>
<tr>
<td>HUD</td>
<td><code>MyPlayerPawn.myHUD.HUDMutator</code></td>
<td><code>NextHUDMutator</code></td>
</tr>
</table>
<p><a name="Spawn_Notification_List" id="Spawn_Notification_List"></a></p>
<h3><span class="mw-headline">Spawn Notification List</span></h3>
<p>This is a list of very powerful actors; SpawnNotifies. For more information read <a href="http://unreal.epicgames.com/UTMagic.html" class="external free" title="http://unreal.epicgames.com/UTMagic.html" rel="nofollow">http://unreal.epicgames.com/UTMagic.html</a>. Whenever an actor is spawned/received on a client, native code calls SpawnNotification(actor) on the LevelInfo.SpawnNotify.</p>
<p><a name="Type_and_Scope_6" id="Type_and_Scope_6"></a></p>
<h4><span class="mw-headline">Type and Scope</span></h4>
<p><b>Type:</b> Standard one-way list linked by LevelInfo.SpawnNotify.</p>
<p><b>Scope:</b> Server and client-side. Note however that SpawnNotifies manually add themselves on both server and client, rather than having the list replicated, as is the case with inventory.</p>
<p><a name="Adding_and_Removing_5" id="Adding_and_Removing_5"></a></p>
<h4><span class="mw-headline">Adding and Removing</span></h4>
<p><b>Adding:</b> SpawnNotify.PostBeginPlay() automatically adds to the beginning of the list.</p>
<p><b>Removing:</b> SpawnNotify.Destroyed() automatically removes that SpawnNotify. Feel free to call Destroyed() yourself to remove a SpawnNotify from a list, for this does not actually destroy the actor.</p>
<p><b>Note:</b> The entire spawn notification system can be temporary deactivated as follows:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">Local</span> SpawnNotify Sn;
Sn=<span class="kw8">level</span>.<span class="me1">SpawnNotify</span>;
<span class="kw8">Level</span>.<span class="me1">SpawnNotify</span>=<span class="kw9">None</span>;
<span class="co1">//do stuff here without worrying about Spawn Notifies.</span>
<span class="kw8">Level</span>.<span class="me1">SpawnNotify</span>=Sn;
</pre></div>
<p><a name="Other_Cases_of_Linked_Lists" id="Other_Cases_of_Linked_Lists"></a></p>
<h3><span class="mw-headline">Other Cases of Linked Lists</span></h3>
<dl>
<dt>InterpolationPoint&#160;</dt>
<dd>Uses a two-way list for interpolation of player locations and other properties between each point. While the list is created in unrealscript, that is as far as unrealscript handles it. Everything else is handled by native code.</dd>
</dl>
<dl>
<dt>Pbolt&#160;</dt>
<dd>Uses a standard one-way list that you will probably never need to touch. The plasma beam you see when alt firing the Pulse Gun is actually a linked list of Pbolt's. Unfortunately, the system wasn't written in the best way possible. Ideally, there should be a pointer to the StarterBolt in all beams. Variables only important to the beam as a whole (AccumulatedDamage, LastHitTime) are controlled in each beam, rather than only the list base. Thus when beams are destroyed, some of those values are lost, resulting in odd damage patterns.</dd>
</dl>
<dl>
<dt>Mover&#160;</dt>
<dd>Uses a one-way linked list that also has a pointer to the base. This is used for movers that follow other movers. Feel free to explore this code on your own.</dd>
</dl>
<dl>
<dt>Actor.Deleted&#160;</dt>
<dd>A list of actors that have been deleted and are awaiting garbage collection. This occurs when 128 actors are in the list. This is only used in Epic's native C++ code.</dd>
</dl>
<dl>
<dt>SavedMove&#160;</dt>
<dd>For player movement in a network environment, the client must save old moves to be sent later (to avoid overflowing the network and in cases of packet loss). The actual list is the standard one-way one, which carries move information. A playerpawn has pointers to the SavedMoves (the beginning of the SaveMove list), FreeMoves (a move that is "free"), and PendingMove (the next move to be sent to the server). Yet, this is a tutorial on lists, not something else. Study the SavedMove class and PlayerPawn.ReplicateMove() to learn more.</dd>
</dl>
<dl>
<dt>Menu.ParentMenu&#160;</dt>
<dd>This is simply a pointer to the previous green menu that showed. These "green menus" were used in Unreal I only. There is little need to understand how they work if you script in UT.</dd>
</dl>
<dl>
<dt>ListElement&#160;</dt>
<dd>This is a two-way list that was set up for use with the WebAdmin. It is a quite powerful method of storing data.</dd>
</dl>
<dl>
<dt>UWindowList&#160;</dt>
<dd>This is a very advanced list, which stores various data for the uWindow system.</dd>
</dl>
<dl>
<dt>UWindowWindow&#160;</dt>
<dd>All the menus seen in UT are actually stored with this complex list system.</dd>
</dl>
<p><a name="Related_Topics" id="Related_Topics"></a></p>
<h2><span class="mw-headline">Related Topics</span></h2>
<ul>
<li><a href="../../../../articles/s/c/r/Legacy%7EScripting_Linked_Lists_06c2.html" title="Legacy:Scripting Linked Lists">Scripting Linked Lists</a></li>
</ul>
<p><a name="Discussion" id="Discussion"></a></p>
<h2><span class="mw-headline">Discussion</span></h2>
<p><b>Daid303:</b> How about a UT2003 version of this page?</p>
<p><b>Foxpaw:</b> UT2003 uses the same lists. New lists of items have mostly been implemented as dynamic arrays instead. There is also one new linked list to my knowledge, the inventory list of an actor.</p>
<p><b>Wormbo:</b> The linked list of Inventory actors was declared in <a href="../../../../articles/a/c/t/Legacy%7EActor_5985.html" title="Legacy:Actor">Actor</a> back in Unreal 1 v205 already.&#160;;) We should probably create a page for all <i>useful</i> lists (not only linked lists) both in UT and UT2003. Things like the list of deleted actors can hardly be called useful in everyday UnrealScript coding...</p>
<p><b>Daid303:</b> In UT2003 you also have the GUI, linked list? (didn't look) and controller ofcouse, is pawn still linked? And it would be nice to know what does and doesn't apply to UT2003. Oh, and how about a 'base' for linked list, 1 way, and 2 way. It would be alot easier of you could just copy a basic then work from that. I made a mistake in a 2 way linked list, and it took me quite a while to fix the remove function.</p>
<p><b>Wormbo:</b> The GUI stuff is a set of dynamic arrays in the <a href="../../../../articles/g/u/i/Legacy%7EGUIController_314e.html" title="Legacy:GUIController">GUIController</a>. Pawns aren't "listed" anymore, the Level.PawnList has been replaced by the Level.ControllerList.</p>
<p><b>Tarquin:</b> I've rearranged other pages on linked lists. What should be done with this one?</p>
<hr />
<p>Prev Page: Legacy:Linked List/What Are Linked Lists – <b>Section 2 of 2</b> – End of Document</p>

<!-- 
NewPP limit report
Preprocessor node count: 86/1000000
Post-expand include size: 17/2097152 bytes
Template argument size: 0/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/l/i/n/Legacy%7ELinked_List_Existing_Lists_In_Unreal_Tournament_3d86.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/l/i/n/Legacy_talk%7ELinked_List_Existing_Lists_In_Unreal_Tournament_0dba.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:Linked_List/Existing_Lists_In_Unreal_Tournament">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 19:56, 25 March 2008 by Anonymous user(s) of Unreal Wiki. Based on work by <a href="../../../../articles/t/a/r/User%7ETarquin_cdb6.html" title="User:Tarquin">tarquin</a>.</li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
