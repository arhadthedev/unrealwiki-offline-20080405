<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<!-- headlinks removed -->
	<link rel="shortcut icon" href="../../../../misc/uewiki-favicon.png"/>
    <title>Legacy:Flow Syntax - Unreal Wiki</title>
    <style type="text/css">/*<![CDATA[*/ @import "../../../../skins/offline/main.css"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/commonPrint.css" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE50Fixes.css";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "../../../../skins/monobook/IE55Fixes.css";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "../../../../skins/monobook/IE60Fixes.css";</style><![endif]-->
    <!--[if IE]><script type="text/javascript" src="../../../../skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->
    <script type="text/javascript" src="../../../../skins/common/wikibits.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/md5.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/utf8.js"></script>
    <script type="text/javascript" src="../../../../skins/offline/lookup.js"></script>
    <script type="text/javascript" src="../../../../articles/-/_/_/-.html"></script>        <style type="text/css">/*<![CDATA[*/
@import "../../../../articles/c/o/m/MediaWiki%7ECommon.css_d42e.html";
@import "../../../../articles/m/o/n/MediaWiki%7EMonobook.css_fb19.html";
@import "../../../../articles/-/_/_/-.html";
/*]]>*/</style>          </head>
  <body
    class="ns-100">
    <div id="globalWrapper">
      <div id="column-content">
	<div id="content">
	  <a name="top" id="contentTop"></a>
	        <h1 class="firstHeading">Legacy:Flow Syntax</h1>
	  <div id="bodyContent">
	    <h3 id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</h3>
	    <div id="contentSub"></div>
	    	    	    <!-- start content -->
	    <table id="toc" class="toc" summary="Contents">
<tr>
<td>
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1"><a href="#Basics"><span class="tocnumber">1</span> <span class="toctext">Basics</span></a></li>
<li class="toclevel-1"><a href="#Special_Flow_Commands"><span class="tocnumber">2</span> <span class="toctext">Special Flow Commands</span></a>
<ul>
<li class="toclevel-2"><a href="#Return_expression"><span class="tocnumber">2.1</span> <span class="toctext">Return expression</span></a></li>
<li class="toclevel-2"><a href="#Break"><span class="tocnumber">2.2</span> <span class="toctext">Break</span></a></li>
<li class="toclevel-2"><a href="#Continue"><span class="tocnumber">2.3</span> <span class="toctext">Continue</span></a></li>
<li class="toclevel-2"><a href="#Stop"><span class="tocnumber">2.4</span> <span class="toctext">Stop</span></a></li>
<li class="toclevel-2"><a href="#Assert_.28expression.29"><span class="tocnumber">2.5</span> <span class="toctext">Assert (expression)</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#GoTo_.28label.29"><span class="tocnumber">3</span> <span class="toctext">GoTo (label)</span></a></li>
<li class="toclevel-1"><a href="#If_Statements"><span class="tocnumber">4</span> <span class="toctext">If Statements</span></a></li>
<li class="toclevel-1"><a href="#Switch_Statements"><span class="tocnumber">5</span> <span class="toctext">Switch Statements</span></a></li>
<li class="toclevel-1"><a href="#While_Loops"><span class="tocnumber">6</span> <span class="toctext">While Loops</span></a></li>
<li class="toclevel-1"><a href="#For_Loops"><span class="tocnumber">7</span> <span class="toctext">For Loops</span></a></li>
<li class="toclevel-1"><a href="#Do...Until_Loops"><span class="tocnumber">8</span> <span class="toctext">Do...Until Loops</span></a></li>
<li class="toclevel-1"><a href="#ForEach_Loops"><span class="tocnumber">9</span> <span class="toctext">ForEach Loops</span></a></li>
<li class="toclevel-1"><a href="#Discussion"><span class="tocnumber">10</span> <span class="toctext">Discussion</span></a></li>
<li class="toclevel-1"><a href="#Related_Topics"><span class="tocnumber">11</span> <span class="toctext">Related Topics</span></a></li>
</ul>
</td>
</tr>
</table>
<script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script>
<p><a name="Basics" id="Basics"></a></p>
<h2><span class="mw-headline">Basics</span></h2>
<p>There are two basic flow control functions in <a href="../../../../articles/u/n/r/Legacy%7EUnrealScript_a9c5.html" title="Legacy:UnrealScript">UnrealScript</a>, <i>GoTo</i> and <i>If...Else</i>.</p>
<p>Any other functions and loops described here (except <i>ForEach</i>) could be replaced by combinations of these two functions (In fact, that happens in UnrealScript byte code for <i>While</i>, <i>For</i> and <i>Do...Until</i> loops.), but it's considered bad coding practise to actually do so.</p>
<p>If a loop, <i>If</i> or <i>Else</i> contains only one line of code the <b>{ }</b> are optional. A single loop, <i>If</i> or <i>Switch</i> statement is treated as one command in this context.</p>
<p>Example:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">If</span> <span class="br0">(</span> bExecute <span class="br0">)</span>
    <span class="kw1">For</span> <span class="br0">(</span>i = <span class="nu0">0</span>; i &lt; <span class="nu0">5</span>; i++<span class="br0">)</span> <span class="br0">{</span>
        a += i;
        b *= i;
    <span class="br0">}</span>
</pre></div>
<p><b>Note:</b> Due to a compiler bug it is not possible to use a loop (<tt>for</tt>, <tt>while</tt>, ...) as the statement in a simple <tt>else</tt> statement.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">if</span> <span class="br0">(</span>foo<span class="br0">)</span>
  bar<span class="br0">(</span><span class="br0">)</span>;
<span class="kw1">else</span> <span class="co1">// Doesn't work, compiler error!</span>
  <span class="kw1">for</span> <span class="br0">(</span>i = <span class="nu0">0</span>; i &lt; <span class="nu0">10</span>; i++<span class="br0">)</span> <span class="br0">{</span>
    blargh<span class="br0">(</span>i<span class="br0">)</span>;
  <span class="br0">}</span>
</pre></div>
<p>You have to use a "block-else" instead, i.e.:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">if</span> <span class="br0">(</span>foo<span class="br0">)</span>
  bar<span class="br0">(</span><span class="br0">)</span>;
<span class="kw1">else</span> <span class="br0">{</span> <span class="co1">// Actually the same thing, but works!</span>
  <span class="kw1">for</span> <span class="br0">(</span>i = <span class="nu0">0</span>; i &lt; <span class="nu0">10</span>; i++<span class="br0">)</span> <span class="br0">{</span>
    blargh<span class="br0">(</span>i<span class="br0">)</span>;
  <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
<p>Stand-alone blocks, i.e. statements grouped in <b>{ }</b>, are not allowed in UnrealScript.</p>
<p><a name="Special_Flow_Commands" id="Special_Flow_Commands"></a></p>
<h2><span class="mw-headline">Special Flow Commands</span></h2>
<p><a name="Return_expression" id="Return_expression"></a></p>
<h3><span class="mw-headline">Return <i>expression</i></span></h3>
<p>The <i>return</i> keyword terminates execution of the function in which it appears and returns control (and the value of <i>expression</i> if given) to the calling function or state.</p>
<p>If the function returns a certain type of value the return value has to be specified in the <i>return</i> command. If a function with a return value ends without <i>return</i> it will return a null value for its data type. (e.g. <code>0</code>, empty string, <code>None</code>, etc.)</p>
<p><a name="Break" id="Break"></a></p>
<h3><span class="mw-headline">Break</span></h3>
<p>The <i>break</i> keyword terminates the smallest enclosing <i>do</i>, <i>for</i>, <i>foreach</i>, <i>switch</i> or <i>while</i> statement in which it appears. Code execution continues with the next line of code after the loop.</p>
<p>Example:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">for</span> <span class="br0">(</span> Inv=<a href="/Pawn"><span class="kw10">Pawn</span></a>.<span class="me1">Inventory</span>; Inv!=<span class="kw9">None</span>; Inv=Inv.<span class="me1">Inventory</span> <span class="br0">)</span> <span class="co1">//Iterating through the inventory list</span>
<span class="br0">{</span>
      <span class="kw1">if</span><span class="br0">(</span> Inv != <span class="kw9">None</span> &amp;&amp; Inv.<span class="me1">InventoryGroup</span> == <span class="nu0">1</span><span class="br0">)</span> <span class="co1">//If there is an inventory item in Group 1 then...</span>
      <span class="br0">{</span>
         <span class="co1">//Destroy that item.  That item will become 'None' after that, and will</span>
         <span class="co1">//Magically create an 'Accessed None' Error</span>
         Inv.<span class="me1">Destroy</span><span class="br0">(</span><span class="br0">)</span>;
         <span class="kw1">break</span>;  <span class="co1">//To crush that Accessed none error, you must 'break'</span>
      <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
<p>Unlike some other languages (e.g. Java or Perl) UnrealScript does <b>not</b> support the <tt>break <i>label</i>;</tt> syntax to break the loop with the specified label.</p>
<p><a name="Continue" id="Continue"></a></p>
<h3><span class="mw-headline">Continue</span></h3>
<p>The continue keyword passes control to the next iteration of the smallest enclosing <i>do</i>, <i>for</i>, <i>foreach</i> or <i>while</i> statement in which it appears.</p>
<p>Example:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">While</span> <span class="br0">(</span>i &lt; <span class="nu0">10</span><span class="br0">)</span> <span class="br0">{</span>
    <span class="kw1">if</span> <span class="br0">(</span> i % <span class="nu0">2</span> == <span class="nu0">0</span> <span class="br0">)</span>
        <span class="kw1">Continue</span>;
    <span class="kw7">log</span><span class="br0">(</span>i<span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
<p>Unlike some other languages (e.g. Java or Perl) UnrealScript does <b>not</b> support the <tt>continue <i>label</i>;</tt> syntax to skip to the next iteration of the loop with the specified label.</p>
<p><a name="Stop" id="Stop"></a></p>
<h3><span class="mw-headline">Stop</span></h3>
<p>Imediately stops execution of <a href="../../../../articles/s/t/a/Legacy%7EState_e093.html" title="Legacy:State">State</a> code. This is like the <i>return</i> command for states.</p>
<p><a name="Assert_.28expression.29" id="Assert_.28expression.29"></a></p>
<h3><span class="mw-headline">Assert (<i>expression</i>)</span></h3>
<p>If the expression passed to <i>Assert</i> evaluates to <tt>False</tt>, the game shuts down with an error message telling you the file (class) and the line the <i>Assert</i> call is in.</p>
<p>Example:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">Assert</span><span class="br0">(</span>numPlayers &gt; <span class="nu0">0</span><span class="br0">)</span>;
</pre></div>
<p><a name="GoTo_.28label.29" id="GoTo_.28label.29"></a></p>
<h2><span class="mw-headline">GoTo (<i>label</i>)</span></h2>
<p>Continues code execution at the specified label. <i>GoTo</i> is mainly used in state code, but is also allowed within functions, although it is rarely used there. For state flow there's also GotoState( Statename, label): see <a href="../../../../articles/s/t/a/Legacy%7EState_e093.html" title="Legacy:State">state</a> for more on this.</p>
<p>Syntax:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">GoTo</span><span class="br0">(</span><span class="st0">'label'</span><span class="br0">)</span>;
</pre></div>
<p>Example:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw5">State</span> Idle
<span class="br0">{</span>
Begin:
    PlayIdleAnim<span class="br0">(</span><span class="br0">)</span>;
    FinishAnim<span class="br0">(</span><span class="br0">)</span>;
    Sleep<span class="br0">(</span><span class="nu0">0.5</span><span class="br0">)</span>;
    <span class="kw1">GoTo</span><span class="br0">(</span><span class="st0">'Begin'</span><span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
<p>In UT2004 case the goto syntax varies. In function code the parentheses are invalid, apostrophes are optional. In state code the parentheses are optional, apostrophes are required. Therefore the syntax that's valid in both types of code is:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">GoTo</span> <span class="st0">'label'</span>;
</pre></div>
<p><a name="If_Statements" id="If_Statements"></a></p>
<h2><span class="mw-headline">If Statements</span></h2>
<p><i>If</i> statements execute some code if a certain condition is true. The optional <i>Else</i> part executes some other code if the condition is false. Multiple <i>If...Else</i> statements can be combined to create <i>If...ElseIf...Else</i> statements.</p>
<p>Syntax:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="co1">// single line if:</span>
<span class="kw1">if</span> <span class="br0">(</span> condition <span class="br0">)</span>
   <span class="co1">// statement</span>
 
<span class="co1">// simple block if:</span>
<span class="kw1">if</span> <span class="br0">(</span> condition <span class="br0">)</span> <span class="br0">{</span>
   ...
<span class="br0">}</span>
<span class="co1">// if...else:</span>
<span class="kw1">if</span> <span class="br0">(</span> condition <span class="br0">)</span> <span class="br0">{</span>
   ...
<span class="br0">}</span>
<span class="kw1">else</span> <span class="br0">{</span>
   ...
<span class="br0">}</span>
</pre></div>
<p>Example:</p>
<p>(The second <i>If</i> is the command executed if the first condition is false.)</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">If</span> <span class="br0">(</span> <a href="/Pawn"><span class="kw10">Pawn</span></a><span class="br0">(</span>Owner<span class="br0">)</span> != <span class="kw9">None</span> &amp;&amp; <a href="/Pawn"><span class="kw10">Pawn</span></a><span class="br0">(</span>Owner<span class="br0">)</span>.<span class="me1">bIsPlayer</span> <span class="br0">)</span> <span class="br0">{</span>
    <span class="kw7">log</span><span class="br0">(</span><a href="/Pawn"><span class="kw10">Pawn</span></a><span class="br0">(</span>Owner<span class="br0">)</span>.<span class="me1">PlayerReplicationInfo</span>.<span class="me1">PlayerName</span><span class="br0">)</span>;
    <a href="/Pawn"><span class="kw10">Pawn</span></a><span class="br0">(</span>Owner<span class="br0">)</span>.<span class="me1">PlayerReplicationInfo</span>.<span class="me1">Score</span> += <span class="nu0">2</span>;
<span class="br0">}</span>
<span class="kw1">Else</span> <span class="kw1">If</span> <span class="br0">(</span> <a href="/Pawn"><span class="kw10">Pawn</span></a><span class="br0">(</span>Owner<span class="br0">)</span> != <span class="kw9">None</span> <span class="br0">)</span>
    Owner.<span class="me1">Destroy</span><span class="br0">(</span><span class="br0">)</span>;
<span class="kw1">Else</span>
    <span class="kw7">log</span><span class="br0">(</span><span class="st0">"No Pawn."</span><span class="br0">)</span>;
</pre></div>
<p><a name="Switch_Statements" id="Switch_Statements"></a></p>
<h2><span class="mw-headline">Switch Statements</span></h2>
<p><i>Switch</i> statements can be used to check if a certain expression is set to one of several values.</p>
<p>Syntax:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">Switch</span> <span class="br0">(</span> expression <span class="br0">)</span> <span class="br0">{</span>
<span class="kw1">Case</span> value1:
    ...
    <span class="kw1">break</span>;
<span class="kw1">Case</span> value2:
<span class="kw1">Case</span> value3:
    ...
    <span class="kw1">break</span>;
<span class="kw1">Default</span>:
    ...
    <span class="kw1">break</span>;
<span class="br0">}</span>
</pre></div>
<p>In this example a variable <i>i</i> is checked. If its value is 1 the DoSomething function is called and code execution continues below the <i>Switch</i> statement. If its value is 2 or 3 both DoSomethingElse and DoSomethingMore are called and the current function is canceled (due to the <i>return</i> command). If the value of <i>i</i> is 4 only the DoSomethingMore function is called and the current function is canceled. If <i>i</i> has a different value the DoNothingSpecial function is called and code execution continues below the <i>Switch</i> statement.</p>
<p>Note that without a break; or return; at the end of a case, execution will simply fall through to the next case's statements.</p>
<p>Example:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">Switch</span> <span class="br0">(</span>i<span class="br0">)</span> <span class="br0">{</span>
<span class="kw1">Case</span> <span class="nu0">1</span>:
    DoSomething<span class="br0">(</span><span class="br0">)</span>;
    <span class="kw1">break</span>;
<span class="kw1">Case</span> <span class="nu0">2</span>:
<span class="kw1">Case</span> <span class="nu0">3</span>:
    DoSomethingElse<span class="br0">(</span><span class="br0">)</span>;
<span class="kw1">Case</span> <span class="nu0">4</span>:
    DoSomethingMore<span class="br0">(</span><span class="br0">)</span>;
    <span class="kw1">return</span>;
<span class="kw1">Default</span>:
    DoNothingSpecial<span class="br0">(</span><span class="br0">)</span>;
    <span class="kw1">break</span>;
<span class="br0">}</span>
</pre></div>
<p><a name="While_Loops" id="While_Loops"></a></p>
<h2><span class="mw-headline">While Loops</span></h2>
<p><i>While</i> loops are executed as long as the condition stays true. If the condition is false before the loop starts, the whole <i>While</i> loop is not executed.</p>
<p>Syntax:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">While</span> <span class="br0">(</span> condition <span class="br0">)</span> <span class="br0">{</span>
    ...
<span class="br0">}</span>
</pre></div>
<p><b>Note:</b> Due to a compiler bug it is possible to append an <i>Until(...);</i> clause to a <i>While</i> loop, effectively turning it into a loop with two conditions â€“ one executed before and one after each iteration. Please don't use this "feature" though, it might be removed in the future.</p>
<p><a name="For_Loops" id="For_Loops"></a></p>
<h2><span class="mw-headline">For Loops</span></h2>
<p><i>For</i> loops can be used similar to <i>While</i> loops. The <i>InitialCommand</i> is executed before the first loop cycle starts, <i>LoopCondition</i> is checked before each (including the first) loop cycle and <i>UpdateCommand</i> is executed at the end of every loop cycle. The <i>For</i> loop is executed as long as the condition stays true, but it will not be executed at all if the condition initially is false.</p>
<p>Syntax:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">For</span> <span class="br0">(</span> InitialCommand; LoopCondition; UpdateCommand <span class="br0">)</span> <span class="br0">{</span>
    ...
<span class="br0">}</span>
</pre></div>
<p>Unlike other languages, UnrealScript does <b>not</b> accept multiple statements as <i>InitialCommand</i> or <i>UpdateCommand</i>. Additional initial commands must be added above the loop. Attempting to use multiple update commands can become very tricky if you want to use the <b>Continue</b> statement, but if you don't need <b>Continue</b> you can just add the additional update commands as the last statements of the <b>For</b> statement block.</p>
<p>Also unlike other languages, UnrealScript does not allow empty statements as <i>InitialCommand</i>, <i>LoopCondition</i> or <i>UpdateCommand</i>. Consider using a <b>While</b> loop instead if you don't need initial <i>InitialCommand</i> or <i>UpdateCommand</i>.</p>
<p><i>For</i> loops can be used to make simple loops with a counter or to iterate through a linked list.</p>
<p>Examples:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">For</span> <span class="br0">(</span>i = <span class="nu0">0</span>; i &lt; <span class="nu0">10</span>; i++<span class="br0">)</span> <span class="br0">{</span>
    ...
<span class="br0">}</span>
</pre></div>
<p>The above example will execute for i = 0, 1, ... 9. The endgame scenario is:</p>
<ul>
<li>execute loop for 9</li>
<li>increment i to 10</li>
<li>start from the top: check i and it fails the condition; so move on.</li>
</ul>
<p>The following example loops through all <a href="../../../../articles/p/a/w/Legacy%7EPawn_%28UT%29_69ef.html" title="Legacy:Pawn (UT)">Pawns</a> in the level: (works only server-side)</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">For</span> <span class="br0">(</span>P = <span class="kw8">Level</span>.<span class="me1">PawnList</span>; P != <span class="kw9">None</span>; P = P.<span class="me1">NextPawn</span><span class="br0">)</span> <span class="br0">{</span>
 
    ...
<span class="br0">}</span>
</pre></div>
<p>If you were to rewrite a For loop only with If and GoTo statements, it would probably look similar to this:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
InitialCommand;
beginloop:
<span class="kw1">if</span> <span class="br0">(</span>LoopCondition<span class="br0">)</span> <span class="br0">{</span>
 
  <span class="coMULTI">/* loop code block */</span>
 
continuetarget: <span class="co1">// this is where a 'continue' statement would jump to</span>
  UpdateCommand;
  <span class="kw1">goto</span> <span class="st0">'beginloop'</span>;
<span class="br0">}</span>
breaktarget: <span class="co1">// this is where a 'break' statement would jump to</span>
</pre></div>
<p><a name="Do...Until_Loops" id="Do...Until_Loops"></a></p>
<h2><span class="mw-headline">Do...Until Loops</span></h2>
<p><i>Do...Until</i> loops are always executed at least once. The loop stops if the condition becomes true.</p>
<p>Syntax:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">Do</span> <span class="br0">{</span>
    ...
<span class="br0">}</span> <span class="kw1">Until</span> <span class="br0">(</span> condition <span class="br0">)</span>;
</pre></div>
<p>Example:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">Do</span> <span class="br0">{</span>
    <span class="kw7">log</span><span class="br0">(</span>i<span class="br0">)</span>;
<span class="br0">}</span> <span class="kw1">Until</span> <span class="br0">(</span>i++ &gt; <span class="nu0">10</span><span class="br0">)</span>;
</pre></div>
<p><b>Note:</b> Due to a compiler bug you can leave out the <b>Until</b> clause, effectively turning this into an infinite loop. It is not recommended to use this "feature" since it will probably be fixed in the future, but if you do you will have to add a <b>Break</b> or <b>Return</b> somewhere in the loop.</p>
<p><a name="ForEach_Loops" id="ForEach_Loops"></a></p>
<h2><span class="mw-headline">ForEach Loops</span></h2>
<p><i>ForEach</i> uses an <a href="../../../../articles/i/t/e/Legacy%7EIterator_df22.html" title="Legacy:Iterator">iterator</a> function to loop through a list of actors.</p>
<p>Syntax:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">ForEach</span> IteratorFunction<span class="br0">(</span>BaseActorClass, IteratorVariable, IteratorParameters<span class="br0">)</span> <span class="br0">{</span>
    ...
<span class="br0">}</span>
</pre></div>
<p><i>IteratorFunction</i> must be a valid reference to a native function with the <code>iterator</code> <a href="../../../../articles/f/u/n/Legacy%7EFunction_Syntax_b3b7.html" title="Legacy:Function Syntax">specifier</a>.</p>
<p>The first example iterates through all HUD actors in the map.<br />
The second one iterates through all projectiles, which are in the same zone like the actor calling the <i>ForEach</i> loop.</p>
<p>Examples:</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">ForEach</span> AllActors<span class="br0">(</span><span class="kw5">class</span><span class="st0">'HUD'</span>, H<span class="br0">)</span> <span class="br0">{</span>
    ...
<span class="br0">}</span>
</pre></div>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">ForEach</span> Region.<span class="me1">Zone</span>.<span class="me1">ZoneActors</span><span class="br0">(</span><span class="kw5">class</span><span class="st0">'Projectile'</span>, P<span class="br0">)</span> <span class="br0">{</span>
    ...
<span class="br0">}</span>
</pre></div>
<p><b>Note:</b> If you access the iterator function through an object reference, make absolutely sure the reference is valid, becasue this is the only place where accessing <tt>None</tt> will not generate a warning but actually crash the game.</p>
<p>Another example for using <i>ForEach</i>:</p>
<p>RadiusActors - <i>argument 1</i> actors (stored in <i>argument 2</i> variable) which are in the <i>argument 3</i> radius of the calling actor.</p>
<div dir="ltr" style="text-align: left;" class="highlighted-source">
<pre class="source-uscript">
<span class="kw1">ForEach</span> RadiusActors<span class="br0">(</span><span class="kw5">class</span><span class="st0">'Projectile'</span>, P, <span class="nu0">128</span><span class="br0">)</span> <span class="br0">{</span>
    ...
<span class="br0">}</span>
</pre></div>
<p><a name="Discussion" id="Discussion"></a></p>
<h2><span class="mw-headline">Discussion</span></h2>
<p><b>EricBlade:</b> I've never seen the 'stop' keyword. Does that return the object to it's default state (auto state, or no state)? Or does it remain in that state, with no state code running?</p>
<p><b>Wormbo:</b> 'Stop' simply halts state code execution without changing states. There's actually an implicit 'Stop' after the last code statement in every state that contains state code.</p>
<p><b>Sweavo:</b> <a href="../../../../articles/u/n/r/Legacy%7EUnrealScript_Language_Reference_Program_Structure_be49.html" title="Legacy:UnrealScript Language Reference/Program Structure">UnrealScript Language Reference/Program Structure</a> covers much of this material and it much prettier. I'm inclined to remove the subjects from here that are covered there then see what's left and refocus the page...?</p>
<p><b>Wormbo:</b> <a href="../../../../articles/u/n/r/Legacy%7EUnrealScript_Language_Reference_cee2.html" title="Legacy:UnrealScript Language Reference">UnrealScript Language Reference</a> is only a copy of an Epic Games document that we are allowed to host here but not modify. This page here is our own description of these language constructs and it's much easier to link to from other pages.</p>
<p><b>Kartoshka:</b> Just before the "Special Flow Commands" section there is a partial sentence "Statement blocks of". Is that just something that got left in one edit, or left out? I have no idea if it was important anyway...</p>
<p><b>Wormbo:</b> I don't know what I wanted to write there. Removed it.</p>
<p><a name="Related_Topics" id="Related_Topics"></a></p>
<h2><span class="mw-headline">Related Topics</span></h2>
<ul>
<li><a href="../../../../articles/u/n/r/Legacy%7EUnrealScript_a9c5.html" title="Legacy:UnrealScript">UnrealScript</a>
<ul>
<li><a href="../../../../articles/s/p/e/Legacy%7ESpecial_UnrealScript_Keywords_f5d3.html" title="Legacy:Special UnrealScript Keywords">Special UnrealScript Keywords</a></li>
<li><a href="../../../../articles/i/t/e/Legacy%7EIterator_df22.html" title="Legacy:Iterator">Iterator</a></li>
<li><a href="../../../../articles/s/t/a/Legacy%7EState_e093.html" title="Legacy:State">State</a></li>
</ul>
</li>
<li><a href="../../../../articles/u/n/r/Legacy%7EUnrealScript_Language_Reference_Program_Structure_be49.html" title="Legacy:UnrealScript Language Reference/Program Structure">UnrealScript Language Reference/Program Structure</a></li>
</ul>

<!-- 
NewPP limit report
Preprocessor node count: 110/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
#ifexist count: 0/100
-->
<div class="printfooter">
</div>
	    	    <!-- end content -->
	    <div class="visualClear"></div>
	  </div>
	</div>
      </div>
      <div id="column-one">
	<div id="p-cactions" class="portlet">
	  <h5>Views</h5>
	  <ul>
	    <li id="ca-nstab-legacy"
	       class="selected"	       ><a href="../../../../articles/f/l/o/Legacy%7EFlow_Syntax_a7ce.html">Legacy</a></li><li id="ca-talk"
	       class="new"	       ><a href="../../../../articles/f/l/o/Legacy_talk%7EFlow_Syntax_657b.html">Discussion</a></li><li id="ca-current"
	       	       ><a href="http://wiki.beyondunreal.com/Legacy:Flow_Syntax">Current revision</a></li>	  </ul>
	</div>
	<div class="portlet" id="p-logo">
	  <a style="background-image: url(../../../../misc/uewiki.png);"
	    href="../../../../index.html"
	    title="Main Page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
		<div class='portlet' id='p-navigation'>
	  <h5>Navigation</h5>
	  <div class='pBody'>
	    <ul>
	    	      <li id="n-mainpage"><a href="../../../../index.html">Main Page</a></li>
	     	      <li id="n-portal"><a href="../../../../articles/c/o/m/Unreal_Wiki%7ECommunity_Portal_3311.html">Community portal</a></li>
	     	      <li id="n-help"><a href="../../../../articles/c/o/n/Help%7EContents_22de.html">Help</a></li>
	     	    </ul>
	  </div>
	</div>
		<div id="p-search" class="portlet">
	  <h5><label for="searchInput">Search</label></h5>
	  <div id="searchBody" class="pBody">
	    <form action="javascript:goToStatic(3)" id="searchform"><div>
	      <input id="searchInput" name="search" type="text"
	        accesskey="f" value="" />
	      <input type='submit' name="go" class="searchButton" id="searchGoButton"
	        value="Go" />
	    </div></form>
	  </div>
	</div>
	      </div><!-- end of the left (by default at least) column -->
      <div class="visualClear"></div>
      <div id="footer">
    <div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>	<div id="f-copyrightico"><a href="../../../../../COPYING.html"><img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" alt='Attribution-Noncommercial-Share Alike 3.0' /></a></div>	<ul id="f-list">
	  	  	  <li id="f-credits">This page was last modified 06:57, 18 July 2006 by Unreal Wiki user <a href="../../../../articles/w/o/r/User%7EWormbo_7d13.html" title="User:Wormbo">Wormbo</a>. Based on work by Anonymous user(s) of Unreal Wiki.</li>	  <li id="f-copyright">Licensed as <a href="../../../../articles/c/o/p/Unreal_Wiki%7ECopyrights_e561.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>	  <li id="f-about"><a href="../../../../articles/a/b/o/Unreal_Wiki%7EAbout_9ce6.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>	  <li id="f-disclaimer"><a href="../../../../articles/g/e/n/Unreal_Wiki%7EGeneral_disclaimer_a0a2.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>	  	</ul>
      </div>
    </div>
  </body>
</html>
